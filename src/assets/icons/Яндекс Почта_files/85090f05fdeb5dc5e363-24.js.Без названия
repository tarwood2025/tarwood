/*! For license information please see 85090f05fdeb5dc5e363-24.js.LICENSE */
webpackJsonp([24],Array(136).concat([function(e,t,r){"use strict";var n,i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FoldersDisabledMoveInto=t.ReplyLaterDisabledFolders=t.SenderInfoDisabledFolders=t.ThreadSidebarDisabledFolders=t.LabelDisabledFolders=t.ClearEnabledFolders=t.SpecialHelpFolders=t.SpecialBarFolders=t.DragSpecialFolders=t.AttachmentWidgetsExcludeFoldersMax=t.AttachmentWidgetsExcludeFoldersMedium=t.AttachmentWidgetsExcludeFoldersLite=t.ThreadsDisabledFolders=t.SearchDisabledFolders=t.FiltersDisabledFolders=t.SilentFolders=t.SpamDisabledFoldersShort=t.SpamDisabledFolders=t.PinDisabledExtendedFolders=t.PinDisabledFolders=t.QuickReplyDisabledFolders=t.ReplyDisabledFolders=t.OutcomingFolders=t.LOMDisabledFolders=t.UnsubscribeDisabledAltFolders=t.UnsubscribeDisabledFolders=t.RecipientsSpecialFolders=t.InternalFolders=t.NotIncoming=t.UnreadHiddenFoldersShort=t.UnreadHiddenFolders=t.DraftTemplateLikeFoldersShort=t.DraftLikeFoldersShort=t.DraftLikeFolders=t.HiddenWhenEmptyFolders=t.SystemFolders=t.WellKnownFolderSymbol=void 0,function(e){e.ARCHIVE="archive",e.DRAFT="draft",e.INBOX="inbox",e.OUTBOX="outbox",e.REPLY_LATER="reply_later",e.RESTORED="restored",e.SENT="sent",e.SPAM="spam",e.TEMPLATE="template",e.TRASH="trash"}(n=t.WellKnownFolderSymbol||(t.WellKnownFolderSymbol={})),t.SystemFolders=Object.values(n),t.HiddenWhenEmptyFolders=[n.OUTBOX,n.REPLY_LATER,n.RESTORED],t.DraftLikeFolders=[n.DRAFT,n.OUTBOX,n.TEMPLATE],t.DraftLikeFoldersShort=[n.DRAFT,n.OUTBOX],t.DraftTemplateLikeFoldersShort=[n.DRAFT,n.TEMPLATE],t.UnreadHiddenFolders=[n.SPAM,n.SENT,n.TRASH,n.DRAFT,n.TEMPLATE,n.OUTBOX],t.UnreadHiddenFoldersShort=[n.SPAM,n.TRASH],t.NotIncoming=[n.DRAFT,n.OUTBOX,n.SENT,n.SPAM,n.TRASH,n.TEMPLATE,n.ARCHIVE],t.InternalFolders=[n.DRAFT,n.OUTBOX,n.TEMPLATE,n.SENT],t.RecipientsSpecialFolders=[n.DRAFT,n.SENT],t.UnsubscribeDisabledFolders=[n.SENT,n.DRAFT,n.TEMPLATE],t.UnsubscribeDisabledAltFolders=[n.SENT,n.DRAFT,n.SPAM],t.LOMDisabledFolders=[n.TRASH,n.SPAM,n.DRAFT,n.TEMPLATE],t.OutcomingFolders=[n.SENT,n.OUTBOX],t.ReplyDisabledFolders=[n.SPAM,n.TRASH,n.DRAFT,n.SENT],t.QuickReplyDisabledFolders=[n.SPAM,n.TRASH,n.DRAFT],t.PinDisabledFolders=[n.SPAM,n.TRASH,n.REPLY_LATER],t.PinDisabledExtendedFolders=[n.TRASH,n.SPAM,n.REPLY_LATER,n.DRAFT,n.TEMPLATE],t.SpamDisabledFolders=[n.SPAM,n.DRAFT,n.OUTBOX,n.TEMPLATE,n.SENT],t.SpamDisabledFoldersShort=[n.DRAFT,n.TEMPLATE,n.SENT],t.SilentFolders=[n.DRAFT,n.OUTBOX,n.SENT,n.SPAM,n.TEMPLATE,n.TRASH,n.RESTORED],t.FiltersDisabledFolders=[n.OUTBOX,n.TRASH,n.RESTORED,n.REPLY_LATER],t.SearchDisabledFolders=[n.OUTBOX,n.SPAM],t.ThreadsDisabledFolders=[n.ARCHIVE,n.DRAFT,n.SPAM,n.TEMPLATE,n.TRASH],t.AttachmentWidgetsExcludeFoldersLite=[n.SPAM,n.TRASH],t.AttachmentWidgetsExcludeFoldersMedium=o(t.AttachmentWidgetsExcludeFoldersLite,[n.TEMPLATE]),t.AttachmentWidgetsExcludeFoldersMax=o(t.AttachmentWidgetsExcludeFoldersMedium,[n.DRAFT,n.SENT]),t.DragSpecialFolders=[n.SPAM,n.TRASH],t.SpecialBarFolders=[n.SPAM,n.TRASH,n.TEMPLATE],t.SpecialHelpFolders=[n.SPAM,n.TRASH],t.ClearEnabledFolders=[n.SPAM,n.TRASH],t.LabelDisabledFolders=[n.SPAM,n.TRASH],t.ThreadSidebarDisabledFolders=[n.SPAM,n.TRASH],t.SenderInfoDisabledFolders=[n.SPAM,n.TRASH],t.ReplyLaterDisabledFolders=[n.SPAM,n.TRASH,n.RESTORED],t.FoldersDisabledMoveInto=[n.REPLY_LATER,n.OUTBOX]},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerType=void 0,function(e){e.REPLY_LATER="reply_later"}(t.StickerType||(t.StickerType={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e){var t=e.keys().reduce(function(t,r){var n=e(r),i=n.viewBox.split(" ").slice(2),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(i,2),a=o[0],s=o[1],l=n.id.slice(0,-"-usage".length);return"".concat(t," .").concat(l," { width: ").concat(a,"px; height: ").concat(s,"px; }\n")},""),r=document.getElementById("icon-styles");if(!r)return;r.innerHTML+=t}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3047),i=(r.n(n),r(175)),o=r(3048),a=r(3049);Jane.module("mail.js",function(){r(3050),r(3051),r(3052),r(3056),r(3057),r(3058),r(3061),r(3062),r(3063),r(3064),r(3066),r(3067),r(3068),r(3069),r(3070),r(3071),r(3074),r(3075),r(3087),r(3088),r(3089),r(3090),r(3091),r(3092),r(3093),r(3094),r(3095),r(3100),r(3101),r(3102),r(3103),r(3110),r(3111),r(3112),r(3114),r(3115),r(3116),r(3173),r(3441),r(3620),r(3621),r(3623),r(3624),r(3628),r(3630),r(3631),r(3632),Daria.CompactMode=new o.a,Daria.MessagesLogger=new a.a,Object(i.a)(r(3877)),r(4412),ns.events.on("daria:vSetupOther:inboxattachs-changed",function(){ns.Model.invalidate("messages")})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isSharedMailboxes",function(){return a}),r.d(t,"isInSharedMailbox",function(){return s}),r.d(t,"isSharedMailboxesEnabled",function(){return l}),r.d(t,"addMailboxUidParamsRewrite",function(){return u}),r.d(t,"getMailboxSettingsModelName",function(){return c}),r.d(t,"getAddressInformationModelName",function(){return d});var n=r(28),i=r(337),o=(r.n(i),r(770));r.n(o);r.d(t,"getMailboxUid",function(){return n.a});var a=function(){return Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)},s=function(){return Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)&&Daria.router.getCurrentParams().mailboxUid},l=function(){return Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)&&ns.Model.get("settings").getSign("show_shared_mailboxes")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return""===e.mailboxUid&&(e.mailboxUid=null),"mailboxUid"in e?e:Object.assign({},e,{mailboxUid:Object(n.a)()})},c=function(e){return a()&&o.MailboxSettings[e]?"mailbox-settings":"settings"},d=function(){return a()?"address-information":"account-information"}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(478),u=(r.n(l),r(1618)),c=r.n(u),d=r(1081);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=e.split("/");if(1===t.length)throw new Error('Invalid key: "'.concat(e,'"'));return{keyset:t[0],loc:t.slice(1).join("/")}}var b=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=p(this,(e=m(t)).call.apply(e,[this].concat(i)))).renderChilds=function(e){var t=e.lang,n=r.props,i=n.loc?v(n.loc):{};i.lang=t;var a=Object.keys(n).reduce(function(e,r){switch(r){case"loc":return e;case"params":return Object.assign(i,n[r]),e;case"tag":case"children":return i[r]=n[r],e}if(/^loc-/.test(r)){var o=v(n[r]),a=r.slice(4);e[a]=Object(l.getKey)(t,o.keyset,o.loc,n["params-"+a])}else/^params-/.test(r)||(e[r]=n[r]);return e},{}),s=i.tag||"span";return i.loc?(Object.keys(a).length&&(i.tag=function(e){return o.a.createElement(s,a,e.children)}),c()(i)):o.a.createElement(s,a,n.children)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(t,[{key:"render",value:function(){return function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.a.Consumer,{},void 0,this.renderChilds)}}]),t}();b.contextType=d.a,b.propTypes={loc:s.a.string,params:s.a.object,children:s.a.node},t.default=b},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return Daria.now()},t.promoNow=function(){return Daria.promoNow()},t.promoNowDate=function(){return new Date(Daria.promoNow())},t.isDev=function(){return Daria.isDevEnv()},t.isPDD=function(){return Boolean(Daria.Config.pddDomain)},t.isB2BUser=function(){var e=ns.Model.get("account-information"),t=e&&e.getData();return Boolean(t&&t.isB2BUser)},t.isCorp=function(){return Daria.IS_CORP},t.isPriorityTab=function(){return Daria.isPriorityTab()},t.isParamsForSearch=function(e){return Daria.Page.isParamsForSearch(e)},t.areSettingsUnavailable=function(){return Daria.Config.NO_SETTINGS},t.getLocale=function(){return Daria.Config.locale},t.getTranslations=function(){return Daria.tanker},t.getSuid=function(){return Daria.suid},t.getYandexUid=function(){return Daria.Config.yandexuid},t.getCkey=function(){return Daria.ckey},t.setCkey=function(e){Daria.ckey=e},t.getUid=function(){return Daria.uid},t.getConnectionId=function(){return Daria.Config.connection_id},t.getConfig=function(){return Daria.Config},t.getUrlParams=function(){return Daria.urlParams},t.shouldShowCheckboxInsideUserpic=function(){return Daria.UISettings.shouldShowCheckboxInsideUserpic()},t.getKeyCodes=function(e){return e?Jane.Common.keyCode[e]:Jane.Common.keyCode},t.toggleSearchAppMode=function(e){Daria.toggleSearchAppMode(e)},t.toggleVerticalScrollBar=function(e){Daria.toggleVerticalScrollBar(e)},t.toggleAdvancedSearchAppMode=function(e){Daria.toggleAdvancedSearchAppMode(e)},t.toolbarRestruct=function(){ns.events.trigger("daria:vToolbarButton:restruct")},t.changeRightColumSize=function(){ns.events.atrigger("daria:vApp:changeRightColumSize")},t.logMetric=function(e){var t;return(t=Jane).c.apply(t,o(e))},t.logGroupedMetric=function(e){var t;return(t=Jane.Metrika).groupedCount.apply(t,o(e))},t.freezeShortcuts=function(){Daria.Shortcuts.freeze()},t.unfreezeShortcuts=function(){Daria.Shortcuts.unfreeze()},t.updatePageClasses=function(e){ns.Model.get("app-state").updatePageClasses(e)},t.runAction=function(e,t,r,n){return Daria.actions.run(e,t,r,n)},t.parseQuery=function(e){return Daria.parseQuery(e)},t.getRetpath=function(){return Daria.addParamsToLocation(null,null,!0,null)},t.emitSuggestOpened=function(e){ns.events.trigger("daria:suggest:open",e)},t.getYandexDomain=function(){return Daria.Config["yandex-domain"]},t.getFreshCount=function(){return ns.Model.get("user-dropdown-data").getSumOfFresh()},t.getFolderBySymbol=function(e){return ns.Model.get("folders").getFolderBySymbol(e)},t.hasProSubscription=function(){return Daria.Config.hasProSubscription},t.hasPlus=function(){return Daria.Config.haveYandexPlus},t.getDariaLocalStorage=function(){return Daria.LS},t.getLinkToMailPro=function(e){var t="".concat(n.linkYandex360,"?uid=").concat(Daria.uid);e&&(t+="&from=".concat(e));return t},t.getLinkToBeautifulEmail=function(){return"#setup/beautiful-email"},t.getLinkToSearchInDeleted=function(){return"#search?deleted=yes"},t.getLinkToTelemost=function(){return"".concat(Daria.Config["telemost-url"],"/?source=tab-mail")},t.hasSid=function(e){return Daria.hasSid(e)},t.getLinkToB2b=function(e){if("disk"===e)return"https://business.yandex.ru/disk/promo?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=disk";return"https://business.yandex.ru/mail?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=mail"},t.hasFixedToolbar=function(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))},t.is2Pane=function(){return Daria.is2pane()},t.is3Pane=function(){return Daria.is3pane()},t.is3pv=function(){return Daria.is3pv()},t.isMessageOpenedInList=function(){return Daria.isMessageOpenedInList()},t.getPaneLayoutType=function(){return Daria.Config.layout},t.isWorkspace=function(){return Daria.Config.isWS},t.setUpdateNeeded=function(e){Jane.Services.setUpdateNeeded(e)},t.getTld=function(){return Daria.Config.TLD},t.emitUnsubscribePopupShow=function(e){ns.events.trigger("daria:unsubscribe-popup:show",e)},t.openMessageViewer=function(e,t,r,n){Daria.ImageViewer.open("",e,t,r,n)},t.getCompactMode=function(){return Daria.CompactMode},t.getRegionAutocompleter=function(){return Daria.Autocompleter.getRegion()},t.getDiskSK=function(){return ns.Model.get("disk-editor-secret-key").get(".key")},t.hasDisk=function(){return Daria.Config.hasDisk&&!Daria.IS_CORP},t.getSocialavatarsUrl=function(){return Daria.Config.socialavatarsUrl},t.showInboxGPT=function(){return"ru"===Daria.Config.TLD&&Daria.is2pane()&&ns.Model.get("settings").isSet(i.Settings.MAIL_INBOXGPT_ALLOWED)};var n=r(477),i=r(396);r.n(i);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.i18nSafeText=function(e,t,r){try{return i(e,r)}catch(e){return t}};var n=r(478).getKey;function i(e,t){var r=!1,i=null;try{var o=e.indexOf("/");if(-1===o)r=!0;else{var a=e.substring(0,o),s=e.slice(o+1);i=n(Daria.locale,a,s,t)}}catch(e){r=!0}if(r)throw new Error('Invalid key: "'.concat(e,'"'));return i}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Features=t.getFeatureParams=t.hasFeature=void 0;var n=r(87);Object.defineProperty(t,"Features",{enumerable:!0,get:function(){return n.Features}});var i=r(14);Object.defineProperty(t,"hasFeature",{enumerable:!0,get:function(){return i.hasFeature}}),t.getFeatureParams=function(e){return window.Daria.getFeatureParams(e)||null}},,,function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hideStatusline=t.showStatuslineComponent=t.showSuccessMessage=t.showErrorMessage=void 0;var o=i(r(134)),a=r(343),s=r(86);t.showErrorMessage=function(e,t){var r=s.getStatuslineBridge(),i=s.getStatuslineComponents().BasicErrorMessage;r&&r.show({name:e,renderContent:function(e){return o.default.createElement(i,n({},e,{text:t}))}})};t.showSuccessMessage=function(e,t){var r=s.getStatuslineBridge(),i=s.getStatuslineComponents().BasicTextMessage;r&&r.show({name:e,renderContent:function(e){return o.default.createElement(i,n({},e,{text:t}))}})};t.showStatuslineComponent=function(e){var t=s.getStatuslineBridge(),r=s.getStatuslineComponents(),i=r.BasicTextMessage,l=r.CannotLoadData,u=r.ConfirmMops,c=r.ConfirmNotSpam,d=r.DeleteOrUnsubscribe,f=r.DeleteOrUnsubscribeOld,g=r.EmailAddedToBlacklist,p=r.FilterApply,m=r.FilterCreate,h=r.FilterWasCreated,v=r.MarkReadOrUnsubscribe,b=r.MessagesNotSpam,_=r.MessageSent,y=r.MessageSentDelayed,S=r.SettingsSaved,w=r.SignatureAdded,O=r.SignatureDeleted,x=r.SignatureUpdated,M=r.SpamOrDelete,P=r.SpamOrUnsubscribe,D=r.TemplateUpdated,E=r.TimelineLoadingError,T=r.UndoNotSpam,C=r.UnsubscribeSuccess;if(t)switch(e.name){case a.StatuslineName.CannotLoadData:t.show({name:e.name,renderContent:function(e){return o.default.createElement(l,n({},e))}});break;case a.StatuslineName.ConfirmMops:t.show({name:e.name,renderContent:function(t){return o.default.createElement(u,n({},t,e))}});break;case a.StatuslineName.ConfirmNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(c,n({},t,e))}});break;case a.StatuslineName.DeleteOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(d,n({},t,e))}});break;case a.StatuslineName.DeleteOrUnsubscribeOld:t.show({name:e.name,renderContent:function(t){return o.default.createElement(f,n({},t,e))}});break;case a.StatuslineName.EmailAddedToBlacklist:t.show({name:e.name,renderContent:function(t){return o.default.createElement(g,n({},t,{email:e.email}))}});break;case a.StatuslineName.FilterApply:t.show({name:e.name,renderContent:function(t){return o.default.createElement(p,n({},t,e))}});break;case a.StatuslineName.FilterCreate:t.show({name:e.name,renderContent:function(t){return o.default.createElement(m,n({},t,e))}});break;case a.StatuslineName.FilterWasCreated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(h,n({},t,{filterId:e.filterId}))}});break;case a.StatuslineName.MarkReadOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(v,n({},t,e))}});break;case a.StatuslineName.MessagesNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(b,n({},t,{count:e.count}))}});break;case a.StatuslineName.MessageSent:t.show({name:e.name,renderContent:function(t){return o.default.createElement(_,n({},t,e))}});break;case a.StatuslineName.MessageSentDelayed:t.show({name:e.name,renderContent:function(t){return o.default.createElement(y,n({},t,e))}});break;case a.StatuslineName.MultipleEmailsSelected:break;case a.StatuslineName.SettingsSaved:t.show({name:e.name,renderContent:function(t){return o.default.createElement(S,n({},t,e))}});break;case a.StatuslineName.SignatureAdded:t.show({name:e.name,renderContent:function(t){return o.default.createElement(w,n({},t,e))}});break;case a.StatuslineName.SignatureDeleted:t.show({name:e.name,renderContent:function(t){return o.default.createElement(O,n({},t,e))}});break;case a.StatuslineName.SignatureUpdated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(x,n({},t,e))}});break;case a.StatuslineName.SpamOrDelete:t.show({name:e.name,renderContent:function(t){return o.default.createElement(M,n({},t,e))}});break;case a.StatuslineName.SpamOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(P,n({},t,e))}});break;case a.StatuslineName.TemplateUpdated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(D,n({},t,{text:e.text}))}});break;case a.StatuslineName.TimelineLoadingError:t.show({name:e.name,renderContent:function(e){return o.default.createElement(E,n({},e))}});break;case a.StatuslineName.UndoNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(T,n({},t,e))}});break;case a.StatuslineName.UnsubscribeSuccess:t.show({name:e.name,renderContent:function(t){return o.default.createElement(C,n({},t,{count:e.count}))}});break;default:t.show({name:e.name,renderContent:function(t){return o.default.createElement(i,n({},t,{text:e.text}))}})}};t.hideStatusline=function(e){var t=s.getStatuslineBridge();t&&t.hide(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(398);r.d(t,"default",function(){return n.a})},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatuslineName=void 0,function(e){e.AbookContactAdded="AbookContactAdded",e.AbookContactsAddedToGroup="AbookContactsAddedToGroup",e.AbookContactRemoved="AbookContactRemoved",e.AbookChangesSaved="AbookChangesSaved",e.AbookAddPersonFailed="AbookAddPersonFailed",e.AbookFailed="AbookFailed",e.AbookGroupCreationFailed="AbookGroupCreationFailed",e.AutoreplySaveFailed="AutoreplySaveFailed",e.AutoreplySaveSuccess="AutoreplySaveSuccess",e.BeautifulEmailAuthFailed="BeautifulEmailAuthFailed",e.BeautifulEmailChangeLoginOk="BeautifulEmailChangeLoginOk",e.BeautifulEmailChangeLoginError="BeautifulEmailChangeLoginError",e.BeautifulEmailCancelSubscriptionOk="BeautifulEmailCancelSubscriptionOk",e.BeautifulEmailCancelSubscriptionError="BeautifulEmailCancelSubscriptionError",e.BugReportSentSuccess="BugReportSentSuccess",e.BugReportSentFailure="BugReportSentFailure",e.CancelSendFailed="CancelSendFailed",e.CannotClearFolder="CannotClearFolder",e.CannotCreateFilter="CannotCreateFilter",e.CannotForwardSpam="CannotForwardSpam",e.CannotLoadData="CannotLoadData",e.ConfirmMops="ConfirmMops",e.ConfirmNotSpam="ConfirmNotSpam",e.DeleteOrUnsubscribe="DeleteOrUnsubscribe",e.DeleteOrUnsubscribeOld="DeleteOrUnsubscribeOld",e.DraftRemoved="DraftRemoved",e.DraftSaveError="DraftSaveError",e.EmailAddedToBlacklist="EmailAddedToBlacklist",e.EmptyFolderError="EmptyFolderError",e.MailEventCreateError="MailEventCreateError",e.FilterApplied="FilterApplied",e.FilterApply="FilterApply",e.FiltersBlacklistAddSelfForbidden="FiltersBlacklistAddSelfForbidden",e.FiltersWhitelistAddSelfForbidden="FiltersWhitelistAddSelfForbidden",e.FiltersBlackWhiteListAlreadyExist="FiltersBlackWhiteListAlreadyExist",e.FiltersBlackWhiteListAddError="FiltersBlackWhiteListAddError",e.FilterCreate="FilterCreate",e.FilterWasCreated="FilterWasCreated",e.FiltersListsAddError="FiltersListsAddError",e.FolderDelete="FolderDelete",e.FoldersMoveError="FoldersMoveError",e.HiddenTrashToggleFailed="HiddenTrashToggleFailed",e.LabelDelete="LabelDelete",e.MarkReadOrUnsubscribe="MarkReadOrUnsubscribe",e.MultipleEmailsSelected="MultipleEmailsSelected",e.MessagesDeleteFromTrash="MessagesDeleteFromTrash",e.MessagesLabel="MessagesLabel",e.MessagesMoved="MessagesMoved",e.MessagesMovedArchive="MessagesMovedArchive",e.MessagesNotSpam="MessagesNotSpam",e.MessagesNotSpamAsync="MessagesNotSpamAsync",e.MessagesPinned="MessagesPinned",e.MessagesRemoved="MessagesRemoved",e.MessageSendingFailed="MessageSendingFailed",e.MessageSent="MessageSent",e.MessageSentDelayed="MessageSentDelayed",e.MessagesUnlabel="MessagesUnlabel",e.MessagesUnpinned="MessagesUnpinned",e.ModificationOperationsError="ModificationOperationsError",e.NoActionError="NoActionError",e.ReplyLaterCreateError="ReplyLaterCreateError",e.ReplyLaterCreateSuccess="ReplyLaterCreateSuccess",e.ReplyLaterRemoveError="ReplyLaterRemoveError",e.ReplyLaterRemoveSuccess="ReplyLaterRemoveSuccess",e.ReplyToOnlyOneEmailError="ReplyToOnlyOneEmailError",e.SendOnNoAddressError="SendOnNoAddressError",e.SetupError="SetupError",e.SettingsSaved="SettingsSaved",e.SpamOrDelete="SpamOrDelete",e.SpamOrUnsubscribe="SpamOrUnsubscribe",e.SignatureMaxCountLimitExceeded="SignatureMaxCountExceeded",e.SignatureMaxLengthLimitExceeded="SignatureMaxLengthLimitExceeded",e.SignatureAdded="SignatureAdded",e.SignatureAppended="SignatureAppended",e.SignatureAppendError="SignatureAppendError",e.SignatureDeleted="SignatureDeleted",e.SignatureUpdated="SignatureUpdated",e.TemplateCreated="TemplateCreated",e.TemplateMissingError="TemplateMissingError",e.TemplateNotFound="TemplateNotFound",e.TemplateUpdated="TemplateUpdated",e.TimelineLoadingError="TimelineLoadingError",e.TooBigAttachment="TooBigAttachment",e.TranslationError="TranslationError",e.UndoNotSpam="UndoNotSpam",e.UnsubscribeModalError="UnsubscribeModalError",e.UnsubscribeSuccess="UnsubscribeSuccess",e.CollectorCreated="CollectorCreated",e.InboxGPTEnabled="InboxGPTEnabled",e.InboxGPTDeletedSuccess="InboxGPTDeletedSuccess",e.InboxGPTDeletedBad="InboxGPTDeletedBad",e.InboxGPTDeletedGarbage="InboxGPTDeletedGarbage",e.InboxGPTCodeCopyToClipboard="InboxGPTCodeCopyToClipboard",e.ContactSummaryAddressCopied="ContactSummaryAddressCopied",e.MailToEventCreateEvent="MailToEventCreateEvent"}(t.StatuslineName||(t.StatuslineName={}))},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCodes=void 0,t.KeyCodes={TAB:9,ENTER:13,SHIFT:16,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,CTRL:17,HOME:36,END:35,SPACE:32,META:[91,93,224],BACKSPACE:8,J:74,K:75,N:78,P:80,S:83,V:86},t.default=t.KeyCodes},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(478),l=(r.n(s),r(1081));var u=function(e){var t={lang:e.lang,t:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return s.getKey.apply(void 0,[e.lang].concat(r))}};return function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.a.Provider,{value:t},void 0,e.children)};u.propTypes={children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]).isRequired,lang:a.a.string},t.default=u},,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3693),t),i(r(3694),t),i(r(3695),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"getContactsStore",function(){return w}),r.d(t,"getFoldersStore",function(){return O}),r.d(t,"getLabelsStore",function(){return x}),r.d(t,"getRouterStore",function(){return M}),r.d(t,"getSearchStore",function(){return P}),r.d(t,"getSettingsStore",function(){return D}),r.d(t,"getSettingsSelectorStore",function(){return E}),r.d(t,"getThemesSelectorStore",function(){return T}),r.d(t,"getAccountInformationStore",function(){return C}),r.d(t,"getHeadUserStateStore",function(){return k}),r.d(t,"getUserDropdownDataStore",function(){return A}),r.d(t,"getContactSuggestStore",function(){return I}),r.d(t,"getServicesPopupStore",function(){return j}),r.d(t,"getVisualStore",function(){return F}),r.d(t,"getTabsStore",function(){return R}),r.d(t,"getMailSettingsPopupStore",function(){return B});var n=r(413),i=r.n(n),o=r(1600),a=r(1078),s=r(1079),l=r(677),u=r(1603),c=r(771),d=r(1605),f=r.n(d),g=r(772),p=r(678),m=r(1608),h=r(1609),v=r(773),b=r(1610),_=r(1611),y=(r.n(_),r(1612)),S=r(1613),w=i()(function(){return new a.a}),O=i()(function(){return new l.a}),x=i()(function(){return new c.a}),M=i()(function(){return new g.a}),P=i()(function(){return new p.a}),D=i()(function(){return new v.c}),E=i()(function(){return new h.a}),T=i()(function(){return new b.a}),C=i()(function(){return new o.a}),k=i()(function(){return new u.a}),A=i()(function(){return new y.a}),I=i()(function(){return new s.a}),j=i()(function(){return new m.a}),F=i()(function(){return new S.a}),R=_.TabsStore.instance,B=i()(function(){return new f.a})},,function(e,t,r){"use strict";var n=r(1142);t.a=n.a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"default",function(){return l});var n,i=r(325),o=r(135),a=(r.n(o),r(406));function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=(function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modelSubscriptions={}}return function(e,t,r){t&&s(e.prototype,t),r&&s(e,r)}(e,[{key:"_addModelSubscription",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.data=e},onDestroyed:function(){t.data={}}},i=a.default.get(e,r),o=i.key;return o in this._modelSubscriptions?this._modelSubscriptions[o]:(this._modelSubscriptions[o]=this._createModelSubscription(i,n),this._modelSubscriptions[o])}},{key:"_requestModelData",value:function(e,t){return a.default.request(e,t).then(function(e){return e},function(){return{}})}},{key:"_createModelSubscription",value:function(e,t){var r,n,a=this,s=e.key,l={};for(var u in t)switch(u){case"onChanged":r=function(){t.onChanged(e.getData()||void 0,e.getError()||void 0)},n=Object(o.debounce)(Object(i.action)(r),0),l["ns-model-changed"]=n,e.on("ns-model-changed",n),r();break;case"onDestroyed":r=Object(i.action)(t.onDestroyed),l["ns-model-destroyed"]=r,e.on("ns-model-destroyed",r);break;default:throw new Error('unknown handler "'.concat(u,'" for model subscription'))}return function(){for(var t in l)e.off(t,l[t]);delete a._modelSubscriptions[s]}}},{key:"_isNotEmpty",value:function(e){return e&&Object.keys(e).length>0}}]),e}()).prototype,"_addModelSubscription",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"_addModelSubscription"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return a}),r.d(t,"b",function(){return s});var n="compose-react-scenario",i="message-view-scenario",o="search-scenario",a="suggest-scenario",s={}},,function(e,t,r){e.exports=r.p+"_/d6db9b2a3473c3a8123e980333e3230f-b-mail-icon_error.png"},,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canShowPromo=t.hasSubscriptionWithDomain=t.isPromoAvailable=t.isAvailable=t.isForceAvailable=t.getConnectedBeautifulEmail=t.isPossibleToEnable=t.SETTINGS_DOMAIN_AVAILABLE=void 0;var i=r(333),o=r(86),a=r(513),s=n(r(406));function l(){return!i.isCorp()&&!i.isWorkspace()&&!s.default.get("account-information").isSSO()&&(!i.hasProSubscription()||g())}function u(){return s.default.get("account-information").getBeautifulEmail()}function c(){var e=u(),t=o.getPsSettingsDatasyncService();return l()&&(t.isBeautifulEmailForceEnabled||Boolean(e))}function d(){return l()&&("ru"===i.getTld()||c())}function f(){return d()}function g(){return a.isSettingSet(t.SETTINGS_DOMAIN_AVAILABLE)}t.SETTINGS_DOMAIN_AVAILABLE="mail_b2c_domain_enable",t.isPossibleToEnable=l,t.getConnectedBeautifulEmail=u,t.isForceAvailable=c,t.isAvailable=d,t.isPromoAvailable=f,t.hasSubscriptionWithDomain=g,t.canShowPromo=function(){if(!f())return!1;if(u())return!1;var e=i.hasProSubscription(),t=g();return!(e&&!t)}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNsEventListener=t.addEventListener=void 0;var n=r(627);Object.defineProperty(t,"addEventListener",{enumerable:!0,get:function(){return n.addEventListener}});var i=r(479);Object.defineProperty(t,"addNsEventListener",{enumerable:!0,get:function(){return i.addNsEventListener}}),t.default=n.Disposer},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStatus=void 0,function(e){e.NotConnected="not-connected",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e.Failed="failed",e.InfoUnavailable="info-unavailable"}(t.BeautifulEmailStatus||(t.BeautifulEmailStatus={}))},,,,,,,,,,,function(e,t,r){e.exports=r.p+"_/ab580e6d8a894e3dd2f20569020cdb41-attach_icon_audio.svg"},function(e,t,r){e.exports=r.p+"_/d73628f6e4ee5d8a5d62248e11081f79-attach_icon_img.svg"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.LayoutTypes=void 0,function(e){e[e.Pane2=0]="Pane2",e[e.Pane3=2]="Pane3",e[e.Pane3Horizontal=1]="Pane3Horizontal"}(t.LayoutTypes||(t.LayoutTypes={})),function(e){e.CAN_USE_OPT_IN_SUBSCRIPTIONS="mail_b2c_can_use_opt_in_subs",e.OPT_IN_SUBSCRIPTIONS_ENABLED="opt_in_subs_enabled",e.OPT_IN_SUBSCRIPTIONS_ENABLED_AT="opt_in_subs_enabled_at",e.OPT_IN_SUBSCRIPTIONS_REVIEWED_AT="opt_in_subs_reviewed_at",e.DISABLE_INBOX_ATTACHMENTS="disable_inboxattachs",e.NO_B2C_TARIFF_PROMO="ro_no_b2c_tariff_promo",e.NO_YANDEX_JOBS="ro_no_yandex_jobs",e.MESSAGES_AVATARS="messages_avatars",e.SHOW_CHECKBOX_INSIDE_AVATARS="show_checkbox_inside_userpic",e.OPEN_MESSAGE_IN_LIST="open-message-list",e.LAYOUT="layout",e.MINIFIED_HEADER="liza_minified_header",e.WITH_BIGGER_TEXT="with_bigger_text",e.MINIFIED_MAIL_LIST="liza_minified",e.SHOW_FOLDERS_TABS="show_folders_tabs",e.FOLDER_THREAD_VIEW="folder_thread_view",e.COMPACT="compact",e.EXPANDED_LEFT_COLUMN="size-aside-expanded",e.SIZE_LAYOUT_LEFT="size-layout-left",e.SIZE_FIRST_PANE_3PH="size-first-pane-3ph",e.SIZE_FIRST_PANE_3PV="size-first-pane-3pv",e.COLOR_SCHEME="color_scheme",e.DISABLE_INBOX_ATTACH="disable_inboxattachs",e.HIDE_EMPTY_FOLDERS="hide_empty_folders",e.SHOW_SIDEBAR_WITH_WIDGETS="show_sidebar_with_widgets",e.TIMELINE_ENABLED="timeline_enable",e.TIMELINE_IS_OPEN="timeline-is-open",e.COLORFUL_THEME_SKIN="colorful-theme-skin",e.SEASONS_MODIFIER="seasons-modifier",e.SELECTED_SCOPE="currentScope",e.DISABLE_PROMO="disable_promo",e.GEO_ID="geoid",e.SHOW_PRIORITY_STUFF="show_priority_stuff",e.PRIORITY_MAIL="priority_mail",e.OVERRIDEN_THEME="overriden_theme",e.EMPTY_SUBJECT_POPUP_DISABLED="empty_subject_popup_disabled",e.HIDDEN_TRASH_ENABLED="hidden_trash_enabled",e.OPENED_FOLDERS="opened_folders",e.HAS_INBOX_MESSAGE="has_inbox_message",e.TRANSLATE_RECENT="translateRecent",e.MAIL_INBOXGPT_ALLOWED="mail_inboxgpt_allowed",e.MAIL_INBOXGPT_ENABLED="mail_inboxgpt_enabled",e.INBOX_GPT_EXPANDED="inboxGptExpanded",e.INBOX_GPT_PROMO_ALREADY_SHOWED="inboxGptPromoShowed",e.INBOX_GPT_ONBOARDING_ALREADY_SHOWED="inboxGptOnboardingShowed",e.LOCK_DEFAULT_EMAIL="lock_employees_default_mail_domain",e.MIGRATION_INVITE_CLOSED="migration_invite_closed",e.SHOW_SHARED_MAILBOXES="show_shared_mailboxes",e.SHARED_MAILBOX_ALLOWED="mail_shared_mailbox_allowed",e.SHARED_MAILBOX_ENABLED="mail_shared_mailbox_enabled",e.DELEGATED_MAILBOX_ALLOWED="mail_delegated_mailbox_allowed",e.DELEGATED_MAILBOX_ENABLED="mail_delegated_mailbox_enabled",e.SHOW_EXTERNAL_CONTACT_NOTIFICATION_ON_READ="show_external_contact_notification_on_read",e.SHOW_EXTERNAL_CONTACT_NOTIFICATION_ON_COMPOSE="show_external_contact_notification_on_compose",e.FRIENDLY_ORG_USERS_ARE_EXTERNAL="friendly_org_users_is_external",e.ABOOK_SWITCH_LANG="abook-switch-lang",e.SHOW_SOCNET_AVATARS="show_socnet_avatars"}(t.Settings||(t.Settings={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"getMessagesListDate",function(){return a}),r.d(t,"getDateInHumanFormat",function(){return s}),r.d(t,"getTimeInHumanFormat",function(){return l}),t.getDateFromCompactFormat=function(e){if(!e||8!==e.length)return null;var t=new Date(e.substring(0,4),e.substring(4,6)-1,e.substring(6,8)),r=t.getDate();return isNaN(r)?null:t},t.getDateInNumericFormat=function(e){return Jane.Date.format("%Date_dmY__dot",e)},t.getDateInNumericFormatDashed=function(e){return Jane.Date.format("%Date_Ymd__minus",e)},t.getDateInUnseparatedNumericFormat=function(e){return Jane.Date.format("%Date_Ymd",e)},t.getDateComponentOfDatetime=function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.getShortDateTimeInHumanFormat=function(e){return Jane.Date.format("%Date_dB_in_HM",e)},t.getShortMonthDateTimeInHumanFormat=function(e){return Jane.Date.format("%Date_df_in_HM",e)},t.getShortDate=function(e){return Jane.Date.format("%Date_dB",e)},t.getShortTime=function(e){return Jane.Date.format("%Date_HM__colon",e)},t.parseDate=function(e){if(!e)return null;var t,r,n,i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(e);if(i)t=parseInt(i[1],10),r=parseInt(i[2],10),n=parseInt(i[3],10);else{if(null===(i=/^(\d\d)\.(\d\d)\.(\d\d)$/.exec(e)))return null;t=parseInt(i[3],10)+o,r=parseInt(i[2],10),n=parseInt(i[1],10)}return new Date(t,r-1,n)},t.promoNow=function(){return Daria.promoNow()},t.passportNow=u,t.passportPromoNow=function(){0===Daria._debugClientPromoTimestamp&&(Daria._debugClientPromoTimestamp=i()(Daria.urlParams.debugClientPromoDate));return Daria._debugClientPromoTimestamp||u()},t.getPassportDate=function(e){return Daria.getPassportDate(e)};var n=r(679),i=r.n(n),o=2e3,a=function(e){return Daria.MessageTime.getFormattedTime(1e3*e).list},s=function(e){return Jane.Date.toHumanFormat(e)},l=function(e){return Jane.Date.format("%Date_HM__colon",e)};function u(){return Daria.passportNow()}},function(e,t,r){"use strict";r.d(t,"a",function(){return w});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(324),u=r.n(l),c=r(580),d=r(581),f=r(1664),g=r(1665);r.n(g);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&v(e.prototype,t),r&&v(e,r)}(t,[{key:"_maybeRenderTitle",value:function(){var e=this.props.title;return e?S("title",{},void 0,e):null}},{key:"render",value:function(){var e,r=this.props,n=r.cls,i=r.color,a=r.id,s=r.refId,l=r.onMouseDown,c=r.forceInline,d=r.data,f=void 0===d?{}:d,g=r.focusable,m=r.ariaHidden,v={};return i&&(v.color=i),S("svg",{xmlns:"http://www.w3.org/2000/svg",className:u()((h(e={svgicon:!0},"svgicon-".concat(a),!0),h(e,n||"",!0),e)),style:v,onMouseDown:l,focusable:g,"aria-hidden":m},void 0,t.useOrInlineSvg(a,s,c),o.a.createElement("rect",p({height:"100%",width:"100%",style:{fill:"transparent"}},f),this._maybeRenderTitle()))}}],[{key:"useOrInlineSvg",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(c.default.isIE()||r){var n=t?Object(f.a)(e,t):Object(f.a)(e);return n?S("svg",{id:n.id,viewBox:n.viewBox,fill:n.fill,dangerouslySetInnerHTML:{__html:n.svgBody}}):(Object(d.logDebug)("Не удалось найти SVG иконку #".concat(n.id)),null)}return S("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:t?"#".concat(t):"#svgicon-".concat(e)})}}]),t}();w.propTypes={id:s.a.string.isRequired,refId:s.a.string,color:s.a.string,cls:s.a.string,onMouseDown:s.a.func,title:s.a.string,data:s.a.object,forceInline:s.a.bool,focusable:s.a.bool,ariaHidden:s.a.bool}},,,function(e,t,r){"use strict";var n=r(967),i=r(970),o=r(528),a=r(13);t.a=new n.a({logger:i.a,now:o.a,connectionId:a.a.Config.connection_id})},,,,function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStore=void 0;var s=r(325),l=a(r(413)),u=a(r(406)),c=r(333),d=r(383),f=r(370),g=r(86),p=function(){function e(e){this.accountInformationStore=e,this.email="",this.isPollingInProcess=!1;var t=this.accountInformationStore.domainAlias;this.email=t||"",this.status=t?d.BeautifulEmailStatus.Connected:d.BeautifulEmailStatus.NotConnected}return Object.defineProperty(e.prototype,"domain",{get:function(){return this.email.split("@")[1]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"login",{get:function(){return this.email.split("@")[0]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasConnectedDomain",{get:function(){return this.status===d.BeautifulEmailStatus.Connected},enumerable:!1,configurable:!0}),e.prototype.setStatus=function(e){this.status=e},e.prototype.setTimeoutEndDate=function(e){this.timeoutEndDate=e},e.prototype.setEmail=function(e){this.email=e},e.prototype.setSuggestedEmail=function(e){this.suggestedEmail=e},e.prototype.setIsPollingInProcess=function(e){this.isPollingInProcess=e},e.prototype.initialEmailCheck=function(e){var t=e.domenatorStatus,r=e.domenatorDomain,n=e.domenatorTimeoutEndDate;this.setEmail(r||""),this.setStatus(t),n&&this.setTimeoutEndDate(n)},e.prototype.getSuggestedEmail=function(){return i(this,void 0,Promise,function(){var e=this;return o(this,function(t){return this.suggestEmailPromise||(this.suggestEmailPromise=i(e,void 0,void 0,function(){var e,t;return o(this,function(r){switch(r.label){case 0:return[4,u.default.request("get-domenator-domains-suggest/v1",{limit:1})];case 1:return e=r.sent().suggested_domains,t=e[0],this.setSuggestedEmail(t?t.login+"@"+t.name:void 0),[2,this.suggestedEmail]}})})),[2,this.suggestEmailPromise]})})},e.prototype.forceEnableBeautifulEmail=function(){return i(this,void 0,Promise,function(){return o(this,function(e){return[2,g.getPsSettingsDatasyncService().updateBeautifulEmailForceEnable(c.promoNowDate())]})})},e.instance=l.default(function(){return new e(f.getAccountInformationStore())}),n([s.observable],e.prototype,"email",void 0),n([s.computed],e.prototype,"domain",null),n([s.computed],e.prototype,"login",null),n([s.observable],e.prototype,"status",void 0),n([s.observable],e.prototype,"timeoutEndDate",void 0),n([s.computed],e.prototype,"hasConnectedDomain",null),n([s.observable],e.prototype,"suggestedEmail",void 0),n([s.observable],e.prototype,"isPollingInProcess",void 0),n([s.action],e.prototype,"setStatus",null),n([s.action],e.prototype,"setTimeoutEndDate",null),n([s.action],e.prototype,"setEmail",null),n([s.action],e.prototype,"setSuggestedEmail",null),n([s.action],e.prototype,"setIsPollingInProcess",null),e}();t.BeautifulEmailStore=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(n,i){ns.request(e,t,r).then(function(e){if(e&&e.length){var t=e[0];t.isValid()?n(e[0].getData()):i(t.getError()||{error:"invalid-data"})}else i({error:"request-failed"})},function(e){i(Object.assign(e,{error:"model-request-failed"}))})})};t.default={get:function(e,t){return ns.Model.get(e,t)},request:function(e,t){return n(e,t)},forcedRequest:function(e,t){return n(e,t,{forced:!0})}}},,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3691);r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i)},,,,,,,,function(e,t,r){e.exports=r.p+"_/b421d41a9b5d6be87299c25b2c8c567b-attach_icon_video.svg"},function(e,t,r){"use strict";var n=r(3683);r.d(t,"a",function(){return n.a})},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLORFUL_SKIN=t.DEPRECATED_COLORFUL_SKIN=t.DarkSource=void 0,function(e){e.Page="page",e.Content="content"}(t.DarkSource||(t.DarkSource={})),t.DEPRECATED_COLORFUL_SKIN="blue",t.DEFAULT_COLORFUL_SKIN="lightblue"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(372);r.d(t,"a",function(){return n.a});r(2009);var i=r(1167);r.d(t,"b",function(){return i.a});var o=r(1284);r.d(t,"c",function(){return o.a});r(696),r(949),r(950);var a=r(2113);r.d(t,"d",function(){return a.a});r(2117),r(496);var s=r(698);r.d(t,"e",function(){return s.a});var l=r(637);r.d(t,"f",function(){return l.a});r(957)},,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeBg=t.logPopupMetric=void 0;var o=r(333),a=r(412),s=r(551),l=r(86),u=r(337);t.logPopupMetric=function(e){void 0===e&&(e=[]),o.logMetric(i([a.YANDEX_HEADER_PREFIX,a.HEADER_METRIKA_RIGHT,a.HEADER_METRIKA_SETTINGS,a.HEADER_METRIKA_SETTINGS_OPEN],e))};t.getThemeBg=function(e){if(e===s.ThemeName.GeneralDefault){var t=l.getGeneralThemesBridge().getGeneralTheme(e);if(u.hasFeature(u.Features.WEB_GLOBALBAR_VERTICAL))return"rgb(237, 239, 240)";if(t.page.override)return"rgb("+t.page.override["--bg-color"]+")"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"cloudApiUrl",function(){return n}),r.d(t,"helpUrl",function(){return i}),r.d(t,"diskHelpUrl",function(){return o}),r.d(t,"helpBeautifulEmailUrl",function(){return a}),r.d(t,"passportPhoneConfirmUrl",function(){return s}),r.d(t,"passportVerifyPasswordUrl",function(){return l}),r.d(t,"www",function(){return u}),r.d(t,"linkYandex360",function(){return c}),r.d(t,"headerServicesLinks",function(){return d}),r.d(t,"xivaUrl",function(){return f}),r.d(t,"socialavatarsUrl",function(){return g});var n=Daria.Config["cloud-api-url"],i=Daria.Config["help-url"],o=Daria.Config["disk-help-url"],a="".concat(i,"/web/preferences/about-sender/additional-addresses.html?from=mail#exclusive"),s=Daria.Config["passport-phoneconfirm-url"],l=Daria.Config["passport-verify-password-url"],u=Daria.Config["www-url"],c="".concat(Daria.Config["yandex360-url"],"/premium-plans"),d={Mail:"#inbox",Disk:Daria.Config["disk-url"],Telemost:Daria.Config["telemost-url"],Calendar:Daria.Config["calendar-url"],Concept:Daria.Config["concept-url"],Notes:Daria.Config["notes-url"],Contact:"#contacts",Messenger:Daria.Config["q-url"],Fan:Daria.Config["fan-url"],Premium:c,Admin:Daria.Config["admin-url"],Documents:Daria.Config["documents-url"],Staff:Daria.Config["staff-host"],Startrek:Daria.Config["tracker-url"],Wiki:Daria.Config["wiki-url"],At:Daria.Config["diary-url"],YTeam:Daria.Config["yteam-url"],Maillists:Daria.Config["maillist-url"],MeetingRooms:"".concat(Daria.Config["calendar-url"],"/invite"),Tracker:Daria.Config["tracker-url"],Forms:Daria.Config["forms-admin-url"]},f=Daria.Config.xivaHost,g=Daria.Config.socialavatarsUrl},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"addNsEventListener",function(){return i}),r.d(t,"triggerNsEvent",function(){return o}),r.d(t,"useNsEventSubscription",function(){return a});var n=r(134),i=(r.n(n),function(e,t){return ns.events.on(e,t),function(){return ns.events.off(e,t)}}),o=function(e,t){ns.events.trigger(e,t)},a=function(e,t){Object(n.useEffect)(function(){return i(e,t)},[e,t])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageOpenedInList=function(e){return Daria.isMessageOpenedInList(e)},t.isMessageOpened=function(e){return Daria.isMessageOpened(e)},t.isMessagesListPage=function(e){return Daria.isMessagesListPage(e)},t.isMessagePage=function(){return Daria.isMessagePage()},t.isSearchPage=function(e){return Daria.isSearchPage(e)},t.isAbookPage=function(e){return Daria.isAbookPage(e)},t.isSetupPage=function(e){return Daria.isSettingsPage(e)},t.goPage=function(e,t){Daria.router.navigate(e,t)},t.forceReload=function(e){Daria.router.reloadPage(e)},t.getCurrentPageParams=function(){return Daria.router.getCurrentParams()},t.getCurrentUrl=function(){return Daria.router.getCurrentUrl()}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2044);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return l}),r.d(t,"a",function(){return u});var n=r(707),i={type:"opening-error-message-body",severity:n.a},o={type:"opening-error-messages",severity:n.a},a={type:"opening-error-message-nearest",severity:n.b},s={type:"view-error-img-error",severity:n.b},l={type:"view-error-translate",severity:n.b},u=(n.b,{type:"view-error-email-info",severity:n.c})},,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"e",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"d",function(){return s});var n="default",i="button-from-left-column",o="shortcut",a="button-from-abook-popup",s="expand-button"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEmailsEqual=void 0,t.areEmailsEqual=function(e,t){return Boolean(e&&t&&e.toLowerCase()===t.toLowerCase())}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SearchSuggestParams=t.AdvancedSearchParams=t.SearchQueryParams=void 0,function(e){e.ATTACHES="attaches",e.BODY_TEXT="body_text",e.DELETED="deleted",e.FID="fid",e.FROM="from",e.HDR_FROM="hdr_from",e.HDR_SUBJECT="hdr_subject",e.HDR_TO="hdr_to",e.LID="lid",e.SERVICE_ID="serviceId",e.SCOPE="scope",e.TO="to",e.BEFORE_DATE="before_date",e.TYPE="type",e.UNREAD="unread"}(n=t.SearchQueryParams||(t.SearchQueryParams={})),t.AdvancedSearchParams=[n.ATTACHES,n.DELETED,n.FID,n.FROM,n.HDR_FROM,n.HDR_TO,n.LID,n.SERVICE_ID,n.SCOPE,n.TO,n.TYPE,n.UNREAD],t.SearchSuggestParams=[n.ATTACHES,n.DELETED,n.FID,n.FROM,n.LID,n.SERVICE_ID,n.SCOPE,n.TO,n.TYPE]},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerChangeSettingsHandler=function(e,t){var r=t?"ns-model-changed.".concat(t):"ns-model-changed";o().on(r,e)},t.unregisterChangeSettingsHandler=function(e,t){var r=t?"ns-model-changed.".concat(t):"ns-model-touched";o().off(r,e)},t.getDefaultEmail=a,t.isDefaultEmail=function(e){var t=a();return Object(i.areEmailsEqual)(t,e)},t.isDarkContent=function(){var e=ns.Model.get("themes").getSkinParams()||{};return Boolean(e.content_is_dark)},t.isSettingSet=function(e){return o().isSet(e)},t.getSign=function(e){return o().getSign(e)},t.signToSetting=function(e,t){return o().signToSetting(e,t)},t.getSetting=function(e){return o().getSetting(e)},t.setSettings=function(e,t){return o().setSettings(e,t)},t.updateSetting=function(e,t,r){return o().updateSetting(e,t,r)};var n,i=r(510),o=(r.n(i),function(){return n||(n=ns.Model.get("settings"))});function a(){return ns.Model.get("settings").get(".default_email")}},,,,,,,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withPsTransparentTheme=t.withPsTheme=void 0;var s=a(r(134)),l=a(r(324)),u=r(368),c=r(1135),d=r(1136),f=r(362),g=r(940),p=r(327),m=r(423),h=r(691),v=r(692),b=function(e){return function(t){return function(r){function a(){var e=null!==r&&r.apply(this,arguments)||this;return e.themesStore=v.ThemesStore.instance(),e.themeMaster=h.ThemeMaster.instance(),e}return n(a,r),Object.defineProperty(a.prototype,"isPageDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isPageDark:this.themesStore.isPageDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isContentDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isContentDark:this.themesStore.isContentDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"theme",{get:function(){var t=(e.source||m.DarkSource.Page)===m.DarkSource.Page?this.isPageDark:this.isContentDark;return(e.invert?!t:t)?e.darkTheme:e.lightTheme},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=i(i({theme:this.theme},this.props),{className:l.default(this.props.className,u.cnTheme(this.theme))});return s.default.createElement(t,i({},e))},a=o([p.observer],a)}(s.default.PureComponent)}};t.withPsTheme=function(e){return void 0===e&&(e={}),b(i(i({},e),{darkTheme:g.PS_DARK,lightTheme:f.PS_LIGHT}))};t.withPsTransparentTheme=function(e){return void 0===e&&(e={}),b(i(i({},e),{darkTheme:d.PS_DARK_TRANSPARENT,lightTheme:c.PS_LIGHT_TRANSPARENT}))}},,,,,,,function(e,t,r){"use strict";t.a=function(){return Date.now()-i},t.b=function(e){i=Date.now()-e};var n=r(13),i=n.a.timestamp?Date.now()-n.a.timestamp:0},,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownLabelsNames=t.WellKnownLabels=void 0,function(e){e.ANSWERED="answered_label",e.APPEND="append_label",e.ATTACHED="attached_label",e.COPY="copy_label",e.DELAYED_MESSAGE="delayed_message",e.DELETED="deleted_label",e.DRAFT="draft_label",e.ENCRYPTED="encrypted_label",e.FORWARDED="forwarded_label",e.IMPORTANT="important_label",e.MULCA_SHARED="mulcaShared_label",e.MUTE="mute_label",e.NOTIFY_NO_ANSWER="notifyNoAnswer_label",e.PINNED="pinned_label",e.POSTMASTER="postmaster_label",e.PRIORITY="hamon_label",e.RECENT="recent_label",e.REMIND_NO_ANSWER="remindNoAnswer_label",e.REPLY_LATER_STARTED="reply_later_started",e.REPLY_LATER_FINISHED="reply_later_finished",e.SEEN="seen_label",e.SPAM="spam_label",e.SYNCED="synced_label",e.UNDO="undo_message"}(t.WellKnownLabels||(t.WellKnownLabels={})),function(e){e.YASUPPORT="yasupport",e.PHISHING="73"}(t.WellKnownLabelsNames||(t.WellKnownLabelsNames={}))},,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleLoader=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null},t}return n(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.component().then(function(t){e.setState({component:t}),e.props.onLoad&&e.props.onLoad()},function(t){if(!e.props.onError)throw t;e.props.onError(t)})},t.prototype.render=function(){var e=this.props.placeholder||function(){return null};return this.state.component?this.state.component:"function"==typeof e?e():e},t}(i(r(134)).default.PureComponent);t.ModuleLoader=o},,function(e,t,r){e.exports=r.p+"_/3f9ad2bd5a78e43bf79c34aa945ce7b2-attach_icon_archive.svg"},function(e,t,r){e.exports=r.p+"_/9ad0316223d31d7e674d1d8af56efd90-attach_icon_excel.svg"},function(e,t,r){e.exports=r.p+"_/7c14b89d6caa7791fc107bbf33fefabf-attach_icon_text.svg"},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeResult=void 0,function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCEL="cancel"}(t.UnsubscribeResult||(t.UnsubscribeResult={}))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"getAvatarsService",function(){return _}),r.d(t,"getContactsSuggestService",function(){return y}),r.d(t,"getRouterService",function(){return S}),r.d(t,"getSearchService",function(){return w}),r.d(t,"getSearchLogService",function(){return O}),r.d(t,"getSettingsService",function(){return x}),r.d(t,"getThemesService",function(){return M}),r.d(t,"getThemesSelectorService",function(){return P}),r.d(t,"getQueryLanguageService",function(){return D}),r.d(t,"scenarioManager",function(){return E});var n=r(413),i=r.n(n),o=r(86),a=r(747),s=r(553),l=r(554),u=r(718),c=r(1456),d=r(1058),f=r(1350),g=r(370),p=r(1455),m=r(3642),h=r(3644),v=r(692),b={},_=i()(function(){return new u.a}),y=i()(function(){return new c.a({searchStore:Object(g.getSearchStore)()})}),S=i()(function(){var e=new a.a;return b.routerService=e,e}),w=i()(function(){b.routerService||S(),b.searchLogService||O(),b.settingsService||x(),b.queryLanguageService||D();var e=new s.b(Object(p.a)(),b);return b.searchService=e,e}),O=i()(function(){var e=new s.a(Object(p.a)(),b);return b.searchLogService=e,e}),x=i()(function(){var e=l.a.instance();return b.settingsService=e,e}),M=i()(function(){var e=new m.a({themesStore:v.ThemesStore.instance(),generalThemesBridge:Object(o.getGeneralThemesBridge)()});return window.ThemesService=e,e}),P=i()(function(){return new h.a({themesSelectorStore:Object(g.getThemesSelectorStore)()})}),D=i()(function(){var e=new d.a(Object(p.a)());return b.queryLanguageService=e,e}),E=f.a},function(e,t,r){"use strict";var n=r(3635);r.d(t,"b",function(){return n.a});var i=r(724);r.d(t,"a",function(){return i.a})},function(e,t,r){"use strict";var n=r(3638);r.d(t,"a",function(){return n.a})},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isEdge:function(){return"Edge"===Daria.UA.BrowserName},isFirefox:function(){return"Firefox"===Daria.UA.BrowserName},isIE:function(){return"MSIE"===Daria.UA.BrowserName},BrowserName:Daria.UA&&Daria.UA.BrowserName}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logError=a,t.logSimpleError=function(e,t){a({errorType:e},t.message||t,t.stack||"")},t.logException=function(e,t,r){Jane.ErrorLog.sendException(e,t,r)},t.logDebug=function(e){Object(n.isDev)()&&console.warn(e)},t.writeToUserJournal=function(e){var t=e.operation,r=e.target,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Daria.monitoring.journal(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({target:r},n))};var n=r(333);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r){if(Object(n.isDev)()&&!e.errorType)throw new Error("Необходимо указать errorType при логировании ошибки");if(Object(n.isDev)()&&e.failIfPossible)throw e;Jane.ErrorLog.send(e,t,r)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Disposer=t.addEventListener=void 0;t.addEventListener=function(e){var t=e.element,r=void 0===t?window:t,n=e.eventName,i=e.listener,o=e.isCapture,a=void 0!==o&&o;return r.addEventListener(n,i,a),function(){return r.removeEventListener(n,i,a)}};var o=function(){function e(){this.callbacks=new Map}return e.prototype.add=function(e,t){this.callbacks.set(e,this.get(e).concat(t))},e.prototype.addEventListener=function(e,r){var n=t.addEventListener(r);this.add(e,[n])},e.prototype.dispose=function(e){this.get(e).forEach(function(e){return e()}),this.remove(e)},e.prototype.disposeAll=function(){i(this.callbacks.keys()).forEach(this.dispose.bind(this))},e.prototype.has=function(e){return this.callbacks.has(e)},e.prototype.get=function(e){return this.callbacks.get(e)||[]},e.prototype.remove=function(e){this.callbacks.delete(e)},e}();t.Disposer=o},,,,,,,,,,function(e,t,r){"use strict";var n=r(2194);r.d(t,"a",function(){return n.a})},,function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var n="start",i="finish",o="error"},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return d});var s="Quality metrics log: ";function l(e){return!1}var u={log:function(){}},c={scenario:function(e){e.scenario,e.params}},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogDisabled:l,debug:u,monitoring:c};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLogDisabled=t.isLogDisabled,this.debug=t.debug,this.monitoring=t.monitoring}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(e,[{key:"logStep",value:function(e,t,r){this.log(e,i({step:t},r))}},{key:"log",value:function(e,t){this.isLogDisabled(e.type)||(t=this._addSessionLifetime(t),this.debug.log(s,e,t),this.monitoring.scenario({scenario:e,params:t}))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=this.debug).warn.apply(e,[s].concat(r))}},{key:"_addSessionLifetime",value:function(e){var t=window.performance&&window.performance.now&&window.performance.now();return i({sessionLifetime:t?Math.floor(t):void 0},e)}}]),e}()},,,,,,,,,,,,,,,,,function(e,t){e.exports={CLICK:"click",HOTKEY:"hotkey",BG_CLICK:"bg-click"}},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(325);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var l=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cancel=null,this._cancel=Object(n.reaction)(t,r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({name:this.constructor.name},a))}return s(e,[{key:"destroy",value:function(){}}]),s(e,[{key:"cancel",value:function(){this._cancel&&(this._cancel(),this._cancel=null,this.destroy())}}]),e}()},,,,function(e,t,r){"use strict";r.d(t,"e",function(){return g}),r.d(t,"d",function(){return p}),r.d(t,"f",function(){return m}),r.d(t,"h",function(){return v}),r.d(t,"b",function(){return y}),r.d(t,"g",function(){return S}),r.d(t,"a",function(){return x}),r.d(t,"c",function(){return M});var n=r(550),i=(r.n(n),r(343)),o=(r.n(i),r(1437)),a=r(340),s=(r.n(a),r(28));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)})}}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=function(e){return e.filter(function(e){return e.isSubscriptionMessage()}).map(function(e){return e.getSubscriptionData()})},p=function(e){var t=e.getIds();return[].concat(f(t.ids),f(t.tids)).map(function(e){return ns.Model.get("message",{ids:e})})},m=function(e){return _.unique(e,function(e){return e.email})},h=function(){var e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=d(regeneratorRuntime.mark(function e(t){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.messages,i=t.mMessagesChecked,o=t.deleteOldLetters,a=r.map(function(e){return e.email}),e.prev=2,e.next=5,ns.forcedRequest("do-hide-subscriptions",{emails:a,deleteOldLetters:o||!1});case 5:return ns.forcedRequest("get-hidden-subscriptions/v1"),o&&i&&b(i),e.abrupt("return",n.UnsubscribeResult.SUCCESS);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",n.UnsubscribeResult.FAILURE);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();function b(e){var t=Object(s.a)(),r=ns.Model.get("folders",{mailboxUid:t}).getFidBySymbol("trash"),n={current_folder:r},i=Daria.router.getCurrentParams(),o=e.getCount(),a=e.getIds("delete",n),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ids:a,count:o,action:"delete"},n);c.whereToGo=Daria.messages.whereToGoAfterMove("delete",e,c),ns.events.trigger("daria:MOPS:action-start",c);var d=Daria.MOPS.prepareMove({action:"delete",mMessagesChecked:e,ids:a,params:n,extendedParams:c,pageParams:i}),f=d.willGoToFolder3pane,g=d.willGoToFolder2pane;Daria.MOPS.doActionInModelsByIds(a,"move",{fid:r}),Daria.MOPS.invalidateMessagesCheckedModels(a,"delete"),f&&(Daria.router.navigate(Daria.Page.generateUrl.closeMessage()),ns.Model.get("focus").setPreventOpenOnFocus()),g&&Daria.router.navigate(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-complete",c)}var y=function(){var e=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:return e.abrupt("return",n.UnsubscribeResult.SUCCESS);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.UnsubscribeResult.FAILURE);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({messages:t});case 2:e.sent!==n.UnsubscribeResult.FAILURE&&Object(a.showStatuslineComponent)({name:i.StatuslineName.UnsubscribeSuccess,count:m(t).length});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(e){return Promise.all(e.map(function(e){return O(e.messageType,e.email)}))},O=function(e,t){return ns.forcedRequest("do-trash-messages",{messageType:e,search:{from:t}})},x=function(e,t,r){var n=Object(o.a)(e,t,r);return Daria.IS_CORP?{subscriptions:[],messages:n}:{subscriptions:g(n),messages:n}},M=function(){var e=d(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:if(!(r=e.sent)||!r[0].isValid()){e.next=6;break}return n=r[0],e.abrupt("return",n.isEmpty()?t:t.filter(function(e){return!n.hasSubscription(e.email)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},,function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SEASONS_LOCALES=t.THEME_LOCALES=void 0;var i=r(551);t.THEME_LOCALES=((n={bears:"themes/bears",besiktas:"themes/besiktas",colorful:"themes/colorful",cosmos:"themes/cosmos",dandelions:"themes/dandelions",fenerbahce:"themes/fenerbahce",foxes:"themes/foxes",galatasaray:"themes/galatasaray","galatasaray-net":"themes/galatasarayNet",lamp:"themes/lamp",newspaper:"themes/newspaper",newyear:"themes/newyear",orangetree:"themes/orangetree",owls:"themes/owls",plasticine:"themes/plasticine",relax:"themes/relax",sea:"themes/sea",seasons:"themes/seasons",weather:"themes/weather",zverushki:"themes/zverushki"})[i.ThemeName.GeneralFlow]="themes/generalFlow",n[i.ThemeName.GeneralGrass]="themes/generalGrass",n[i.ThemeName.GeneralDarkflow]="themes/generalDarkFlow",n[i.ThemeName.GeneralNewYear2024]="themes/newyear",n[i.ThemeName.GeneralDefault]="themes/generalDefault",n),t.SEASONS_LOCALES={winter:"themes/seasonsWinter",summer:"themes/seasonsSummer",autumn:"themes/seasonsAutumn",spring:"themes/seasonsSpring"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=function(e){return null!=e}},,function(e,t,r){"use strict";r.d(t,"a",function(){return S});var n,i,o=r(135),a=(r.n(o),r(1601)),s=r(325),l=r(373),u=r(1602),c=r(136),d=(r.n(c),r(406)),f=r(479),g=r(329);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=(i=y((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(b(e=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}(this,v(t).call(this))),"folders",i,b(e)),e.subscribeToModelChanges=function(){var t=Object(g.getMailboxUid)();t!==e.mailboxUid&&(e.unsubscribe&&e.unsubscribe(),e.unsubscribe=e._addModelSubscription("folders",{mailboxUid:Object(g.getMailboxUid)()},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.folders=(t.folder||[]).map(function(e){return new u.a(e)}),Object(a.a)(e.getFolderBySymbol)},onDestroyed:function(){e.folders=[]}}),e.mailboxUid=t)},e.getFolderBySymbol=Object(o.memoize)(function(t){for(var r=0,n=e.folders.length;r<n;r++){var i=e.folders[r];if(i.data.symbol===t)return i}return null}),e.getFolderByName=Object(o.memoize)(function(t){for(var r=0,n=e.folders.length;r<n;r++){var i=e.folders[r];if(i.data.name===t)return i}return null}),e.subscribeToModelChanges(),Object(f.addNsEventListener)("ns-page-before-load",e.subscribeToModelChanges),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,l["default"]),function(e,t,r){t&&h(e.prototype,t),r&&h(e,r)}(t,[{key:"isFidSymbol",value:function(e,t){var r=this.getFolderBySymbol(t);return r&&r.data.fid===e}},{key:"getFolderByFid",value:function(e){return this.folders.find(function(t){return t.data.fid===e})}},{key:"getFolderDataByFid",value:function(e){var t=this.getFolderByFid(e);return t&&t.data}},{key:"refresh",value:function(){d.default.forcedRequest("folders").then(function(){return ns.events.trigger("daria:mFolders:symbolSet")})}},{key:"setIsHiddenTrashEnabled",value:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){m(o,n,i,a,s,"next",e)}function s(e){m(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0]&&t[0])){e.next=6;break}return e.next=4,d.default.forcedRequest("do-folder-create-hidden-trash");case 4:e.next=8;break;case 6:return e.next=8,d.default.forcedRequest("do-folder-purge-hidden-trash");case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"foldersForSearch",get:function(){return this.folders.filter(function(e){return!c.SearchDisabledFolders.includes(e.data.symbol)})}},{key:"foldersData",get:function(){return this.folders.map(function(e){return e.data})}}]),t}()).prototype,"folders",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y(n.prototype,"foldersForSearch",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"foldersForSearch"),n.prototype),y(n.prototype,"foldersData",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"foldersData"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return O});var n,i,o,a,s,l,u=r(325),c=r(1606),d=r(373),f=r(1607),g=r(1080),p=r(86);function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function w(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=(i=w((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(_(e=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?_(e):t}(this,b(t).call(this))),"forceShowAdvancedSearch",i,_(e)),S(_(e),"simplifiedParams",o,_(e)),S(_(e),"_suggestItems",a,_(e)),S(_(e),"_isFolded",s,_(e)),S(_(e),"_showSuggest",l,_(e)),e._searchSessionId="",e._searchId="",e._showSearchResultsTimestamp=null,e.searchQuery=new f.a,Object(u.reaction)(function(){return e.isFolded},p.setHeaderSearchFolded),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,d["default"]),function(e,t,r){t&&v(e.prototype,t),r&&v(e,r)}(t,[{key:"setForceShowAdvancedSearch",value:function(e){this.forceShowAdvancedSearch=e}},{key:"setSuggestItems",value:function(e,t){this._suggestItems=t?[].concat(h(this._suggestItems),h(e)):h(e)}},{key:"removeSuggestItem",value:function(e){var t=this._suggestItems.indexOf(e);t>=0&&this._suggestItems.splice(t,1)}},{key:"saveShowSearchResultsTimestamp",value:function(){this._showSearchResultsTimestamp=Date.now()}},{key:"getItemPosition",value:function(e){return this.suggestItems?this.suggestItems.indexOf(e):-1}},{key:"getSearchSessionId",value:function(){return this._searchSessionId||(this._searchSessionId=Object(c.a)()),this._searchSessionId}},{key:"dropSearchSession",value:function(){this._searchSessionId=""}},{key:"getSearchId",value:function(){return this._searchId||this.generateSearchId(),this._searchId}},{key:"generateSearchId",value:function(){this._searchId=Math.random().toString().substr(2)}},{key:"suggestItems",get:function(){var e=this.searchQuery,t=this._suggestItems,r=Array.from(t);return r.length&&e.currentSuggestText.trim()&&r.push(new g.a({target:"show-all-results",search_text:e.currentSuggestText.trim()})),r}},{key:"showSearchResultsTimestamp",get:function(){return this._showSearchResultsTimestamp}},{key:"wasSearchRequestSimplified",get:function(){return Boolean(this.simplifiedParams)}},{key:"hasSuggestItems",get:function(){return Boolean(this.suggestItems&&this.suggestItems.length)}},{key:"isFolded",get:function(){return this._isFolded},set:function(e){this._isFolded=e,this._isFolded&&(this._showSuggest=!1,this.forceShowAdvancedSearch=!1)}},{key:"showSuggest",get:function(){return this._showSuggest},set:function(e){this._showSuggest=e}}]),t}()).prototype,"forceShowAdvancedSearch",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w(n.prototype,"setForceShowAdvancedSearch",[u.action],Object.getOwnPropertyDescriptor(n.prototype,"setForceShowAdvancedSearch"),n.prototype),o=w(n.prototype,"simplifiedParams",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=w(n.prototype,"_suggestItems",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w(n.prototype,"setSuggestItems",[u.action],Object.getOwnPropertyDescriptor(n.prototype,"setSuggestItems"),n.prototype),w(n.prototype,"removeSuggestItem",[u.action],Object.getOwnPropertyDescriptor(n.prototype,"removeSuggestItem"),n.prototype),w(n.prototype,"suggestItems",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"suggestItems"),n.prototype),w(n.prototype,"wasSearchRequestSimplified",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"wasSearchRequestSimplified"),n.prototype),w(n.prototype,"hasSuggestItems",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasSuggestItems"),n.prototype),s=w(n.prototype,"_isFolded",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=w(n.prototype,"_showSuggest",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n)},function(e,t,r){"use strict";var n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?$/;e.exports=function(e){if("string"!=typeof e)return null;if(e=e.replace(" ","+"),!n.test(e))return null;var t=Date.parse(e);return t||null}},,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeMaster=void 0;var i=r(135),o=r(325),a=function(){function e(){this.isActive=!1,this.isPageDark=!1,this.isContentDark=!1,this.isAsideDark=!1}return e.prototype.updateCurrentSkin=function(e){this.isActive=!0,this.isPageDark=e.isPageDark,this.isContentDark=e.isContentDark,this.isAsideDark=e.isAsideDark},e.instance=i.memoize(function(){return new e}),n([o.observable],e.prototype,"isActive",void 0),n([o.observable],e.prototype,"isPageDark",void 0),n([o.observable],e.prototype,"isContentDark",void 0),n([o.observable],e.prototype,"isAsideDark",void 0),n([o.action],e.prototype,"updateCurrentSkin",null),e}();t.ThemeMaster=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"ThemesStore",function(){return M});var n,i,o,a,s,l,u,c,d,f,g,p,m=r(135),h=(r.n(m),r(325)),v=r(373);function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function x(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var M=(n=h.observable.ref,i=h.observable.ref,o=h.observable.ref,a=h.observable.ref,p=g=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(S(e=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}(this,y(t).call(this))),"currentTheme",l,S(e)),O(S(e),"currentSkin",u,S(e)),O(S(e),"themesData",c,S(e)),O(S(e),"orderedThemes",d,S(e)),O(S(e),"generalThemes",f,S(e)),e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null,e._addModelSubscription("themes",{},{onChanged:function(){var t=ns.Model.get("themes"),r=t.getCurrentTheme(),n=t.getSkinParams();e.mCurrentTheme!==r&&(e.mCurrentTheme=r,"function"==typeof e.unsubscribeFromCurrentThemeModel&&e.unsubscribeFromCurrentThemeModel(),e.unsubscribeFromCurrentThemeModel=e._addModelSubscription(e.mCurrentTheme.id,e.mCurrentTheme.params,{onChanged:function(){var r=t.getSkinParams();e.currentSkin=r},onDestroyed:function(){e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null}})),e.currentTheme=t.getCurrentThemeName(),e.currentSkin=n,e.themesData=t.get(".themes"),e.orderedThemes=t.get(".ordered-themes"),e.generalThemes=t.get(".general-themes")}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,v["default"]),function(e,t,r){t&&_(e.prototype,t),r&&_(e,r)}(t,[{key:"isGeneralThemeExists",value:function(e){return this.generalThemes.some(function(t){return t.name===e})}},{key:"isThemeExist",value:function(e){return e in this.themesData||this.isGeneralThemeExists(e)}},{key:"isContentDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.content_is_dark)}},{key:"isPageDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.page_is_dark)}},{key:"isAsideDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.aside_is_dark)}}]),t}(),g.instance=Object(m.memoize)(function(){return new M}),l=x((s=p).prototype,"currentTheme",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=x(s.prototype,"currentSkin",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=x(s.prototype,"themesData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=x(s.prototype,"orderedThemes",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=x(s.prototype,"generalThemes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x(s.prototype,"isContentDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isContentDark"),s.prototype),x(s.prototype,"isPageDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isPageDark"),s.prototype),x(s.prototype,"isAsideDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isAsideDark"),s.prototype),s)},,,,function(e,t,r){"use strict";var n=r(2095);t.a=n.a},,function(e,t,r){"use strict";var n=r(1315);t.a=n.a},,,,,,,function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(706);var a={"do-client-log":[],"do-journal-log":[]};function s(){Object.keys(a).forEach(function(e){var t=a[e];if(t.length){var r=ns.Model.get(e,{messages:JSON.stringify(t.splice(0,50))});ns.forcedRequest([r])}})}!function e(){requestIdleCallback(function(){setTimeout(e,1e3),s()})}(),window.ns&&ns.events.on("pageVisible.change",function(){Jane.watcher.get("pageVisible")||s()}),window.addEventListener("unload",function(){s()});var l=Daria.monitoring=e.exports;l.scenario=function(e){a["do-client-log"].push(Object.assign(e,{reason:"scenario"}))},l.mailListRender=function(e){a["do-client-log"].push(Object.assign(e,{reason:"mail-list-render"}))},l.workflow=function(e){a["do-client-log"].push(Object.assign(e,{reason:"workflow"}))},l.workflow.ads=function(e){l.workflow(Object.assign(e,{flow:"ads"})),"1"===Daria.urlParams.ad_debug&&console.log("[Workflow][ADS]:",e)},l.workflow.ipush=function(e){l.workflow(Object.assign(e,{flow:"ipush"}))},l.workflow.userEvents=function(e){l.workflow(Object.assign(e,{flow:"user_events"}))},l.workflow.attachToDisk=function(e){l.workflow(i({},e,{flow:"attach_to_disk"}))},l.journal=function(e,t){a["do-journal-log"].push(Object.assign(t,{operation:e}))},l.performance=function(e){a["do-client-log"].push(i({reason:"performance"},e))},l.performance.fps=function(e,t){l.performance(i({type:"fps",area:e},t))},l.stat=function(e){a["do-client-log"].push(Object.assign(e,{reason:"stat"}))},l.stat.settings=function(e){l.stat(i({flow:"settings"},e))},l.stat.ics=function(e){l.stat(Object.assign(e,{flow:"ics"}))},l.stat.model=function(e){l.stat(i({flow:"model"},e))},l.contactValidation=function(e){a["do-client-log"].push(Object.assign(e,{reason:"contact_validation"}))}},function(e,t){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o});var n="blocker",i="critical",o="minor"},,,,,,function(e,t,r){"use strict";t.a=function(){var e=!0,t=Object(n.getMailboxUid)();if(t&&ns.Model.isDefined("delegated-resources-list")){var r=ns.Model.get("delegated-resources-list"),i=e=r.data.resources.find(function(e){var r=e.resourceId;return r===t});if(i){var o=i.permissions.send_as;e=o}}return e};var n=r(329)},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o={def:function(e){return"undefined"!=n(e)},undef:function(e){return"undefined"==n(e)},string:function(e){return"string"==typeof e}},a=/^((((\w+):)\/\/)(([\w\-\.]+)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,s=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,l=encodeURIComponent,u={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"};function c(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}function d(e,t,r){o.undef(e[t])&&(e[t]=[]),Array.isArray(r)?e[t]=e[t].concat(r):e[t].push(r)}function f(e,t){for(var r=e[t],n=r.length,i=new Array(n),o=l(t),a=0;a<n;a++)i[a]=o+"="+l(r[a]);return i}function g(e){for(var t,r,n,i={},o=e.replace(/\+/g,"%20").split("&"),a=0,s=o.length;a<s;a++)(r=(t=o[a].split("=")).shift())&&(n=t.length>1?t.join("="):t[0]||"",d(i,c(r),c(n)));return i}var p=function(e){var t=(e=o.def(e)?e.toString():window.location.href).match(a);if(!t)throw new Error("This is not an url");this.Href=t[0],this.Proto=t[4]||"",this.Host=t[6]||"",this.Port=t[8]||0,this.Path=decodeURI(t[9]||""),this.Query=g(t[11]||""),this.Hash=c(t[13]||"")};for(i in p.prototype={go:function(){window.location.href=this.toString()},toString:function(){var e="";(this.Proto||this.Host)&&this.Host&&(e+=(this.Proto||"http")+"://"+this.Host,this.Port&&(e+=":"+this.Port)),this.Path&&(this.Host&&0!==this.Path.indexOf("/")&&(e+="/"),e+=encodeURI(this.Path));var t=this.query();return t&&(e+="?"+t),this.Hash&&(e+="#"+l(this.Hash)),e},clone:function(){return new p(this.toString())},query:function(e){if(o.def(e))return this.clearQuery(),o.string(e)?this.Query=g(e):this.replaceParams(e),this;var t=[];for(var r in this.Query)t=t.concat(f(this.Query,r));return t.join("&")},queryParams:function(){return Object.assign({},this.Query)},queryKeys:function(){var e=[];for(var t in this.Query)e.push(t);return e.sort()},addParam:function(e,t){return d(this.Query,e,t),this},addParams:function(e){for(var t in e)d(this.Query,t,e[t]);return this},removeParams:function(e){for(var t=0,r=e.length;t<r;t++)delete this.Query[e[t]];return this},replaceParams:function(e){var t=[];for(var r in e)t.push(r);return this.removeParams(t),this.addParams(e),this},clearQuery:function(){return this.Query={},this},getParam:function(e){var t=this.Query[e];return t?t[0]:null},getParams:function(e){return this.Query[e]||[]}},u)p.prototype[i]=function(e){return function(t){return o.def(t)?(this[e]=t,this):this[e]}}(u[i]);p.isValid=function(e){return s.test(e)},t.a=p},,,,function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(719);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&i(e.prototype,t),r&&i(e,r)}(e,[{key:"loadAvatars",value:function(e){return Object(n.b)(e)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var n=function(e){return Daria.Recipients.add(e)},i=function(e){return Daria.Recipients.requestContacts(e).then(function(){return e.map(function(e){var t=Daria.Recipients.getRecipientFromCache(e.name,e.email)||{};return{contact:e,avatar:{url:t.url,color:t.color,monogram:t.mono,valid:!0}}})})}},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToInt=t.defaultLabelColor=t.getLabelColors=t.OldLabelBackgroundColors=t.LabelTextColors=t.LabelBackgrounds=void 0;var n=r(2482);t.LabelBackgrounds=new n.Matrix({columns:[["#C2F2C7","#A6E0AD","#83CC8A","#58A05F"],["#D0F3F7","#A6DBE0","#83C5C7","#448F91"],["#DCE4F7","#BBCDED","#99B8F2","#6083D6"],["#E4DCF7","#D3C7F2","#BCA6FF","#795DC1"],["#D7EAF2","#A5D5EA","#7BC1DF","#3E96BB"],["#EEF19E","#E6E993","#D2D668","#A6AB16"],["#FFDF9A","#FFC669","#FAAD32","#E69412"],["#FFD9DE","#FCB7C0","#F496A3","#E75669"]]}),t.LabelTextColors=new n.Matrix({columns:[["#005704","#005704","#005704","#000"],["#004E57","#004E57","#004E57","#000"],["#002987","#002987","#002987","#000"],["#260087","#260087","#260087","#000"],["#0A3C52","#0A3C52","#0A3C52","#000"],["#5D4C00","#5D4C00","#5D4C00","#000"],["#692C00","#6A2D00","#6A2D00","#000"],["#8A0012","#8A0012","#8A0012","#000"]]}),t.OldLabelBackgroundColors=new n.Matrix({columns:[["31c73b","28a931","1d8925","136619"],["7cc3c4","67a3a4","508182","395e5f"],["5a8eff","5080e7","456ec8","385ca8"],["ba99ff","a488e2","8e75c4","7760a4"],["a8bcce","8e9faf","73818e","57616c"],["c1be00","a19f00","807e00","5c5a00"],["f99000","db7f00","bb6c00","9c5800"],["ff8985","ff3f30","f32300","d51e00"]]});var i={"#C2F2C7":"%labelColorPaleGreen","#A6E0AD":"%labelColorLightGreen","#83CC8A":"%labelColorGreen","#58A05F":"%labelColorDarkGreen","#D0F3F7":"%labelColorPaleTurquoise","#A6DBE0":"%labelColorLightTurquoise","#83C5C7":"%labelColorTurquoise","#448F91":"%labelColorDarkTurquoise","#DCE4F7":"%labelColorPaleBlue","#BBCDED":"%labelColorLightBlue","#99B8F2":"%labelColorBlue","#6083D6":"%labelColorDarkBlue","#E4DCF7":"%labelColorPalePurple","#D3C7F2":"%labelColorLightPurple","#BCA6FF":"%labelColorPurple","#795DC1":"%labelColorDarkPurple","#D7EAF2":"%labelColorPaleCyan","#A5D5EA":"%labelColorLightCyan","#7BC1DF":"%labelColorCyan","#3E96BB":"%labelColorDarkCyan","#EEF19E":"%labelColorPaleYellow","#E6E993":"%labelColorLightYellow","#D2D668":"%labelColorYellow","#A6AB16":"%labelColorDarkYellow","#FFDF9A":"%labelColorPaleOrange","#FFC669":"%labelColorLightOrange","#FAAD32":"%labelColorOrange","#E69412":"%labelColorDarkOrange","#FFD9DE":"%labelColorPalePink","#FCB7C0":"%labelColorLightPink","#F496A3":"%labelColorPink","#E75669":"%labelColorDarkPink"};t.getLabelColors=function(e){var r,n,o=t.OldLabelBackgroundColors.getItemCoords(e);if(o){var a=o.row,s=o.column,l=t.LabelBackgrounds.getCell({row:a,column:s});return{background:l,color:t.LabelTextColors.getCell({row:a,column:s}),backgroundColorNameKey:null!==(r=i[l])&&void 0!==r?r:null}}var u=e.toUpperCase();return"#"!==u[0]&&(u="#"+u),{background:u,color:function(e){var r=t.LabelBackgrounds.getItemCoords(e.toUpperCase());if(!r)return null;var n=r.row,i=r.column;return t.LabelTextColors.getCell({row:n,column:i})}(u),backgroundColorNameKey:null!==(n=i[u])&&void 0!==n?n:null}},t.defaultLabelColor=t.LabelBackgrounds.getCell({row:0,column:0});t.hexToInt=function(e){return parseInt(e.replace(/^#/,""),16)}},function(e,t,r){"use strict";r.d(t,"b",function(){return A});var n,i,o=r(333),a=r(657),s=r.n(a),l=r(374),u=r(2489),c=r(2490),d=r(1350),f=r(725),g=(r.n(f),r(2));r.n(g);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=["scope","fid","lid","unread","attaches","from","to","type"],_=Object.freeze({history:"Choose history",subject:"Choose subject",important:'Choose "Important"',unread:'Choose "Unread"',folder:"Choose folder",ql:"Choose query language",contact:"Choose contact",mail:"Choose mail",label:"Choose label","show-all-results":'Choose "Show all search results"'}),y={ADVANCED:"advanced",AUTOCOMPLETER:"autocompleter",BUTTON:"button",ENTER:"enter",NOTE_REQUEST_CLICK:"messages-notification-search:request-click: messages-notification-search:request-click",NOTE_FOLDER_RESET:"messages-notification-search:reset-folder",SUGGEST:"suggest"},S="item-selected",w="new-search",O="click",x="suggest-clear",M="suggest-results",P="suggest-history-item-remove",D=Object.freeze({button:"Click on Search",enter:"Press Enter",advanced:"Change Advanced filter",suggest:"Choose from Suggest","messages-notification-search:reset-folder":"Search notification reset folder filter","messages-notification-search:request-click":"Search notification request click",autocompleter:"Autocompleter"}),E=(v(n={},y.ADVANCED,c.a),v(n,y.ENTER,c.d),v(n,y.BUTTON,c.c),v(n,y.SUGGEST,c.e),n),T=(v(i={},s.a.CLICK,u.c),v(i,s.a.HOTKEY,u.d),v(i,s.a.BG_CLICK,u.b),i),C="Rocks suggest",k=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._suggestWasLogged=!1,this._suggestTrigger=null,this._suggestStartDate=null,this._searchTrigger=null,this._stores=t,this._services=r}return h(e,[{key:"setSuggestTrigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.b;this._suggestTrigger=e,this._suggestStartDate=Daria.now()}},{key:"setSearchTrigger",value:function(e){this._searchTrigger=e}}]),h(e,[{key:"logMessageClick",value:function(e,t,r,n,i){var a=this._stores,s=a.searchStore,l=a.routerStore.currentPage.params;if(Object(o.isParamsForSearch)(l)){var u=s.showSearchResultsTimestamp,c=Date.now()-u,d=[].concat(I(s),["r="+encodeURIComponent(i.request),"pos="+r,"user="+Object(o.getUid)(),"mid="+t,"time="+c,"clicktype="+e]);n&&d.push("tophits=yes");var f=function(e){var t=[];return b.forEach(function(r){e.hasOwnProperty(r)&&t.push(r+":"+e[r])}),t.join(",")}(i);f&&d.push("filter="+f);var g=(Daria.Config["exp-test-ids"]||[]).join(",");g&&d.push("exp="+g),Daria.searchClickCounter(d)}}},{key:"logSearchSuggest",value:function(e){var t=this._stores.searchStore,r=t.suggestItems.length;if(!e.suggestWithEmptyRequest||0!==r){var n=[].concat(I(t),["action=suggest","uid="+Object(o.getUid)(),"user_text="+encodeURIComponent(e.text||""),"count="+r,"timestamp="+(new Date).getTime()]);if(e.suggestWithEmptyRequest&&n.push("zero_suggest=yes"),this._searchTrigger&&n.push("search_trigger="+this._searchTrigger),e.suggestUsed){var i=e.target||"";n.push("pos="+e.itemPos,"target="+i,"show_text="+encodeURIComponent(e.show_text||""),"search_text="+encodeURIComponent(e.search_text||""),"suggest_used=yes"),this._metrikaCountSuggestItemClick(i),d.a.finishScenarioIfActive(l.e,S,{isAllResults:"show-all-results"===e.target,itemIndex:e.itemPos,timestamp:(new Date).getTime()})}else e.suggestWithEmptyRequest||n.push("suggest_used=no");Daria.searchClickCounter(n)}}},{key:"logSuggestActivation",value:function(e){d.a.finishScenarioIfActive(l.e,w,{timestamp:(new Date).getTime()}),d.a.startScenario(l.e,this._suggestTrigger,{isZeroRequest:e.suggestWithEmptyRequest,timestamp:(new Date).getTime()})}},{key:"logSuggestClear",value:function(){var e=d.a.getActiveScenario(l.e);e||(e=d.a.startScenario(l.e,O,{timestamp:(new Date).getTime()})),e.logStep(x,{timestamp:(new Date).getTime()})}},{key:"logSuggestResults",value:function(e){var t=e.request,r=d.a.getActiveScenario(l.e);r&&r.logStep(M,{isZeroRequest:!t,timestamp:(new Date).getTime()})}},{key:"logSuggestHistoryItemRemove",value:function(){d.a.getActiveScenario(l.e).logStep(P,{timestamp:(new Date).getTime()})}},{key:"endSuggestScenario",value:function(e){e=T[e]||e,d.a.finishScenarioIfActive(l.e,e,{timestamp:(new Date).getTime()})}},{key:"_metrikaCountSuggestItemClick",value:function(e){var t=_[e];t?this.countSuggestAction(t||e):Object(f.log)({type:g.ErrorType.Service,block:g.ErrorBlock.Search,method:"_metrikaCountSuggestItemClick",message:"Unknown target",source:g.ErrorSource.Logic,sourceMethod:g.ErrorSourceMethod.Search,additional:{target:e}})}},{key:"countSuggestAction",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Jane.c.apply(Jane,["Search",C,"Suggest"].concat(t))}},{key:"countSearchActivation",value:function(){Jane.c("Search",C,"Search input activation")}},{key:"countLogoClick",value:function(e){Jane.c("Search",C,"Click on Logo",e?"Mail":"Yandex/company")}},{key:"countTextCleared",value:function(){Jane.c("Search",C,"Click on X (clear)")}},{key:"countSuggestClose",value:function(){Jane.c("Search",C,"Click on X (close)")}},{key:"countBubbleAction",value:function(e,t){Jane.c("Search",C,"Baloon ".concat(e),t)}},{key:"countSearchContactsSuggest",value:function(e){var t;(t=Jane).c.apply(t,["Yandex Header","Abook Search"].concat(p(e)))}},{key:"logSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(this._searchTrigger){var n,i=this._stores.searchStore,a=this._searchTrigger;if(this._searchTrigger=null,t.from){var s=t.from.substr(0,6);n=s!==(t.to||"").substr(0,6)?s.substr(0,4):s}var l={type:"search.start-search",suid:Object(o.getSuid)(),advanced:r,action:a,message_type:t.type||"",folder:t.fid||"",label:t.lid||"",date:n||"",mail_type:function(){if(Object(o.isPDD)())return"pdd";if(Object(o.isCorp)())return"corp";return"big"}(),searchid:i.getSearchId(),reqid:i.getSearchSessionId()};Jane.ErrorLog.send(l),Jane.c("Search",C,"Go to search results",D[a]||a),this._logSearchScenario(a)}}},{key:"_logSearchScenario",value:function(e){if(this._stores.searchStore.searchQuery.isDefaultSuggest)d.a.finishScenarioIfActive(l.d,u.e);else{var t=Daria.now()-this._suggestStartDate,r=E[e]||e;d.a.finishScenarioIfActive(l.d,u.a),d.a.startScenario(l.d,r,{duration:t,expandTrigger:this._suggestTrigger})}}},{key:"logSearchFinish",value:function(e){var t=T[e];d.a.finishScenarioIfActive(l.d,t)}},{key:"countNewAdvancedSearch",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Jane.c.apply(Jane,["Search","New advanced search"].concat(t))}},{key:"suggestWasLogged",get:function(){return this._suggestWasLogged},set:function(e){this._suggestWasLogged=e}}]),e}();k.SEARCH_TRIGGER=y,t.a=k;var A=Object(o.isPDD)()?"webpdd":Object(o.isCorp)()?"YT":"web";function I(e){return["project=search_mail","product="+A,"reqid="+e.getSearchSessionId()]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0,t.log=function(e,t){Jane.ErrorLog.log(e,t)}},,,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(2577);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},,,function(e,t,r){e.exports=r.p+"_/b2b9d65a066152b21417dedc4506a404-attach_icon_word.svg"},,,,,,,,,,function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"e",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n=400,i="#333",o={SLIM:"slim",NORMAL:"normal"},a="11px 'yandex-sans', Arial, sans-serif",s=90},,function(e,t,r){"use strict";t.a=function(){return o(n).then(function(){return o(i)})};var n=["editor.css","compose-manager.css","compose-react.css"],i=["ckeditor.js","compose-manager.js"];function o(e){return Jane.Services.runModules(e)}},function(e,t,r){"use strict";r.d(t,"b",function(){return g}),r.d(t,"f",function(){return p}),r.d(t,"e",function(){return m}),r.d(t,"j",function(){return h}),r.d(t,"a",function(){return v}),r.d(t,"h",function(){return b}),r.d(t,"g",function(){return _}),r.d(t,"d",function(){return y}),r.d(t,"c",function(){return S}),r.d(t,"i",function(){return w});var n=r(136),i=(r.n(n),r(397)),o=r(141),a=(r.n(o),r(539)),s=(r.n(a),r(340)),l=(r.n(s),r(343)),u=(r.n(l),r(335)),c=r(329);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f={"stickers limit has been exceeded":"statusline/replyLaterCreateLimitError"},g=function(e){var t=Object(c.getMailboxUid)(),r=ns.Model.get("folders",{mailboxUid:t}),i=ns.Model.get("message",{ids:e,mailboxUid:t}),o=r.getFidBySymbol(n.WellKnownFolderSymbol.INBOX),a={current_folder:o};return i.isValid()&&(a.current_folder=i.get(".fid"),a.current_folder===o&&i.get(".tabId")&&(a.tabId=i.get(".tabId"))),a},p=function(e,t){var r=Object(c.getMailboxUid)(),o=ns.Model.get("folders",{mailboxUid:r}).getFolderBySymbol(n.WellKnownFolderSymbol.REPLY_LATER);Object(s.showSuccessMessage)(l.StatuslineName.ReplyLaterCreateSuccess,Object(u.default)("statusline/replyLaterCreateSuccess",{folder:o.name,date:Object(i.getShortDate)(t.date),time:Object(i.getShortTime)(t.date)})),Daria.MOPS.doActionInModelsByIds(e.getIds(),"doMove",{current_folder:o.fid}),e.resetChecked()},m=function(e){var t=f[e]||"statusline/unknownError";Object(s.showErrorMessage)(l.StatuslineName.ReplyLaterCreateError,Object(u.default)(t))},h=function(e){var t=Object(c.getMailboxUid)(),r=e.getIds(),n=ns.Model.get("labels",{mailboxUid:t}),i=n.getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_FINISHED),o=n.getLabelBySymbolicName(a.WellKnownLabels.PINNED);o&&Daria.MOPS.doActionInModelsByIds(r,"unlabel",{lid:o.lid}),i&&Daria.MOPS.doActionInModelsByIds(r,"unlabel",{lid:i.lid}),Daria.MOPS.updateModelsAfterPin(e,!1)},v=function(e){var t=Object(c.getMailboxUid)(),r=e.getIds(),n=ns.Model.get("labels",{mailboxUid:t}).getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_STARTED);n&&Daria.MOPS.doActionInModelsByIds(r,"unlabel",{lid:n.lid})},b=function(e,t){var r=Object(c.getMailboxUid)(),i=ns.Model.get("folders",{mailboxUid:r}),o=i.hasFolder(e)?e:i.getFidBySymbol(n.WellKnownFolderSymbol.INBOX),a=i.getFolderById(o).name;if(Daria.areFoldersTabsEnabled()&&t){var d=ns.Model.get("tabs",{mailboxUid:r}).getTab(t);a=d?d.get(".title"):a}Object(s.showSuccessMessage)(l.StatuslineName.ReplyLaterRemoveSuccess,Object(u.default)("statusline/replyLaterRemoveSuccess",{folder:a}))},_=function(){Object(s.showErrorMessage)(l.StatuslineName.ReplyLaterRemoveError,Object(u.default)("statusline/unknownError"))},y=function(e){var t=Object(c.getMailboxUid)(),r=ns.Model.get("stickers",{type:o.StickerType.REPLY_LATER}).getStickerByMid(e),i=ns.Model.get("folders",{mailboxUid:t});return r&&i.hasFolder(r.fid)?{fid:r.fid,tab:r.tab}:{fid:i.getFidBySymbol(n.WellKnownFolderSymbol.INBOX)}},S=function(e){var t=Object(c.getMailboxUid)(),r=e.getIds(),n=[].concat(d(r.ids),d(r.tids)).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:t})});return n.length>0?n[0]:null},w=function(e){if("message"===Daria.router.getCurrentPage()){var t=Daria.router.buildUrl("messages",e);Daria.router.navigate(t)}}},,,function(e,t,r){"use strict";var n=r(3634);r.d(t,"a",function(){return n.a})},function(e,t){e.exports={container:"SettingsPromo__container--35SZ2",item:"SettingsPromo__item--19x5f",caption:"SettingsPromo__caption--3Sl9i",icon:"SettingsPromo__icon--1kuou",email:"SettingsPromo__email--3kvOA",dark:"SettingsPromo__dark--2d-eE",disableAd:"SettingsPromo__disableAd--3sQD4",subscribes:"SettingsPromo__subscribes--3Jyk2"}},,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n,i,o,a,s,l=r(325);function u(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(i=c((n=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"data",i,this),u(this,"error",o,this),u(this,"setData",a,this),u(this,"setError",s,this),r?this.setError(r):t&&this.setData(t)}).prototype,"data",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=c(n.prototype,"error",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=c(n.prototype,"setData",[l.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.data=t,e.error={}}}}),s=c(n.prototype,"setError",[l.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){"string"==typeof t&&(t={message:t}),e.data={},e.error=t}}}),n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailboxSettings=void 0,t.MailboxSettings={default_email:1,disable_imap_autoexpunge:1,emails:1,enable_imap:1,enable_imap_auth_plain:1,enable_pop:1,fid:1,from_name:1,lock_employees_default_mail_domain:1,pop3_makes_read:1,pop_spam_subject_mark_enable:1,reply_to:1,signature_top:1}},function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n,i,o=r(325),a=r(373),s=r(1604),l=r(479),u=r(28);function c(e){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(i=m((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(g(e=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}(this,f(t).call(this))),"labels",i,g(e)),e.subscribeToModelChanges=function(){var t=Object(u.a)();t!==e.mailboxUid&&(e.unsubscribe&&e.unsubscribe(),e.unsubscribe=e._addModelSubscription("labels",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.labels=(t.label||[]).map(function(e){return new s.a(e)})},onDestroyed:function(){e.labels=[]}}),e.mailboxUid=t)},e.subscribeToModelChanges(),Object(l.addNsEventListener)("ns-page-before-load",e.subscribeToModelChanges),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["default"]),function(e,t,r){t&&d(e.prototype,t),r&&d(e,r)}(t,[{key:"getLabelBySymbolicName",value:function(e){var t=this.labels.findIndex(function(t){return t.data.symbolicName===e});return t>-1?this.labels[t]:null}},{key:"getLabelByName",value:function(e){var t=this.labels.findIndex(function(t){return t.data.name.toLowerCase()===e.toLowerCase()});return t>-1?this.labels[t]:null}},{key:"getImportantId",value:function(){var e=this.getLabelBySymbolicName("important_label");return e&&e.data&&e.data.lid}},{key:"getPriorityId",value:function(){var e=this.getLabelBySymbolicName("hamon_label");return e&&e.data&&e.data.lid}},{key:"getLabelById",value:function(e){var t=this.labels.findIndex(function(t){return t.data.lid===e});return t>-1?this.labels[t]:null}},{key:"openLabelRulesModal",value:function(e){Daria.Label.createFilter(e)}},{key:"labelItemsForSearch",get:function(){var e=this.getLabelBySymbolicName("important_label"),t=[];return e&&t.push({value:e.data.lid,text:e.data.name,icon:"important"}),t.push({value:"unread",text:i18n("%Labels_Only_New"),icon:"unread"}),t.concat(this.labels.filter(function(e){return e.data.user}).sort(function(e,t){return e.data.name>t.data.name}).map(function(e){return{value:e.data.lid,text:e.data.name,color:"#".concat(e.data.color)}}))}}]),t}()).prototype,"labels",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m(n.prototype,"labelItemsForSearch",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"labelItemsForSearch"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n,i,o,a,s,l,u,c=r(135),d=(r.n(c),r(325)),f=r(480),g=r(333);function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(i=h((n=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"currentPage",i,this),m(this,"retpath",o,this),m(this,"isCurrentPageEmptySearch",a,this),m(this,"_pageIsLoading",s,this),m(this,"_pageLoaded",l,this),m(this,"_syncState",u,this),this._syncState(),ns.events.on("ns-page-before-load",function(e,r){return t._syncState(r&&r[1])}),ns.events.on("ns-page-after-load",this._pageLoaded),this._pageIsLoading=!1}return function(e,t,r){t&&p(e.prototype,t),r&&p(e,r)}(e,[{key:"isCollectorSearch",value:function(e){return"rpopinfo"===(e=e||this.currentPage.params).scope}},{key:"isSearchResultsPage",get:function(){return Object(f.isSearchPage)(this.currentPage)||this.isCurrentPageEmptySearch}},{key:"isMessagesListPage",get:function(){return Object(f.isMessagesListPage)(this.currentPage)}},{key:"isMessagePage",get:function(){return Object(f.isMessagePage)()}},{key:"isMessageOpened",get:function(){return Object(f.isMessageOpened)(this.currentPage)}},{key:"isAbookPage",get:function(){return Object(f.isAbookPage)(this.currentPage)}},{key:"isSetupPage",get:function(){return Object(f.isSetupPage)(this.currentPage)}},{key:"isNavigatingToMessageInList",get:function(){return this._pageIsLoading&&Object(f.isMessageOpenedInList)(this.currentPage)}},{key:"isThreadOpened",get:function(){return Boolean(this.currentPage.params.thread_id)}},{key:"is404LikePage",get:function(){var e=this;return["404","not-found","no-message"].some(function(t){return t===e.currentPage.page})}}]),e}()).prototype,"currentPage",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:null,params:null}}}),o=h(n.prototype,"retpath",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=h(n.prototype,"isCurrentPageEmptySearch",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=h(n.prototype,"_pageIsLoading",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=h(n.prototype,"_pageLoaded",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._pageIsLoading=!1}}}),h(n.prototype,"isSearchResultsPage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isSearchResultsPage"),n.prototype),h(n.prototype,"isMessagesListPage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMessagesListPage"),n.prototype),h(n.prototype,"isMessagePage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMessagePage"),n.prototype),h(n.prototype,"isMessageOpened",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMessageOpened"),n.prototype),h(n.prototype,"isAbookPage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAbookPage"),n.prototype),h(n.prototype,"isSetupPage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isSetupPage"),n.prototype),h(n.prototype,"isNavigatingToMessageInList",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isNavigatingToMessageInList"),n.prototype),h(n.prototype,"isThreadOpened",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isThreadOpened"),n.prototype),h(n.prototype,"is404LikePage",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"is404LikePage"),n.prototype),u=h(n.prototype,"_syncState",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.retpath=Object(g.getRetpath)();var r=t||{page:Daria.router.getCurrentPage(),params:Daria.router.getCurrentParams()},n=e.currentPage.page!==r.page,i=!Object(c.isEqual)(e.currentPage.params,r.params);(n||i)&&(e._pageIsLoading=!0,e.currentPage.page=r.page,i&&(e.currentPage.params=r.params),e.isCurrentPageEmptySearch=Boolean(Jane.watcher.get("search.is-empty-search")))}}}),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return h}),r.d(t,"c",function(){return b});var n,i,o=r(325),a=r(373),s=r(333),l=r(396);r.n(l);function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m="hidden_trash_enabled",h="lc-pro-widget",v={enable_hotkeys:!0},b=(i=p((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(f(e=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}(this,d(t).call(this))),"settings",i,f(e)),e._addModelSubscription("settings",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.settings=t},onDestroyed:function(){e.settings={}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a["default"]),function(e,t,r){t&&c(e.prototype,t),r&&c(e,r)}(t,[{key:"isSet",value:function(e){return Object(s.areSettingsUnavailable)()?Boolean(v[e]):Boolean(this.settings[e])}},{key:"hasSetting",value:function(e){return void 0!==this.settings[e]}},{key:"getSettingValue",value:function(e){return this.settings[e]}},{key:"getSign",value:function(e){var t=this.getSettingValue(e);return!0===t||"on"===t}},{key:"isThreadMode",get:function(){return this.isSet("folder_thread_view")}},{key:"isBiggerText",get:function(){return this.isSet("with_bigger_text")}},{key:"isTimelineOpen",get:function(){return this.isSet("timeline-is-open")}},{key:"areTabsEnabled",get:function(){return this.isSet("show_folders_tabs")}},{key:"isOpenMessageInList",get:function(){return this.isSet("open-message-list")}},{key:"isHeadRecieversOpen",get:function(){return this.isSet("m_head_full_edition")}},{key:"is3Pane",get:function(){return Daria.is3pane()}},{key:"is2Pane",get:function(){return Daria.is2pane()}},{key:"showTranslateBar",get:function(){return this.isSet("translate")}},{key:"hasProInterface",get:function(){return this.isSet("has_pro_interface")}},{key:"leftColumnProWidgetExpandAt",get:function(){return this.getSettingValue(h)}},{key:"isOptInSubscriptionsEnabled",get:function(){return this.isSet(l.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},{key:"optInSubscriptionsEnabledAt",get:function(){return this.getSettingValue(l.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED_AT)}},{key:"optInSubscriptionsReviewedAt",get:function(){return this.getSettingValue(l.Settings.OPT_IN_SUBSCRIPTIONS_REVIEWED_AT)||this.optInSubscriptionsEnabledAt}},{key:"canUseOptInSubscriptions",get:function(){return this.isSet(l.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)}},{key:"hideB2cTariffPromo",get:function(){return this.isSet(l.Settings.NO_B2C_TARIFF_PROMO)}},{key:"hideYandexJobs",get:function(){return this.isSet(l.Settings.NO_YANDEX_JOBS)}},{key:"isSmartSubjectEnabled",get:function(){return this.getSign(l.Settings.EMPTY_SUBJECT_POPUP_DISABLED)}},{key:"isDefaultEmailLocked",get:function(){return this.getSettingValue(l.Settings.LOCK_DEFAULT_EMAIL)}}]),t}()).prototype,"settings",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(n.prototype,"isThreadMode",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isThreadMode"),n.prototype),p(n.prototype,"isBiggerText",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isBiggerText"),n.prototype),p(n.prototype,"isTimelineOpen",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isTimelineOpen"),n.prototype),p(n.prototype,"areTabsEnabled",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"areTabsEnabled"),n.prototype),p(n.prototype,"isOpenMessageInList",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isOpenMessageInList"),n.prototype),p(n.prototype,"isHeadRecieversOpen",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isHeadRecieversOpen"),n.prototype),p(n.prototype,"is3Pane",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"is3Pane"),n.prototype),p(n.prototype,"is2Pane",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"is2Pane"),n.prototype),p(n.prototype,"showTranslateBar",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"showTranslateBar"),n.prototype),p(n.prototype,"hasProInterface",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasProInterface"),n.prototype),p(n.prototype,"leftColumnProWidgetExpandAt",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"leftColumnProWidgetExpandAt"),n.prototype),p(n.prototype,"isOptInSubscriptionsEnabled",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isOptInSubscriptionsEnabled"),n.prototype),p(n.prototype,"optInSubscriptionsEnabledAt",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"optInSubscriptionsEnabledAt"),n.prototype),p(n.prototype,"optInSubscriptionsReviewedAt",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"optInSubscriptionsReviewedAt"),n.prototype),p(n.prototype,"canUseOptInSubscriptions",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"canUseOptInSubscriptions"),n.prototype),p(n.prototype,"hideB2cTariffPromo",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"hideB2cTariffPromo"),n.prototype),p(n.prototype,"hideYandexJobs",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"hideYandexJobs"),n.prototype),p(n.prototype,"isSmartSubjectEnabled",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isSmartSubjectEnabled"),n.prototype),p(n.prototype,"isDefaultEmailLocked",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isDefaultEmailLocked"),n.prototype),n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2062);r.d(t,"a",function(){return n.a})},,,,function(e,t,r){"use strict";var n=r(2105);t.a=n.a},function(e,t,r){"use strict";var n=r(2107);r.d(t,"a",function(){return n.a})},,,,,,,function(e,t,r){"use strict";var n=r(2244),i=r(2251);r.n(i);t.a=n.a},,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(639),i=(r(640),r(968));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._activeScenarios={},this._logger=t.logger,this.connectionId=t.connectionId,this.now=t.now}return function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(e,[{key:"startScenario",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.scenarioId,o=n.skipLogStart;this.hasActiveScenario(e)&&this._logger.warn('Scenario "',this.getActiveScenario(e),'" already started. ',t,r);var a=this._initScenario(e,i);return this._activateScenario(a,e,r),o||this._logStart(a,t,r),a}},{key:"startParallelScenario",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._initScenario(e);return this._activateScenario(n,n.id,r),this._logStart(n,t,r)}},{key:"_initScenario",value:function(e,t){return new i.a(e,{scenarioId:t,logger:this._logger,connectionId:this.connectionId,now:this.now})}},{key:"_activateScenario",value:function(e,t,r){var n=r.startTime;return delete r.startTime,e.setStartTime(n),this._setActiveScenario(t,e),e}},{key:"_logStart",value:function(e,t,r){return this._logger.logStep(e,n.c,a({initiator:t},r)),e}},{key:"finishScenarioIfActive",value:function(e,t,r){if(this.hasActiveScenario(e)){var i=this.getActiveScenario(e).setFinishTime();this._removeActiveScenario(e),this._logger.logStep(i,n.b,a({finalizer:t},r))}}},{key:"finishScenario",value:function(e,t,r){this.hasActiveScenario(e)?this.finishScenarioIfActive(e,t,r):this._logger.warn('There is no active "'.concat(e,'" scenario. '),t,r)}},{key:"hasActiveScenario",value:function(e){return Boolean(this.getActiveScenario(e))}},{key:"getActiveScenario",value:function(e){return this._activeScenarios[e]}},{key:"_setActiveScenario",value:function(e,t){return this._activeScenarios[e]=t}},{key:"_removeActiveScenario",value:function(e){delete this._activeScenarios[e]}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(969),i=r(639);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.scenarioId,o=r.connectionId,a=r.logger,s=r.now;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i||Object(n.a)(o+"_"),this.type=t,Object.defineProperties(this,{logger:{value:a,enumerable:!1},now:{value:s,enumerable:!1}})}return function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(e,[{key:"setStartTime",value:function(e){return this.startTime=Math.floor(e||this.now()),this}},{key:"getTimeFromStart",value:function(){return Math.floor(this.now()-this.startTime)}},{key:"setFinishTime",value:function(){return this.finishTime=Math.floor(this.now()),this}},{key:"logStep",value:function(e,t){this.logger.log(this,a({step:e},t))}},{key:"logError",value:function(e,t){var r=e.type,n=e.severity;this.logger.log(this,a({step:i.a,type:r,severity:n},t))}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=0,i=function(e){return"".concat(e||"").concat(++n)}},function(e,t,r){"use strict";var n=r(705),i=r.n(n),o=r(29),a=r(337),s=(r.n(a),r(374)),l=r(640);t.a=new l.a({isLogDisabled:function(e){var t=s.b[e];return Boolean(t&&!Object(a.hasFeature)(t))},debug:o.default,monitoring:i.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customDispatchEvent=function(e,t){var r;"function"==typeof Event?r=new Event(t):(r=document.createEvent("Event")).initEvent(t,!0,!0);e.dispatchEvent(r)}},,,,,,,,,,,,,,,,,,,function(e,t){e.exports={PREV:"prev",NEXT:"next"}},,function(e,t,r){"use strict";function n(e){return Daria.lcn?Daria.lcn[e||"default"]:void 0}t.a=n,t.c=function(e,t){Daria.lcn||(Daria.lcn={});return Daria.lcn[t||"default"]=e,n(t)},t.b=function(e,t){var r=parseInt(e,10),i=n(t);return Boolean(i&&r<i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigurePermission=function(){var e=!0,t=Object(n.getMailboxUid)();if(t&&ns.Model.isDefined("delegated-resources-list")){var r=ns.Model.get("delegated-resources-list");if(!r.data)return!0;var i=e=r.data.resources.find(function(e){var r=e.resourceId;return r===t});i&&(e=i.permissions.configure)}return e};var n=r(329)},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"f",function(){return o}),r.d(t,"d",function(){return a}),r.d(t,"e",function(){return s}),r.d(t,"g",function(){return l}),r.d(t,"a",function(){return u});var n="exit-without-saving-draft-popup",i="exit-without-saving-draft",o="exit-with-successful-draft-save",a="exit-with-failed-draft-save",s="exit-with-removing-draft",l="successful-sending",u="exit-by-expanding-another-compose"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=t.SECOND=void 0,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.WEEK=7*t.DAY,t.MONTH=30*t.DAY,t.YEAR=365*t.DAY},function(e,t,r){"use strict";t.c=function(e){var t=d(e);return new Promise(function(r,n){Promise.all([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.ids||c(e)?new Promise(function(e){ns.forcedRequest(u.INIT_COMPOSE).then(function(t){return e(t)},function(){return e()})}):Promise.resolve()}(e),ns.request(t)]).then(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),n=t[0],i=void 0===n?[]:n,o=t[1],a=void 0===o?[]:o;return r([].concat(l(a),l(i)))}).catch(n)})},t.b=function(e){var t=d(e).filter(function(e){var t=e.id;return Object(n.includes)([u.MESSAGE,u.MBODY],t)}).map(function(e){var t=e.id,r=e.params;return ns.Model.get(t,a({},r,{force:!0}))});if(!t.length)return Promise.resolve();return ns.forcedRequest(t).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(function(e){var t=a({},e.params,{force:null});ns.Model.get(e.id,t).setData(e.getData())})})},t.a=function(e){if(!e)return;var t=e.filter(function(e){return e&&e.id===u.INIT_COMPOSE})[0];return t&&t.data.messageId};var n=r(135),i=(r.n(n),r(337));r.n(i);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={INIT_COMPOSE:"do-init-compose",MESSAGE:"message",MBODY:"message-body",SETTINGS:"settings",PREDEFINED_DATA:"compose-predefined-data",SIGNS:"signs",FOLDERS:"folders",LABELS:"labels",MAILBOX_SETTINGS:"mailbox-settings",ADDRESS_INFORMATION:"address-information"};function c(e){var t=(e||{}).ids;return t&&(_.isString(t)||_.isArray(t)&&1===t.length)}function d(e){var t,r=e||{},n=r.mailboxUid,o=r.ids,s=r.tids;n&&(t={mailboxUid:n});var d=[ns.Model.get(u.SETTINGS),ns.Model.get(u.PREDEFINED_DATA),ns.Model.get(u.SIGNS,t),ns.Model.get(u.LABELS,t),ns.Model.get(u.FOLDERS,t)].concat(l(Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)?[ns.Model.get(u.MAILBOX_SETTINGS,t),ns.Model.get(u.ADDRESS_INFORMATION,t)]:[])),f=Boolean(s);if(c(e)&&!f){t||(t={}),d.push(ns.Model.get(u.MESSAGE,a({ids:o},t)));var g=ns.Model.infoLite(u.MBODY).calculateParamsForMessageBody(e);g&&d.push(ns.Model.get(u.MBODY,g))}return d}},,function(e,t,r){"use strict";const n={az:"az",be:"be",en:"en-gb",hy:"hy-am",ka:"ka",kk:"kk",ro:"ro",ru:"ru",tr:"tr",tt:"tt",uk:"uk",uz:"uz-latn"},i=["tt"],o=Object.values(n).filter(function(e){return!i.includes(e)});e.exports=n,Object.defineProperty(e.exports,"momentlangs",{value:o,enumerable:!1})},,function(e,t,r){e.exports={priorityTypes:{virus:r(2584)},comboKeys:{"general+none":r(2585)},extensions:{"7z":r(2586),ai:r(2587),aud:r(394),asf:r(420),avi:r(420),bmp:r(395),cab:r(544),cdr:r(2588),css:r(2589),csv:r(545),cur:r(395),djvu:r(2590),dll:r(2591),dng:r(395),doc:r(731),docx:r(731),dot:r(731),dotx:r(731),eml:r(1372),epub:r(2592),exe:r(1373),fb2:r(2593),flac:r(394),flv:r(420),gif:r(395),gz:r(544),gzip:r(544),htm:r(1374),html:r(1374),ico:r(395),iff:r(394),indd:r(2594),ini:r(2595),jpg:r(395),jpeg:r(395),js:r(2596),key:r(546),m3u:r(394),m3u8:r(394),m4a:r(394),m4r:r(394),m4b:r(394),mkv:r(420),mng:r(395),mov:r(420),mp3:r(394),mp4:r(420),mpg:r(420),mpeg:r(420),odp:r(2597),ods:r(2598),odt:r(2599),ogg:r(394),pcx:r(395),pdf:r(2600),pls:r(394),png:r(395),pps:r(546),ppsm:r(1011),ppsx:r(546),ppt:r(1011),pptx:r(1011),psd:r(2601),rar:r(2602),rtf:r(2603),sketch:r(2604),srt:r(546),svg:r(2605),swf:r(1375),tar:r(544),tif:r(395),tiff:r(395),txt:r(2606),vcf:r(2607),vob:r(420),wav:r(394),wma:r(394),wmv:r(420),xcf:r(395),xhtml:r(2608),xls:r(545),xlsb:r(545),xltm:r(545),xlsx:r(545),xltx:r(545),xml:r(2609),xps:r(546),zip:r(1376),zipx:r(1376)},types:{archive:r(544),audio:r(394),book:r(2610),compressed:r(544),executable:r(1373),flash:r(1375),font:r(2611),image:r(395),mail:r(1372),text:r(546),video:r(420)},default:r(2612),folder:r(2613)}},function(e,t,r){e.exports=r.p+"_/d54d57b887769a427474b0c8c7aaf694-attach_icon_powerpoint.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2813),t)},,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeWeather=function(){return i||(i=ns.Model.get("theme-weather"))},t.getThemeThumbnail=function(e){var t=Object(s.getGeneralThemesBridge)().getGeneralTheme(e);if(t)return Object(a.get)(t,"thumbnail.jpeg");var r="";"seasons"===e&&(r="-"+(n||(n=ns.Model.get("theme-seasons"))).getSeason());return u[e+r]},t.setTheme=function(e){if("newyear"!==e)return ns.Model.get("settings").setSettings({color_scheme:e,with_new_year:""});return ns.Model.get("settings").setSettings({with_new_year:"on"})},t.runTheme=function(e){if(l.includes(e))return Promise.resolve();return new Promise(function(t){Jane.Services.runModules(["theme-"+e+".css"],t)})};var n,i,o=r(551),a=(r.n(o),r(135)),s=(r.n(a),r(86)),l=Object.values(o.ThemeName),u=r(1450)},,,,,,,function(e,t,r){"use strict";t.a=function(){return[{serviceId:"people",name:i18n("%ServiceTabs_messaging")},{serviceId:"calendar",name:i18n("%ServiceTabs_calendar"),email:"info@calendar.yandex-team.ru"},{serviceId:"goals",name:i18n("%ServiceTabs_goals"),email:"robot-goals@yandex-team.ru"},{serviceId:"startrek",name:i18n("%ServiceTabs_startrek"),email:"startrek@yandex-team.ru"},{serviceId:"wiki",name:i18n("%ServiceTabs_wiki"),email:"wiki@yandex-team.ru"},{serviceId:"atushka",name:i18n("%ServiceTabs_diary"),email:"robot-atushka@yandex-team.ru"}]}},function(e,t,r){"use strict";var n=r(3640);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isOptInSubscriptionsVisible",function(){return i}),r.d(t,"canUseOptInSubscriptions",function(){return o}),r.d(t,"optInSubscriptionsEnabled",function(){return a});var n=r(396),i=(r.n(n),function(){return o()||!Daria.IS_CORP&&!Daria.Config.isWS&&"ru"===Daria.Config.TLD}),o=function(){return ns.Model.get("settings").isSet(n.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)},a=function(){return o()&&ns.Model.get("settings").isSet(n.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=t.usePromo=t.useThemes=t.useSettings=void 0;var n=r(3688);Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return n.useSettings}});var i=r(3689);Object.defineProperty(t,"useThemes",{enumerable:!0,get:function(){return i.useThemes}});var o=r(3713);Object.defineProperty(t,"usePromo",{enumerable:!0,get:function(){return o.usePromo}});var a=r(3715);Object.defineProperty(t,"useSettingsPopupStore",{enumerable:!0,get:function(){return a.useSettingsPopupStore}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var n=r(3757);Object.defineProperty(t,"SettingsSection",{enumerable:!0,get:function(){return n.SettingsSection}})},,function(e,t){e.exports={container:"SettingsCheckbox__container--25Z4a",checkbox:"SettingsCheckbox__checkbox--3e8lX"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var n=r(3857);Object.defineProperty(t,"ThemeCard",{enumerable:!0,get:function(){return n.ThemeCard}})},function(e,t){e.exports={root:"MailSettings__root--3I8ZP",container:"MailSettings__container--6wZ0t",main:"MailSettings__main--1MN5D",themesSection:"MailSettings__themesSection--Rqr4s",divider:"MailSettings__divider--3433q",showAllThemes:"MailSettings__showAllThemes--2JGl1",themesSectionHeader:"MailSettings__themesSectionHeader--3orgO",scrollRoot:"MailSettings__scrollRoot--1ZFpd",scrollContainer:"MailSettings__scrollContainer--156l7"}},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logAbookContactPopupOpenError=s;var n=r(2);r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s(){Jane.ErrorLog.log({type:n.ErrorType.Logic,message:"Failed to determine contact email while showing contact card.",block:n.ErrorBlock.Page,source:n.ErrorSource.Logic,sourceMethod:n.ErrorSourceMethod.AbookContactCard})}Daria.actions.define("abook.cops",function(e,t){var r=t.operation,n=a(t,["operation"]),i=ns.Model.get("abook-selected",Daria.router.getCurrentParams());return"abook.import"===r?Daria.abook.openImportDialog():"abook.export"===r?Daria.abook.openExportDialog():"abook.assign-contacts-from-group"===r?Daria.COPS[r](i,n).then(function(){i.clear(),Daria.router.navigate()}):void Daria.COPS[r](i,n)}),Daria.actions.define("abook.load-more-contacts",function(){var e=ns.Model.get("abook-contacts",Daria.router.getCurrentParams());try{e.loadMore()}catch(e){Jane.ErrorLog.log({type:n.ErrorType.Util,message:"Failed to load more contacts.",block:n.ErrorBlock.Page,source:n.ErrorSource.Logic,sourceMethod:n.ErrorSourceMethod.DariaPage})}}),Daria.actions.define("mail-common.abook-popup",function(e,t){if(!Daria.abook.isPopupOpened()){var r={lang:"ru",q:null,tid:null,targetTid:null,type:t.popupType},n={emails:t.emails};t.resultDeferred&&(n.resultDeferred=t.resultDeferred),ns.View.create("abook-popup",r).show(n)}}),Daria.actions.define("react-abook.check-contact-action",function(e,t){var r=t.cid,n=ns.Model.get("abook-contact",{cid:r}),i=ns.Model.get("abook-selected",Daria.router.getCurrentParams());i.isSelected(n)?i.remove(n):i.insert(n),Daria.actions.run("react-abook.selection-changed")}),Daria.actions.define("react-abook.selection-changed",function(){var e,t=ns.Model.get("abook-selected",Daria.router.getCurrentParams()),r=ns.Model.get("abook-contacts",Daria.router.getCurrentParams()),n=t.models.length,i=r.models.length,a=Boolean(n&&Daria.router.getCurrentParams().tid),s=Daria.Constants.TOOLBAR_BUTTONS,l=(o(e={},s.ABOOK_SELECT_ALL,!i||n!==i),o(e,s.ABOOK_DESELECT_ALL,i&&n===i),o(e,s.ABOOK_REMOVE,n),o(e,s.ABOOK_TO_GROUP,n),o(e,s.ABOOK_OUT_OF_GROUP,a),e);ns.events.trigger("daria:vAbookContacts:selectionChanged",l)}),Daria.actions.define("mail-common.show-contact-card",function(e,t){var r=ns.View.create("abook-person-popup"),n=t.contact.email;try{n&&n.length>0&&(n=n[0].value)}catch(e){s()}var a={where:$(window),how:{my:"center",at:"center",of:window,fixed:!0}};r.on("ns-view-destroyed",function(){r=null});try{r.open(a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{},t.contact,{shared:t.contact.isShared,email:n}))}catch(e){s()}var l=t.contact.isShared?"общий":"личный";Daria.vAbook.Metrika.c("Карточка контакта","В Почте",l,"показ карточки (клик на контакт)")}),Daria.actions.define("mail-common.show-small-email-popup",function(e,t){var r=ns.View.create("abook-choose-email-popup",{cid:t.cid,tid:t.tid});r.open({where:t.target}),r.on("ns-view-destroyed",function(){r=null})}),Daria.actions.define("contact-card.action",function(e,t){t.url&&(t.newPage?window.open(t.url,"_blank","noopener,noreferrer"):Daria.router.navigate(t.url))}),Daria.actions.define("react.abook.compose-go",function(e,t){if(t.emails){var r=t.emails,n=t.name,i=Daria.Constants.CONTACTS.DELIMITER,o=r.map(function(e){return n?'"'.concat(n,'" <').concat(e.value,">"):e.value}).join(i);Daria.composeGo({to:o})}})},function(e,t,r){"use strict";var n,i=1e3;function o(){return n&&window.clearTimeout(n),ns.page.block.clear(),!0}t.a=function(){return new Promise(function(e){o(),n=window.setTimeout(e,i),ns.page.block.add(o)})}},,function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cacheById={},this.cacheByEmail={},this.cacheByEmailInField={}}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"readContact",value:function(e){return this.cacheById[e]}},{key:"writeContact",value:function(e){e&&(this.cacheById[e.id]=e,this.cacheByEmail[e.email]=e)}},{key:"writeContactInField",value:function(e,t){e&&t&&(this.cacheByEmailInField[t]?this.cacheByEmailInField[t][e.email]=e:this.cacheByEmailInField[t]=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.email,e))}},{key:"findContactByEmail",value:function(e){return this.cacheByEmail[e]}},{key:"findContactByEmailInField",value:function(e,t){if(t&&this.cacheByEmailInField[t])return this.cacheByEmailInField[t][e]}},{key:"deleteContact",value:function(e){var t=this.readContact(e);t&&(delete this.cacheById[t.id],delete this.cacheByEmail[t.email])}},{key:"deleteContactByEmail",value:function(e){var t=this.findContactByEmail(e);t&&delete this.cacheByEmail[t.email]}},{key:"deleteContactByEmailInField",value:function(e,t){t&&this.cacheByEmailInField[t]&&delete this.cacheByEmailInField[t][e]}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,i,o=r(373),a=r(325),s=r(86);function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=(i=function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(c(e=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}(this,u(t).call(this))),"isFolded",i,c(e)),Object(a.reaction)(function(){return e.isFolded},s.setHeaderContactsSearchFolded),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["default"]),t}()).prototype,"isFolded",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(769);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}()},function(e,t,r){"use strict";var n=r(134),i=r.n(n),o=r(579),a=r.n(o);t.a=i.a.createContext({lang:"ru",t:a.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}},,,,,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1880),t)},function(e,t,r){"use strict";var n,i=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportStore=t.AuthError=void 0;var l,u=r(135),c=s(r(406)),d=r(1881),f=r(477),g=r(1132),p=s(r(580)),m=function(e){function t(r,n){void 0===n&&(n="Not authorized");var i=e.call(this,n)||this;return i.reason=r,i.name="AuthError",i.constructor=t,i}return i(t,e),t}(Error);t.AuthError=m,function(e){e.Phone="phone",e.Password="password"}(l||(l={}));var h=((n={})[l.Password]={modelName:"is-user-recently-entered-password",passportConfirmUrl:f.passportVerifyPasswordUrl},n[l.Phone]={modelName:"is-user-recently-confirmed-phone",passportConfirmUrl:f.passportPhoneConfirmUrl},n),v=function(){function e(e){this.userPhonesStore=e,this.confirmExpireTimeMap=new Map}return e.prototype.canSkipCheckAuth=function(e){return o(this,void 0,Promise,function(){var t;return a(this,function(r){switch(r.label){case 0:return(t=this.confirmExpireTimeMap.get(e))||p.default.isFirefox()?[3,2]:[4,this.checkRecentAuth(e)];case 1:return[2,r.sent()];case 2:return[2,Boolean(t&&Date.now()<t)]}})})},e.prototype.checkRecentAuth=function(e){return o(this,void 0,Promise,function(){var t,r,n,i,o;return a(this,function(a){switch(a.label){case 0:return t=h[e].modelName,[4,c.default.forcedRequest(t)];case 1:return r=a.sent(),n=r.check,i=r.remainTime,n&&i&&(o=Date.now()+1e3*(i-60),this.confirmExpireTimeMap.set(e,o)),[2,n]}})})},e.prototype.checkAuthConfirmed=function(e){return o(this,void 0,Promise,function(){var t,r,n;return a(this,function(i){switch(i.label){case 0:return t=this.userPhonesStore.hasSecurePhone||e?l.Phone:l.Password,[4,this.canSkipCheckAuth(t)];case 1:return i.sent()?[2]:(r=h[t].passportConfirmUrl,[4,g.PassportChildWindow.create({url:r}).show()]);case 2:if((n=i.sent())!==g.CloseReason.SUCCESS)throw new m(n);return[4,this.checkRecentAuth(t)];case 3:if(!i.sent())throw new m(g.CloseReason.CANCEL);return[2]}})})},e.instance=u.memoize(function(){return new e(d.UserPhonesStore.instance())}),e}();t.PassportStore=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n,i=r(134),o=r.n(i),a=r(496),s=r(945);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var m=function(){return r.e(23).then(r.bind(null,1168)).catch(function(){return r.e(23).then(r.bind(null,1168))})},h=p("div",{},void 0,p(a.a,{size:"m"})),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.Component),function(e,t,r){t&&c(e.prototype,t),r&&c(e,r)}(t,[{key:"_renderPlaceholder",value:function(){return h}},{key:"render",value:function(){return o.a.createElement(s.a,l({},this.props,{loader:m,renderPlaceholder:this._renderPlaceholder}))}}]),t}();v.displayName="DatePicker"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2073);r.d(t,"a",function(){return n.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e){return Object(n.getLabelColors)(e.color)};var n=r(723);r.n(n)},,function(e,t,r){"use strict";var n=r(401);r.d(t,"a",function(){return n.a})},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"_/cb8b9741d24077a129aaa910022a6cf9-attach_icon_mail.svg"},function(e,t,r){e.exports=r.p+"_/087993e09b5de5a63916e2283cdae636-attach_icon_exe.svg"},function(e,t,r){e.exports=r.p+"_/c13cdef7f16129d2f06fe53161e898d3-attach_icon_html.svg"},function(e,t,r){e.exports=r.p+"_/1461a37f3aeea10f2db8bf17717930db-attach_icon_flash.svg"},function(e,t,r){e.exports=r.p+"_/b09d4ef5dbb7774ffcc5879d17b020bd-attach_icon_zip.svg"},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var n=r(2662);Object.defineProperty(t,"SmartScroll",{enumerable:!0,get:function(){return n.SmartScroll}})},,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return f});var n=r(135),i=(r.n(n),r(326)),o=r.n(i);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l="DD.MM.YYYY",u=/[hdmy]+/i,c={minute:/m+/,hour:/H+/,day:/D+/,month:/M+/,year:/Y+/};var d={minute:{minValue:0,maxValue:59,formatLength:2,getNewValue:function(e,t){return e.minute(t)}},hour:{minValue:0,maxValue:23,formatLength:2,getNewValue:function(e,t){return e.hour(t)}},day:{minValue:1,maxValue:31,formatLength:2,getNewValue:function(e,t){return e.date(t)}},month:{minValue:1,maxValue:12,formatLength:2,getNewValue:function(e,t){return e.month(t-1)}},year:{minValue:1970,maxValue:2220,formatLength:4,getNewValue:function(e,t){return e.year(t)}}},f=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.date=t?o()(t):o()(),this.separator=".",this.dateFormat=r||l,this.formatLimitValues=Object(n.cloneDeep)(d),this.formatSymbolsOrder=new Map,this.init()}return function(e,t,r){t&&s(e.prototype,t),r&&s(e,r)}(e,[{key:"parseDateParts",value:function(e){return e.split(this.separator)}},{key:"areDatePartsValid",value:function(e){return e.every(function(e){return!isNaN(e)})}},{key:"tryParseDate",value:function(e,t){var r=this,n=o()(t),i=!1,a="",s=e.map(function(t,o){var s=r.formatSymbolsOrder.get(o),l=r.formatLimitValues[s].formatLength;if(t.length>=l){e.length-1===o&&(i=!0,a=t.slice(l),t=t.slice(0,l));var u=r.getValidDateValueStr(r.formatLimitValues[s],t);return r.formatLimitValues[s].getNewValue(n,u),u}return t});return i&&e.length<this.formatSymbolsOrder.size&&s.push(a),{newDate:n,newInputString:s.join(this.separator).slice(0,this.dateFormat.length)}}},{key:"getTimeItemsWithThirtyMinutesStep",value:function(e,t){for(var r=d.hour,n=[],i=r.minValue;i<=r.maxValue;i++){var a=o()(this.date).set({hour:i,minute:0}),s=o()(this.date).set({hour:i,minute:30}),l=a>t||a<e,u=s>t||s<e;n.push({date:a,timeStr:a.format(this.dateFormat),isDisable:l},{date:s,timeStr:s.format(this.dateFormat),isDisable:u})}return n}},{key:"getValidDateValueStr",value:function(e,t){var r,n=e.minValue,i=e.maxValue,o=e.formatLength,a=Number(t);return a=a<n?n:a>i?i:a,function(e,t){for(var r="";t>0;)r+=e,t--;return r}("0",o-(r=String(a)).length)+r}},{key:"initDateFormatSeparator",value:function(){var e=a(this.dateFormat.split(u).filter(function(e){return e}),1)[0];this.separator=void 0===e?".":e}},{key:"initDateFormat",value:function(){var e=this.dateFormat.split(this.separator);this.dateFormat=e.every(function(e){return u.test(e)})?this.dateFormat:l}},{key:"initFormatLimitValues",value:function(){var e=this,t=this.dateFormat.split(this.separator);this.formatSymbolsOrder.clear(),t.forEach(function(t,r){Object.keys(e.formatLimitValues).forEach(function(n){c[n].test(t)&&(e.formatSymbolsOrder.set(r,n),e.formatLimitValues[n].formatLength=t.length)})})}},{key:"init",value:function(){this.initDateFormatSeparator(),this.initDateFormat(),this.initFormatLimitValues()}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.b=o;var n=r(135),i=(r.n(n),r(743));function o(e){var t=ns.Model.get("compose-predefined-data"),r=t.extractDataFromParams(e);return t.setData({}),r}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)().then(function(){return Daria.React.Compose.create(e,o(e),Object(n.isEqual)(e,{}))})}},function(e,t,r){"use strict";function n(e){var t=ns.Model.get("folders").getFolderById(e);return t?t.symbol||"user":null}t.c=n,t.b=function(e){var t={};if(Daria.isPriorityTab())t.container_kind="tab",t.container_id=t.container_type="priority";else if(Daria.isAttachmentsTab())t.container_kind="tab",t.container_id="attachments",t.container_type="attachments";else if(Daria.isSearchPage())t.container_kind="search",t.container_id="",t.container_type="";else if(Daria.areFoldersTabsEnabled()&&e.isInTab()){var r=e.getTabId();t.container_kind="tab",t.container_id=r,t.container_type=r}else{var i=e.getFolderId();t.container_kind="folder",t.container_id=i,t.container_type=n(i)}return t},t.a=function(e){return Daria.Config.yandexuid+(e||"")+Math.random().toString(16).slice(2)}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r["message-id"],o=t.getIds(e,r);i&&(o.ids=-1!==o.ids.indexOf(i)?[i]:[]);return[].concat(n(o.ids),n(o.tids)).map(function(e){return ns.Model.get("message",{ids:e})})}},function(e,t,r){"use strict";r.d(t,"a",function(){return S});var n,i=r(134),o=(r.n(i),r(138)),a=r.n(o),s=r(359),l=r(333),u=r(719),c=r(542),d=(r.n(c),r(33)),f=r(672);function g(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){g(o,n,i,a,s,"next",e)}function s(e){g(o,n,i,a,s,"throw",e)}a(void 0)})}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=["subscriptions.js","subscriptions.css"],b=function(){return Object(d.e)(v).then(function(e){return m(e,1)[0]})},_=function(){var e=p(regeneratorRuntime.mark(function e(t,r){var n,i,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r&&(t=Object(f.d)(r)),n=Object(f.f)(Object(f.e)(t)),i=n.map(function(e){return{name:e.displayName,email:e.email}}),e.next=5,Object(u.b)(i);case 5:return o=e.sent,s=document.createElement("div"),c=function(){return b().then(function(e){return h(e.Unsubscribe,{visible:!0,contacts:o,logMetric:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(l.logMetric)(["Нотификации","Функциональные нотификации"].concat(t))},onClose:function(){a.a.unmountComponentAtNode(s),s.remove()},onManageSubscriptions:function(){return ns.events.trigger("daria:unsubscribe-popup:show")},onAction:function(e){var t=e.deleteOldLetters;return Object(f.h)({messages:n,mMessagesChecked:r,deleteOldLetters:t})}})})},e.abrupt("return",y(s,c));case 9:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}();function y(e,t){return new Promise(function(r){a.a.render(h(s.default,{lang:Object(l.getLocale)()},void 0,h(c.ModuleLoader,{component:t,onLoad:r,onError:r})),e),document.body.appendChild(e)})}var S=function(){var e=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_([],t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HooksManager=t.Stage=void 0;var u=l(r(413));!function(e){e.before="before"}(t.Stage||(t.Stage={}));var c=function(){function e(){this.hooks={before:{}}}return e.prototype.registerHandler=function(e,t,r){var n=this,i=this.hooks[e][t]||[];return i.push(r),this.hooks[e][t]=i,function(){return n.unregisterHandler(e,t,r)}},e.prototype.unregisterHandler=function(e,t,r){var n=this.hooks[e][t];if(n){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},e.prototype.runBefore=function(e,t,r){var n=this.hooks.before[e];return!(!n||!n.length)&&this.runHandlers(n,t,r)},e.prototype.hasHandler=function(e){var t=this.hooks.before[e];return Boolean(t&&t.length)},e.prototype.runHandlers=function(e,t,r){return n(this,void 0,Promise,function(){var n,a,l,u,c,d;return i(this,function(i){switch(i.label){case 0:n={cancelled:!1,args:r},i.label=1;case 1:i.trys.push([1,6,7,8]),a=o(e),l=a.next(),i.label=2;case 2:return l.done?[3,5]:[4,l.value.apply(void 0,s(n.args))];case 3:if((n=i.sent()).cancelled)return[2];i.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return u=i.sent(),c={error:u},[3,8];case 7:try{l&&!l.done&&(d=a.return)&&d.call(a)}finally{if(c)throw c.error}return[7];case 8:return[2,t.apply(void 0,s(n.args,[!0]))]}})})},e.instance=u.default(function(){return new e}),e}();t.HooksManager=c},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=[13]},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(135),i=r.n(n),o=r(13);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){var r=t.name,n=t.type;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i.a.uniqueId(o.a.Config.connection_id+"_"),this.name=r,this.type=n}return function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(e,[{key:"log",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({session_id:this.id,type:this.type,client_timestamp:Date.now()},e);Daria.debug.log("".concat(this.name,": "),t),Daria.monitoring.workflow.userEvents(t)}}]),e}()},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),t.b=c,t.a=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({create:function(){var e=this,t=Object(o.getMailboxUid)(),r=_.isFunction(this.complete)?this.complete:_.noop,n=this.form&&this.form.serializeObject()||{},i=$.extend(n,this.params,{mailboxUid:t});if(Object(a.a)(i),c(i),!this.validate(i))return this.error&&this.error(),Vow.reject("Form validation failed");if("on"===i.forward_with_store)for(var s=0,l=i.clicker.length;s<l;s++)i.clicker[s]="forward"===i.clicker[s]?"forwardwithstore":i.clicker[s];var d=ns.Model.get("filters",{mailboxUid:t}).getById(i.id),f=Boolean(d),g=f?"do-filters-edit":"do-filters-add",p=function(){return ns.forcedRequest([{id:g,params:i},{model:ns.Model.get("filters",{mailboxUid:t}).getMasterRequest()}])},m=function(t){var r=_.find(t,"id",g),n=r.get(".id");return n?(ns.events.trigger(f?"daria:filters:edit":"daria:filters:create"),$.isFunction(e.success)&&e.success(n),vow.Promise.resolve(t)):vow.Promise.reject("error filter add")},h=["forward","forwardwithstore","notify","reply"],v=!1;return d&&(v=d.actions.some(function(e){return _.contains(h,e.type)})),v||(v=!_.isEmpty(_.intersection($.makeArray(i.clicker),h))),(v?new vow.Promise(function(e,t){ns.events.trigger("vSetupFiltersCreate:needEnterPassword",{action:p,filterMethod:g,onSuccess:function(r){m(r).then(e,u).fail(t)},onError:function(){u(),t()},onCancel:function(){t()}})}):p().then(m,function(e){return u(e&&e.invalid&&e.invalid[0]?e.invalid[0].error:void 0)})).always(r)}},e||{})};var n=r(340),i=(r.n(n),r(343)),o=(r.n(i),r(329)),a=r(3120);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return"request_uri_too_long"===e?Object(n.showErrorMessage)(i.StatuslineName.SetupError,i18n("%Setup_Filter_error_too_long")):Object(n.showErrorMessage)(i.StatuslineName.SetupError,i18n("%Произошла_ошибка"))};function c(e){if($.isArray(e.clicker)){var t={};e.clicker=$.map(e.clicker,function(e){return t[e]||""===e?null:(t[e]=!0,e)})}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){["folders","labels","messages","message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)});var t=[{id:"do-folder-clear",params:e},{id:"folders",params:{mailboxUid:e.mailboxUid}},{id:"labels",params:{mailboxUid:e.mailboxUid}}];return"messages"===Daria.router.getCurrentPage()&&t.push({id:"messages",params:Daria.router.getCurrentParams()}),ns.forcedRequest(t)}},,,,,,,function(e,t,r){e.exports={bears:r(3138),"bears-alt":r(3139),besiktas:r(3140),colorful:r(3141),"colorful-alt":r(3142),cosmos:r(3143),dandelions:r(3144),fenerbahce:r(3145),foxes:r(3146),galatasaray:r(3147),"galatasaray-net":r(3148),lamp:r(3149),newspaper:r(3150),newyear:r(3151),orangetree:r(3152),owls:r(3153),plasticine:r(3154),relax:r(3155),sea:r(3156),"sea-alt":r(3157),"seasons-winter":r(3158),"seasons-spring":r(3159),"seasons-summer":r(3160),"seasons-autumn":r(3161),weather:r(3162),zverushki:r(3163)}},function(e,t){Object.assign(t,{request:function(){var e=this,t=this.params;t.model=this.id,ns.request.addRequestParams(t);var r="".concat(Daria.api.journal,"?_m=").concat(this.id);return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(r,JSON.stringify(t))?Promise.resolve():ns.http(r,t).then(function(t){e.setData(t)})}})},function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var n=r(707),i={type:"search-error-messages",severity:n.a},o={type:"search-error-message-body",severity:n.b}},function(e,t,r){"use strict";t.b=function(e){if(window.Daria.Config.NO_SETTINGS)return;var t=i.a.SETTINGS_FALLBACK.map(function(t){return t.name in e?e[t.name]:""}),r=[i.a.COOKIE_SIGN].concat(t).join(":"),n=new Date;n.setFullYear(n.getFullYear()+10),window.Daria.setCookie(i.a.COOKIE_NAME,r,{expires:n,path:"/",secure:!0})},t.a=function(e){return i.a.SETTINGS_FALLBACK.some(function(t){return t.name===e})};var n=r(3517),i=r.n(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES_MAX_COUNT=t.SIGNATURE_MAX_LENGTH=void 0,t.SIGNATURE_MAX_LENGTH=Math.pow(10,5),t.SIGNATURES_MAX_COUNT=20},function(e,t,r){"use strict";t.a=function(){return{foldersStore:Object(n.getFoldersStore)(),labelsStore:Object(n.getLabelsStore)(),routerStore:Object(n.getRouterStore)(),searchStore:Object(n.getSearchStore)(),settingsStore:Object(n.getSettingsStore)()}};var n=r(370)},function(e,t,r){"use strict";var n=r(3639);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(135),i=r.n(n);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handlers={}}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,[{key:"on",value:function(e,t){this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t)}},{key:"off",value:function(e,t){if(this._handlers[e]){var r=this._handlers[e].indexOf(t);r>-1&&this._handlers[e].splice(r,1)}}},{key:"emit",value:function(e,t){for(var r=0,n=this._handlers[e]||[],i=n.length;r<i&&!n[r](t);r++);}}]),e}(),s=i.a.memoize(function(){return new a})},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionCountersStore=void 0;var a=r(135),s=o(r(373)),l=o(r(406)),u=r(479),c=r(325),d=r(370),f="get-subscription-counters/v1",g=function(e){function t(t){var r=e.call(this)||this;return r.settingsStore=t,r.lastUpdate=Date.now(),r.setNewsletterData=function(e){r.counters=e},r._addModelSubscription(f,{optinEnabled:r.optinEnabled},{onChanged:r.setNewsletterData}),u.addNsEventListener("xiva.mail.update",function(){return r.update()}),u.addNsEventListener("xiva.mail.insert",function(){return r.update()}),u.addNsEventListener("xiva.mail.move",function(){return r.update()}),u.addNsEventListener("fake-loader",function(){return r.forceUpdate()}),r}return n(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){return this.requestDataPromise||(this.requestDataPromise=this._requestModelData(f,this.getRequestParams()).then(this.setNewsletterData)),this.requestDataPromise},t.prototype.clearData=function(){delete this.requestDataPromise},t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},t.prototype.forceUpdate=function(){l.default.forcedRequest(f,this.getRequestParams())},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled}},t.instance=a.memoize(function(){return new t(d.getSettingsStore())}),i([c.observable],t.prototype,"counters",void 0),i([c.computed],t.prototype,"optinEnabled",null),i([c.action],t.prototype,"setNewsletterData",void 0),t}(s.default);t.SubscriptionCountersStore=g},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.SeasonsThemeName=t.ThemeScopeSeasons=t.WeatherThemeName=t.ThemeScopeWeather=t.ColorfulThemeName=t.ThemeScopeColorful=t.ThemeScopeContainer=void 0;var n=r(3692);Object.defineProperty(t,"ThemeScopeContainer",{enumerable:!0,get:function(){return n.ThemeScopeContainer}});var i=r(3698);Object.defineProperty(t,"ThemeScopeColorful",{enumerable:!0,get:function(){return i.ThemeScopeColorful}}),Object.defineProperty(t,"ColorfulThemeName",{enumerable:!0,get:function(){return i.ColorfulThemeName}});var o=r(3701);Object.defineProperty(t,"ThemeScopeWeather",{enumerable:!0,get:function(){return o.ThemeScopeWeather}}),Object.defineProperty(t,"WeatherThemeName",{enumerable:!0,get:function(){return o.WeatherThemeName}});var a=r(3703);Object.defineProperty(t,"ThemeScopeSeasons",{enumerable:!0,get:function(){return a.ThemeScopeSeasons}}),Object.defineProperty(t,"SeasonsThemeName",{enumerable:!0,get:function(){return a.SeasonsThemeName}});var s=r(3708);Object.defineProperty(t,"ThemeScopeDark",{enumerable:!0,get:function(){return s.ThemeScopeDark}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var n=r(3704);Object.defineProperty(t,"ThemeScopeItem",{enumerable:!0,get:function(){return n.ThemeScopeItem}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoDataLoader=t.MailSettings=void 0;var s=o(r(134)),l=r(327),u=a(r(324)),c=r(412),d=r(369),f=r(3750),g=r(3754),p=r(3866),m=r(476),h=a(r(1067)),v=r(1062),b=r(333),_=a(r(359));t.MailSettings=l.observer(function(e){var t,r=e.onClose,n=s.useRef(null),i=s.useRef(null),o=v.useSettingsPopupStore(),a=o.isAllThemesVisible,l=o.setAllThemesVisible,y=s.useMemo(function(){return{showAllThemes:a,setShowAllThemes:l}},[a,l]),S=y.showAllThemes,w=y.setShowAllThemes,O=v.useSettings(),x=v.useThemes(),M=v.usePromo(),P=s.useCallback(function(){w(!0),setTimeout(function(){n.current&&n.current.focus()},100),m.logPopupMetric([c.HEADER_METRIKA_SHOW_ALL_THEMES])},[w]),D=s.useCallback(function(){w(!1),setTimeout(function(){i.current&&i.current.focus()},100),m.logPopupMetric([c.HEADER_METRIKA_HIDE_ALL_THEMES])},[w]);return s.useEffect(function(){return m.logPopupMetric(),function(){return w(!1)}},[w]),s.default.createElement(_.default,{lang:b.getLocale()},s.default.createElement(d.SettingsContext.Provider,{value:O},s.default.createElement(d.ThemesContext.Provider,{value:x},s.default.createElement(d.PromoContext.Provider,{value:M},s.default.createElement("div",{className:h.default.root},s.default.createElement(f.SettingsHeader,{onClose:r}),s.default.createElement("div",{className:u.default(h.default.container,(t={},t[h.default.showAllThemes]=S,t))},s.default.createElement(g.MailSettingsMain,{buttonRef:i,onShowAllThemes:P,closePopup:r}),s.default.createElement(p.MailSettingsThemes,{onHide:D,buttonRef:n})))))))});t.PromoDataLoader=function(e){var t=e.callback,r=v.usePromo(),n=s.useMemo(function(){return!b.isCorp()&&Object.values(r.promos).some(function(e){return null===e||void 0===e?void 0:e.isNew})},[r]);return s.useEffect(function(){null===t||void 0===t||t({isExist:n})},[r,t,n]),null}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var n=r(3855);Object.defineProperty(t,"ThemesWithScope",{enumerable:!0,get:function(){return n.ThemesWithScope}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoItem=void 0;var s=o(r(134)),l=a(r(324)),u=a(r(335)),c=r(412),d=r(137),f=r(200),g=r(476),p=a(r(748)),m=a(r(3864));t.PromoItem=function(e){var t=e.className,r=e.caption,n=e.metricName,i=e.userType,o=e.type,a=e.url,h=e.onClick,v=e.isNew,b=e.testId;s.useEffect(function(){g.logPopupMetric([n,c.SHOW,i])},[n,i]);var _=s.useCallback(function(){h&&h(),g.logPopupMetric([n,c.CLICK,i])},[h,n,i]),y=s.default.useCallback(function(e){e.preventDefault()},[]),S="link"===o?"a":"button";return s.default.createElement(S,{href:a,onClick:_,className:l.default(p.default.item,m.default.item,t),onMouseDown:y,"data-testid":b},s.default.createElement(d.Text,{className:p.default.caption,maxLines:3,typography:"body-short-m",overflow:"ellipsis"},r),v&&s.default.createElement(f.Badge,{className:m.default.badge,view:"promo",outlineColor:"transparent",content:u.default("common-react/tag-new")}))}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductsStore=void 0;var a=r(135),s=o(r(373)),l=r(325),u=r(4558),c=r(675),d=r(4559),f=r(581),g=r(333),p=function(e){function t(){var t=e.call(this)||this;return t.items=[],t.availableUnitDate="",t.trialPeriodsCount=0,t.trialPeriod="",t.promoId="",t.promoPayload=null,t.currentSubscription=null,t.setProductsData=function(e){var r,n,i,o,a,s,l,u,c;if(t.items=null!==(r=null===e||void 0===e?void 0:e.items)&&void 0!==r?r:[],null===e||void 0===e?void 0:e.active_promo){t.availableUnitDate=null!==(i=null===(n=e.active_promo)||void 0===n?void 0:n.active_until_date)&&void 0!==i?i:"",t.promoId=null!==(a=null===(o=e.active_promo)||void 0===o?void 0:o.key)&&void 0!==a?a:"";var d=t.items.find(function(e){return e.best_offer}),g=null===d||void 0===d?void 0:d.trial;t.trialPeriodsCount=null!==(s=null===g||void 0===g?void 0:g.definition.periods_count)&&void 0!==s?s:0,t.trialPeriod=null!==(l=null===g||void 0===g?void 0:g.definition.period)&&void 0!==l?l:"";try{t.promoPayload=(null===(u=e.active_promo)||void 0===u?void 0:u.payload)&&JSON.parse(null===(c=e.active_promo)||void 0===c?void 0:c.payload)}catch(e){var p=e&&"object"==typeof e&&"message"in e?e.message:"Unknown error";f.logError({errorType:"invalid_active_promo_payload"},p)}}t.currentSubscription=(null===e||void 0===e?void 0:e.current_subscription)||null},t._addModelSubscription("products",{},{onChanged:t.setProductsData}),t}return n(t,e),t.prototype.waitForData=function(){return this._requestDataPromise||(this._requestDataPromise=this._requestModelData("products",{}).then(this.setProductsData)),this._requestDataPromise},t.prototype.doesMatchInterval=function(e){var t,r,n,i,o=new Date(this.availableUnitDate).getTime(),a=1e3*((null===(r=null===(t=this.promoPayload)||void 0===t?void 0:t[e])||void 0===r?void 0:r.startIntervalToShow)||0),s=1e3*((null===(i=null===(n=this.promoPayload)||void 0===n?void 0:n[e])||void 0===i?void 0:i.endIntervalToShow)||0);if(!o||!a)return!1;var l=g.promoNow();return!(l<o-a)&&l<=o-s},t.prototype.getBestProductForFeature=function(e){return this.items.filter(function(t){return t.features.some(function(t){return t.code===e})}).map(function(e){return e.prices.find(function(e){return e.period===u.PaymentPeriod.month})}).filter(c.isDefined).map(function(e){return{currency:e.currency,amount:e.amount,price_id:e.price_id}}).sort(function(e,t){return e.amount-t.amount})[0]},t.prototype.getPriceString=function(e){return e.amount+" "+d.CurrencySymbol[e.currency]},t.prototype.getPricesOfferWithTemporaryDiscount=function(){if(this.items&&this.items.length){var e=this.items.find(function(e){return e.best_offer});if(e){var t=e.prices.find(function(e){return e.period===u.PaymentPeriod.year}),r=e.prices.find(function(e){return e.period===u.PaymentPeriod.month});if(e.features.find(function(e){return e.code===u.ProductFeatureCode.DISK})&&((null===r||void 0===r?void 0:r.start_discount)||(null===t||void 0===t?void 0:t.start_discount)))return{priceYear:(null===t||void 0===t?void 0:t.start_discount)?t:void 0,priceMonth:(null===r||void 0===r?void 0:r.start_discount)?r:void 0}}}return null},t.instance=a.memoize(function(){return new t}),i([l.observable],t.prototype,"items",void 0),i([l.observable],t.prototype,"promoPayload",void 0),i([l.observable],t.prototype,"currentSubscription",void 0),i([l.action],t.prototype,"setProductsData",void 0),t}(s.default);t.ProductsStore=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n,i,o=r(325),a=r(373),s=r(510);r.n(s);function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(i=p((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(c(e=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}(this,u(t).call(this))),"data",i,c(e)),e._addModelSubscription("account-information",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.data=t},onDestroyed:function(){e.data={}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a["default"]),f(t,[{key:"uid",get:function(){return this.data.uid}},{key:"isB2BUser",get:function(){return this.data.isB2BUser}},{key:"domainAlias",get:function(){return this.data.aliases&&this.data.aliases[7]}},{key:"isAdmin",get:function(){return this.data.isAdmin}}]),f(t,[{key:"isDomainAlias",value:function(e){return Object(s.areEmailsEqual)(e,this.domainAlias)}}]),t}()).prototype,"data",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(n.prototype,"uid",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"uid"),n.prototype),p(n.prototype,"isB2BUser",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isB2BUser"),n.prototype),p(n.prototype,"domainAlias",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"domainAlias"),n.prototype),p(n.prototype,"isAdmin",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAdmin"),n.prototype),n)},function(e,t,r){"use strict";t.a=function(e){return Daria.memoizeClearCache(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(769);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,i,o=r(325),a=r(373);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(i=g((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(u(e=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?u(e):t}(this,l(t).call(this))),"data",i,u(e)),e.LS_ITEM_NAME="newLettersInMA",e._addModelSubscription("head-user-state"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["default"]),d(t,[{key:"hasNewLettersInMA",get:function(){return this.data.newLettersInMA}}]),d(t,[{key:"setNewLettersInMA",value:function(e){ns.Model.get("head-user-state").setNewLettersInMA(e)}}]),t}()).prototype,"data",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g(n.prototype,"hasNewLettersInMA",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasNewLettersInMA"),n.prototype),g(n.prototype,"setNewLettersInMA",[o.action],Object.getOwnPropertyDescriptor(n.prototype,"setNewLettersInMA"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(769);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["a"]),function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(t,[{key:"name",get:function(){return this.data.name}}]),t}()},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(325),o=function(){function e(){this.visible=!1,this.showAllThemes=!1}return e.prototype.toggle=function(e){this.visible=e},e.prototype.toggleAllThemes=function(e){this.showAllThemes=e},n([i.observable],e.prototype,"visible",void 0),n([i.observable],e.prototype,"showAllThemes",void 0),n([i.action],e.prototype,"toggle",null),n([i.action],e.prototype,"toggleAllThemes",null),e}();t.default=o},function(e,t,r){"use strict";var n=r(13);t.a=function(){return[Date.now(),n.a.uid].join("")}},function(e,t,r){"use strict";r.d(t,"a",function(){return O});var n,i,o,a,s,l,u,c,d=r(325),f=r(135),g=(r.n(f),r(397)),p=r(511);r.n(p);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=Object.freeze((b(c={},p.SearchQueryParams.SCOPE,""),b(c,p.SearchQueryParams.FID,""),b(c,p.SearchQueryParams.SERVICE_ID,""),b(c,p.SearchQueryParams.LID,""),b(c,p.SearchQueryParams.UNREAD,null),b(c,p.SearchQueryParams.ATTACHES,null),b(c,p.SearchQueryParams.HDR_FROM,null),b(c,p.SearchQueryParams.HDR_TO,null),b(c,p.SearchQueryParams.FROM,null),b(c,p.SearchQueryParams.TO,null),b(c,p.SearchQueryParams.DELETED,null),c)),w=Object.keys(S),O=(i=y((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"currentSearchText",i,this),_(this,"currentSuggestText",o,this),_(this,"currentShowText",a,this),_(this,"_advanced",s,this),_(this,"mailboxUid",l,this),_(this,"resetAdvanced",u,this),this.defaults=S}return function(e,t,r){t&&v(e.prototype,t),r&&v(e,r)}(e,[{key:"getAdvanced",value:function(e){switch(e){case"attaches":return"yes"===this._advanced.attaches;case"from":case"to":return Object(g.getDateFromCompactFormat)(this._advanced[e]);default:return this._advanced[e]}}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(Object(d.action)(function(t){var r=t.name,n=t.value;switch(r){case"unread":case"attaches":e._advanced[r]=n?"yes":null;break;case"from":case"to":Object(f.isDate)(n)&&(n=Object(g.getDateInUnseparatedNumericFormat)(n)),e._advanced[r]=n;break;default:e._advanced[r]=n}}))}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"updateAdvancedParams",value:function(e,t){var r=Object(f.defaults)(e,Object(f.pick)(t,w),S);for(var n in r)this.setAdvanced(n,r[n]);this.mailboxUid=t.mailboxUid}},{key:"reset",value:function(){this.currentSearchText="",this.currentSuggestText="",w.forEach(this.resetAdvanced)}},{key:"getAutosearchParams",value:function(){return h({},this._advanced)}},{key:"setCurrentShowText",value:function(e){this.currentShowText=e}},{key:"isAdvancedDirty",get:function(){var e=this;return w.some(function(t){return("scope"!==t||"rpopinfo"!==e._advanced[t])&&e._advanced[t]!==S[t]})}},{key:"isDefaultSuggest",get:function(){return!this.currentSuggestText&&!this.isAdvancedDirty}},{key:"paramsForSearch",get:function(){return e._omitEmpty(h({request:this.currentSearchText},this._advanced))}},{key:"paramsForSuggest",get:function(){return e._omitEmpty(h({request:this.currentSuggestText,mailboxUid:this.mailboxUid},this._advanced))}},{key:"hasOnlyFolderParam",get:function(){var e=this;return w.every(function(t){return"scope"===t&&"rpopinfo"===e._advanced[t]||"fid"!==t===(e._advanced[t]===S[t])})}}],[{key:"_omitEmpty",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};for(var n in t)(e=t[n])&&"all"!==e&&(r[n]=e);return r}}]),e}()).prototype,"currentSearchText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=y(n.prototype,"currentSuggestText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y(n.prototype,"currentShowText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y(n.prototype,"_advanced",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h({},S)}}),l=y(n.prototype,"mailboxUid",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y(n.prototype,"isAdvancedDirty",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAdvancedDirty"),n.prototype),y(n.prototype,"isDefaultSuggest",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"isDefaultSuggest"),n.prototype),y(n.prototype,"paramsForSearch",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"paramsForSearch"),n.prototype),y(n.prototype,"paramsForSuggest",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"paramsForSuggest"),n.prototype),y(n.prototype,"hasOnlyFolderParam",[d.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasOnlyFolderParam"),n.prototype),y(n.prototype,"setMultipleAdvanced",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"setMultipleAdvanced"),n.prototype),y(n.prototype,"setAdvanced",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"setAdvanced"),n.prototype),y(n.prototype,"updateAdvancedParams",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAdvancedParams"),n.prototype),y(n.prototype,"reset",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),u=y(n.prototype,"resetAdvanced",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setAdvanced(t,S[t])}}}),y(n.prototype,"setCurrentShowText",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"setCurrentShowText"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n,i,o=r(325);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=(i=s((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"open",i,this)}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(e,[{key:"toggle",value:function(e){this.open="boolean"==typeof e?e:!this.open}}]),e}()).prototype,"open",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(n.prototype,"toggle",[o.action],Object.getOwnPropertyDescriptor(n.prototype,"toggle"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n,i,o=r(325);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=(i=s((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"open",i,this)}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(e,[{key:"hide",value:function(){this.open=!1}},{key:"show",value:function(){this.open=!0}}]),e}()).prototype,"open",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(n.prototype,"hide",[o.action],Object.getOwnPropertyDescriptor(n.prototype,"hide"),n.prototype),s(n.prototype,"show",[o.action],Object.getOwnPropertyDescriptor(n.prototype,"show"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n,i,o=r(325),a=r(373);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(i=f((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(c(e=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}(this,u(t).call(this))),"modelData",i,c(e)),e._addModelSubscription("themes-selector",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.modelData=t},onDestroyed:function(){e.modelData=null}}),e.model=ns.Model.get("themes-selector"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["default"]),function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(t,[{key:"isOpened",get:function(){return this.modelData.opened}}]),t}()).prototype,"modelData",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(n.prototype,"isOpened",[o.computed],Object.getOwnPropertyDescriptor(n.prototype,"isOpened"),n.prototype),n)},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabsStore=void 0;var a=r(135),s=o(r(373)),l=r(325),u=function(e){function t(){var t=e.call(this)||this;return t.tabs=[],t._addModelSubscription("tabs",{},{onChanged:function(e){var r;t.tabs=null!==(r=null===e||void 0===e?void 0:e.tabs)&&void 0!==r?r:[]}}),t}return n(t,e),t.prototype.getTabById=function(e){return this.tabs.find(function(t){return t.id===e})||null},t.instance=a.memoize(function(){return new t}),i([l.observable],t.prototype,"tabs",void 0),t}(s.default);t.TabsStore=u},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,i,o,a,s,l,u=r(135),c=(r.n(u),r(325)),d=r(373);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(i=_((n=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(h(e=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}(this,m(t).call(this))),"data",i,h(e)),b(h(e),"userCountersHash",o,h(e)),b(h(e),"_onXivaUpdate",a,h(e)),b(h(e),"_setNewCountById",s,h(e)),b(h(e),"isDropdownOpen",l,h(e)),e._addModelSubscription("user-dropdown-data"),e._requestDataPromise=e._requestModelData("user-dropdown-data",{}),e._requestDataPromise.then(function(t){e.data=t}),ns.events.on("xiva.mail.multi.insert",e._onXivaUpdate),ns.events.on("xiva.mail.multi.update",e._onXivaUpdate),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,d["default"]),function(e,t,r){t&&p(e.prototype,t),r&&p(e,r)}(t,[{key:"_getUserAccounts",value:function(){return this.data.accounts}},{key:"getUserAccountsCountersHash",value:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){g(o,n,i,a,s,"next",e)}function s(e){g(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isUserCountersHashEmpty()){e.next=4;break}return e.next=3,this._requestDataPromise;case 3:this.updateUserCountersHash();case 4:return e.abrupt("return",this.userCountersHash);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_isUserCountersHashEmpty",value:function(){return 0===Object.keys(this.userCountersHash).length}},{key:"updateUserCountersHash",value:function(){var e={};(this._getUserAccounts()||[]).forEach(Object(c.action)(function(t){e[t.uid]=t["fresh-count"]})),this.userCountersHash=e}},{key:"_getFreshCountByUid",value:function(e){var t=this.data.accounts,r=0;return t&&t.some(function(t){return Number(t.uid)===Number(e)&&(r=Number(t["fresh-count"]||0),!0)}),r}},{key:"getFreshForDefault",value:function(){return this._getFreshCountByUid(Daria.uid)}}]),t}()).prototype,"data",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=_(n.prototype,"userCountersHash",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=_(n.prototype,"_onXivaUpdate",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var n=r.uid?ns.Model.get("user-dropdown-data").getUnreadAccountsMidsByUid(r.uid).length:0;e._setNewCountById(r.uid,Number(r.message.fresh_count||n||0)),Daria.gotNewMail+=e.getFreshForDefault(),Daria.updateTitle()}}}),_(n.prototype,"updateUserCountersHash",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"updateUserCountersHash"),n.prototype),s=_(n.prototype,"_setNewCountById",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var n=e.data;Object(u.get)(n,".accounts")&&n.accounts.length&&(n.accounts.forEach(Object(c.action)(function(i,o){Number(i.uid)===Number(t)&&(n.accounts[o]["fresh-count"]=r,e.updateUserCountersHash())})),e.data=n)}}}),l=_(n.prototype,"isDropdownOpen",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n,i,o=r(325),a=r(1614);var s=(i=function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"isToolbarFixed",i,this),this.watcher=new a.a({target:document.querySelector(".js-toolbar-wrap"),className:"is-fixed",onAdd:Object(o.action)(function(){return t.isToolbarFixed=!0}),onRemove:Object(o.action)(function(){return t.isToolbarFixed=!1})})}).prototype,"isToolbarFixed",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))}}),n)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return i});var i=function(){function e(t){var r=this,n=t.target,i=t.className,o=t.onAdd,a=void 0===o?function(){}:o,s=t.onRemove,l=void 0===s?function(){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mutationCallback=function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if("attributes"===s.type&&"class"===s.attributeName){var l=s.target.classList.contains(r.classToWatch);r.lastClassState!==l&&(r.lastClassState=l,l?r.classAddedCallback():r.classRemovedCallback())}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},this.targetNode=n,this.classToWatch=i,this.classAddedCallback=a,this.classRemovedCallback=l,this.lastClassState=this.targetNode&&this.targetNode.classList.contains(this.classToWatch),window.MutationObserver&&this.targetNode&&(this.observer=new MutationObserver(this._mutationCallback),this.observer.observe(this.targetNode,{attributes:!0}))}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(){var e={};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svgicon-".concat(t);if(e[t])return e[t];var n=document.getElementById(r);if(n){var i=Array.prototype.slice.call(n.childNodes),o=new XMLSerializer,a=i.reduce(function(e,t){return e+o.serializeToString(t)},""),s=n.getAttribute("viewBox"),l=n.getAttribute("fill");return e[t]={id:r,viewBox:s,svgBody:a,fill:l},e[t]}return null}}()},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportChildWindow=t.CloseReason=void 0;var o,a=r(333),s=r(627),l=r(479);!function(e){e.SUCCESS="SUCCESS",e.CANCEL="CANCEL",e.BLOCKED="BLOCKED"}(o=t.CloseReason||(t.CloseReason={}));var u=function(){function e(e){var t=this;this.params=e,this.currentWindow=null,this.key=Symbol("VerifyPasswordChildWindow"),this.disposer=new s.Disposer,this.resolveFn=null,this.onResponse=function(e){var r=e.source;t.currentWindow&&r===t.currentWindow&&e.origin===window.location.origin&&e.data.authSuccess&&t.close(o.SUCCESS)}}return e.create=function(t){return new e(t)},e.getWindowOptions=function(){var e=window.screenX+(document.body.clientWidth-840)/2;return["resizable=yes","location=no","toolbar=no","scrollbars=yes","chrome=yes","width=840","height=680","top="+(window.screenY+(document.body.clientHeight-680)/2),"left="+e].join(",")},e.prototype.show=function(){return n(this,void 0,Promise,function(){var t,r,n,s,l=this;return i(this,function(i){return this.currentWindow&&this.close(o.CANCEL),t=window.location.origin+"/u2709/post-message-to-opener.html",r=this.params.url+"?retpath="+encodeURIComponent(t)+"&uid="+a.getUid(),n=e.getWindowOptions(),(s=window.open(r,"ya_verify_password_child_window",n))?(this.currentWindow=s,[2,new Promise(function(e){l.resolveFn=e,l.createSubscriptions(s)})]):[2,o.BLOCKED]})})},e.prototype.createSubscriptions=function(e){var t=this,r=setInterval(function(){e.closed&&t.close(o.CANCEL)},100);this.disposer.add(this.key,[function(){return clearInterval(r)}]);var n=function(){return t.close(o.CANCEL)};this.disposer.add(this.key,[s.addEventListener({element:window,eventName:"beforeunload",listener:n,isCapture:!1}),s.addEventListener({element:window,eventName:"message",listener:this.onResponse,isCapture:!1}),l.addNsEventListener("ns-page-before-load",n)])},e.prototype.close=function(e){var t;this.currentWindow&&!this.currentWindow.closed&&this.currentWindow.close(),null===(t=this.resolveFn)||void 0===t||t.call(this,e),this.clear()},e.prototype.clear=function(){this.disposer.disposeAll(),this.currentWindow=null,this.resolveFn=null},e}();t.PassportChildWindow=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPhonesStore=void 0;var a=r(1134),s=r(135),l=o(r(373)),u=r(325),c=function(e){function t(){var t=e.call(this)||this;return t.data={},t._addModelSubscription("userphones",{},{onChanged:function(e){t.data=e||{}}}),t}return n(t,e),Object.defineProperty(t.prototype,"phones",{get:function(){return this.data.phone||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNotEmpty",{get:function(){return this._isNotEmpty(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSecurePhone",{get:function(){return this.phones.some(function(e){return e.secure===a.PhoneStatus.ON})},enumerable:!1,configurable:!0}),t.instance=s.memoize(function(){return new t}),i([u.observable],t.prototype,"data",void 0),i([u.computed],t.prototype,"phones",null),i([u.computed],t.prototype,"isNotEmpty",null),t}(l.default);t.UserPhonesStore=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r(2010).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(134),i=r.n(n),o=r(2045);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return i.a.createElement(o.a,a({},e,{progress:!0}))};t.a=s,s.displayName="Spin",s.defaultProps={theme:"normal"}},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(134),i=r.n(n),o=r(322),a=r.n(o);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=u(this,(e=c(t)).call.apply(e,[this].concat(i)))).state={component:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,r){t&&l(e.prototype,t),r&&l(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loader().then(function(t){e.setState({component:t.default})})}},{key:"render",value:function(){return this.state.component?i.a.createElement(this.state.component,this.props):this.props.renderPlaceholder()}}]),t}();f.propTypes={loader:a.a.func.isRequired,renderPlaceholder:a.a.func},f.defaultProps={renderPlaceholder:function(){return null}}},function(e,t,r){var n={"./af":1169,"./af.js":1169,"./ar":1170,"./ar-dz":1171,"./ar-dz.js":1171,"./ar-kw":1172,"./ar-kw.js":1172,"./ar-ly":1173,"./ar-ly.js":1173,"./ar-ma":1174,"./ar-ma.js":1174,"./ar-sa":1175,"./ar-sa.js":1175,"./ar-tn":1176,"./ar-tn.js":1176,"./ar.js":1170,"./az":1177,"./az.js":1177,"./be":1178,"./be.js":1178,"./bg":1179,"./bg.js":1179,"./bn":1180,"./bn.js":1180,"./bo":1181,"./bo.js":1181,"./br":1182,"./br.js":1182,"./bs":1183,"./bs.js":1183,"./ca":1184,"./ca.js":1184,"./cs":1185,"./cs.js":1185,"./cv":1186,"./cv.js":1186,"./cy":1187,"./cy.js":1187,"./da":1188,"./da.js":1188,"./de":1189,"./de-at":1190,"./de-at.js":1190,"./de-ch":1191,"./de-ch.js":1191,"./de.js":1189,"./dv":1192,"./dv.js":1192,"./el":1193,"./el.js":1193,"./en-au":1194,"./en-au.js":1194,"./en-ca":1195,"./en-ca.js":1195,"./en-gb":1196,"./en-gb.js":1196,"./en-ie":1197,"./en-ie.js":1197,"./en-nz":1198,"./en-nz.js":1198,"./eo":1199,"./eo.js":1199,"./es":1200,"./es-do":1201,"./es-do.js":1201,"./es.js":1200,"./et":1202,"./et.js":1202,"./eu":1203,"./eu.js":1203,"./fa":1204,"./fa.js":1204,"./fi":1205,"./fi.js":1205,"./fo":1206,"./fo.js":1206,"./fr":1207,"./fr-ca":1208,"./fr-ca.js":1208,"./fr-ch":1209,"./fr-ch.js":1209,"./fr.js":1207,"./fy":1210,"./fy.js":1210,"./gd":1211,"./gd.js":1211,"./gl":1212,"./gl.js":1212,"./gom-latn":1213,"./gom-latn.js":1213,"./he":1214,"./he.js":1214,"./hi":1215,"./hi.js":1215,"./hr":1216,"./hr.js":1216,"./hu":1217,"./hu.js":1217,"./hy-am":1218,"./hy-am.js":1218,"./id":1219,"./id.js":1219,"./is":1220,"./is.js":1220,"./it":1221,"./it.js":1221,"./ja":1222,"./ja.js":1222,"./jv":1223,"./jv.js":1223,"./ka":1224,"./ka.js":1224,"./kk":1225,"./kk.js":1225,"./km":1226,"./km.js":1226,"./kn":1227,"./kn.js":1227,"./ko":1228,"./ko.js":1228,"./ky":1229,"./ky.js":1229,"./lb":1230,"./lb.js":1230,"./lo":1231,"./lo.js":1231,"./lt":1232,"./lt.js":1232,"./lv":1233,"./lv.js":1233,"./me":1234,"./me.js":1234,"./mi":1235,"./mi.js":1235,"./mk":1236,"./mk.js":1236,"./ml":1237,"./ml.js":1237,"./mr":1238,"./mr.js":1238,"./ms":1239,"./ms-my":1240,"./ms-my.js":1240,"./ms.js":1239,"./my":1241,"./my.js":1241,"./nb":1242,"./nb.js":1242,"./ne":1243,"./ne.js":1243,"./nl":1244,"./nl-be":1245,"./nl-be.js":1245,"./nl.js":1244,"./nn":1246,"./nn.js":1246,"./pa-in":1247,"./pa-in.js":1247,"./pl":1248,"./pl.js":1248,"./pt":1249,"./pt-br":1250,"./pt-br.js":1250,"./pt.js":1249,"./ro":1251,"./ro.js":1251,"./ru":1252,"./ru.js":1252,"./sd":1253,"./sd.js":1253,"./se":1254,"./se.js":1254,"./si":1255,"./si.js":1255,"./sk":1256,"./sk.js":1256,"./sl":1257,"./sl.js":1257,"./sq":1258,"./sq.js":1258,"./sr":1259,"./sr-cyrl":1260,"./sr-cyrl.js":1260,"./sr.js":1259,"./ss":1261,"./ss.js":1261,"./sv":1262,"./sv.js":1262,"./sw":1263,"./sw.js":1263,"./ta":1264,"./ta.js":1264,"./te":1265,"./te.js":1265,"./tet":1266,"./tet.js":1266,"./th":1267,"./th.js":1267,"./tl-ph":1268,"./tl-ph.js":1268,"./tlh":1269,"./tlh.js":1269,"./tr":1270,"./tr.js":1270,"./tzl":1271,"./tzl.js":1271,"./tzm":1272,"./tzm-latn":1273,"./tzm-latn.js":1273,"./tzm.js":1272,"./uk":1274,"./uk.js":1274,"./ur":1275,"./ur.js":1275,"./uz":1276,"./uz-latn":1277,"./uz-latn.js":1277,"./uz.js":1276,"./vi":1278,"./vi.js":1278,"./x-pseudo":1279,"./x-pseudo.js":1279,"./yo":1280,"./yo.js":1280,"./zh-cn":1281,"./zh-cn.js":1281,"./zh-hk":1282,"./zh-hk.js":1282,"./zh-tw":1283,"./zh-tw.js":1283};function i(e){return r(o(e))}function o(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=2063},,,,,,,,,,function(e,t,r){"use strict";var n=r(322),i=r.n(n),o=r(2074),a=r(2094);r.n(a);t.a=o.a,o.a.propTypes=Object.assign(o.a.propTypes,{theme:i.a.oneOf(["black","ghost","normal","outer","pseudo","strong","transparent-black","transparent-white","yellow"])})},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n=r(322),i=r.n(n),o=r(1308),a=r(2112);r.n(a);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t,r){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["a"]),function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(t,[{key:"_calcBestDrawingParams",value:function(e){if(this.props.ignorePageOffsets){var r=p(m(t.prototype),"_calcBestDrawingParams",this).call(this,e),n="anchor"===this.props.target?2:1,i=this._adjustPosition(r),o=i.top,a=i.left,s=d(i,["top","left"]);return u({top:o+n*window.pageYOffset,left:a+n*window.pageXOffset},s)}return p(m(t.prototype),"_calcBestDrawingParams",this).call(this,e)}},{key:"_adjustPosition",value:function(e){var t=this.props,r=t.maxWidth,n=t.minLeft;if("anchor"===t.target&&r&&n){var i=this._calcPopupDimensions(),o=e.left+window.pageXOffset+i.width-(n+r);o>0&&(e.left-=o,e.tail.left+=o);var a=n-e.left-window.pageXOffset;a>0&&(e.left+=a,e.tail.left-=a)}return e}},{key:"_calcTargetDimensions",value:function(e){if(this.props.ignorePageOffsets&&"anchor"===this.props.target){var r=p(m(t.prototype),"_calcTargetDimensions",this).call(this,e),n=r.top,i=r.left,o=d(r,["top","left"]);return u({top:n-window.pageYOffset,left:i-window.pageXOffset},o)}return p(m(t.prototype),"_calcTargetDimensions",this).call(this,e)}},{key:"_calcPos",value:function(e,r,n){if(this.props.patchBottomRight&&"bottom-right"===e){var i=this._calcViewportDimensions(),o=this.props.viewportOffset||this.defaultViewportOffset,a=r.left;return p(m(t.prototype),"_calcPos",this).call(this,e,u({},r,{width:r.width||i.right-o-a||0}),n)}return p(m(t.prototype),"_calcPos",this).call(this,e,r,n)}},{key:"_calcViewportDimensions",value:function(){if(this.props.fitPopupTo){var e=this.props.fitPopupTo.getBoundingClientRect(),r=e.top,n=e.left,i=e.bottom,o=e.right;return this.props.ignorePageOffsets||(r+=window.pageYOffset,i+=window.pageYOffset,n+=window.pageXOffset,o+=window.pageXOffset),{top:r,left:n,bottom:i,right:o}}return p(m(t.prototype),"_calcViewportDimensions",this).call(this)}}]),t}();v.propTypes=Object.assign(o.a.propTypes,{theme:i.a.string,fitPopupTo:i.a.instanceOf(Element),ignorePageOffsets:i.a.bool,patchBottomRight:i.a.bool,maxWidth:i.a.number,minLeft:i.a.number})},,,,,function(e,t){},function(e,t,r){"use strict";var n=r(2114),i=r.n(n),o=r(2116);r.n(o);t.a=i.a},,,,function(e,t,r){"use strict";r(2118).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2195),i=r(2239),o=r(2242),a=r(2243);n.a.DescriptionWithIcon=i.a,n.a.Buttons.Action=o.a,n.a.Buttons.Clear=a.a,t.a=n.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2240);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(637),l=r(2241);r.n(l);function u(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.icon,r=e.children;return u(s.a.Description,{},void 0,u("div",{className:"mail-DescriptionWithIcon"},void 0,u("div",{className:"mail-DescriptionWithIcon_Icon mail-DescriptionWithIcon_".concat(t)}),u("div",{className:"mail-DescriptionWithIcon_Text"},void 0,r)))};t.a=c,c.propTypes={icon:a.a.string.isRequired}},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(372);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}();l.defaultProps={view:"classic",tone:"default",size:"m",theme:"action"}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(372);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}();l.defaultProps={view:"classic",tone:"default",size:"m",theme:"clear"}},,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;var n=function(){function e(e){this.matrix=[],this.matrix=e.columns}return e.prototype.getCell=function(e){var t=e.row,r=e.column;return this.matrix[r][t]},Object.defineProperty(e.prototype,"columns",{get:function(){return this.matrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){if(!this.byRowsMatrix){this.byRowsMatrix=[];for(var e=this.matrix[0].length,t=0;t<e;t+=1){for(var r=[],n=0;n<this.matrix.length;n+=1){var i=this.matrix[n][t];r.push(i)}this.byRowsMatrix.push(r)}}return this.byRowsMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){if(!this.internalMap){this.internalMap=new Map;for(var e=0;e<this.matrix.length;e+=1)for(var t=this.matrix[e],r=0;r<t.length;r+=1)this.internalMap.set(t[r],{column:e,row:r})}return this.internalMap},enumerable:!1,configurable:!0}),e.prototype.getItemCoords=function(e){return this.map.get(e)},e}();t.Matrix=n},,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"d",function(){return a}),r.d(t,"e",function(){return s});var n="additional-search",i="cancel-search-click",o="cancel-search-bg-click",a="cancel-search-hotkey",s="empty-search"},function(e,t,r){"use strict";r.d(t,"e",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s});var n="suggest-click",i="search-button-click",o="search-field-hotkey",a="additional-parameters-click",s="direct-url"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(134)),a=i(r(324));r(2578);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.maybeRenderMonogram=function(){var e=this.props,t=e.url,r=e.monogram;return t?null:o.default.createElement("span",{className:"mail-Avatar__Monogram"},r)},t.prototype.render=function(){var e=this.props,t=e.url,r=e.color,n=e.size,i=void 0===n?"s":n,s=e.className,l=e.isSpam,u=e.refForTooltip;if(l)return o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_spam","mail-Avatar_size-"+i,s)});var c={};return t?c.backgroundImage="url("+t+")":r&&(c.backgroundColor=r),o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_size-"+i,s),style:c,"aria-hidden":!0,ref:u},this.maybeRenderMonogram())},t}(o.default.Component);t.default=s},function(e,t){},,,,,,function(e,t,r){e.exports=r.p+"_/9ea7321615ba6d6ed154cea463f0c085-attach_icon_virus.svg"},function(e,t,r){e.exports=r.p+"_/2fd58e123a7954c32a21b89ad9ed0834-attach_icon_folder.svg"},function(e,t,r){e.exports=r.p+"_/49863cae38d85f3a1508bc8e9239016d-attach_icon_7z.svg"},function(e,t,r){e.exports=r.p+"_/8ca841a78c428fbbea24fcf397d7f409-attach_icon_ai.svg"},function(e,t,r){e.exports=r.p+"_/3aa640e55b9248192d7848c1882b5894-attach_icon_corel.svg"},function(e,t,r){e.exports=r.p+"_/db12c186914f8db1f9ef6124a18c4562-attach_icon_css.svg"},function(e,t,r){e.exports=r.p+"_/169aa042df1e3b991f1767aafb4b4642-attach_icon_djvu.svg"},function(e,t,r){e.exports=r.p+"_/42c9395ece8c111b2ddec02d116ebabe-attach_icon_dll.svg"},function(e,t,r){e.exports=r.p+"_/6cf1df2ebec1ec63458035c0e746a984-attach_icon_epub.svg"},function(e,t,r){e.exports=r.p+"_/c43e0ea2882a130f96a60335b974ddad-attach_icon_fb2.svg"},function(e,t,r){e.exports=r.p+"_/0395e68e5145cbcf1d45fa091cab78fa-attach_icon_indd.svg"},function(e,t,r){e.exports=r.p+"_/3784d6759a1edefc70140d92d9fc945c-attach_icon_ini.svg"},function(e,t,r){e.exports=r.p+"_/b5d7f828946298ff892e8669f51ce53e-attach_icon_js.svg"},function(e,t,r){e.exports=r.p+"_/1b31e7895ed29944deef9785130391e4-attach_icon_odp.svg"},function(e,t,r){e.exports=r.p+"_/81e0bb8d578b77c7ef65dcf7430ec799-attach_icon_ods.svg"},function(e,t,r){e.exports=r.p+"_/901699e6d4d06d8d50192f86aacf58ba-attach_icon_odt.svg"},function(e,t,r){e.exports=r.p+"_/861ab79aedccf6dd07da6fed2bb3202c-attach_icon_pdf.svg"},function(e,t,r){e.exports=r.p+"_/62361dbd7ae2d1e199022beebf2a5db9-attach_icon_psd.svg"},function(e,t,r){e.exports=r.p+"_/46943c4ac36b66f2efbb012899d150bd-attach_icon_rar.svg"},function(e,t,r){e.exports=r.p+"_/263bf4bdd537e5f6b4b53e6fd18688a9-attach_icon_rtf.svg"},function(e,t,r){e.exports=r.p+"_/669e80a6900a81942b6ef152cebc6bae-attach_icon_sketch.svg"},function(e,t,r){e.exports=r.p+"_/2521c91ec97715bd54cb86c3a3a49496-attach_icon_svg.svg"},function(e,t,r){e.exports=r.p+"_/54ef3b8767740a54291f546c6baded90-attach_icon_txt.svg"},function(e,t,r){e.exports=r.p+"_/38e790dd588ce44ebc8f8d1c2df0c52b-attach_icon_vcf.svg"},function(e,t,r){e.exports=r.p+"_/ca814b1e16c5fc1c90dc3955707df406-attach_icon_xhtml.svg"},function(e,t,r){e.exports=r.p+"_/2a31adba227f40c2fd2e04988ee374e0-attach_icon_xml.svg"},function(e,t,r){e.exports=r.p+"_/0bc2ad4d36f0dfefd86de9d8ecc5288e-attach_icon_books.svg"},function(e,t,r){e.exports=r.p+"_/a81937d5fcb7ba94f736c422014d1c95-attach_icon_font.svg"},function(e,t,r){e.exports=r.p+"_/f69b0bee9e32636ed623bb752a31d591-attach_icon_other.svg"},function(e,t,r){e.exports=r.p+"_/55c441d826db7bcd2d84be0b661dbcc8-attach_icon_folder_simple.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var o=i(r(134)),a=i(r(2663)),s=i(r(2664)),l=a.default.bind(s.default),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t,"scrollbarWidth",{get:function(){return null==this.savedScrollbarWidth&&(this.savedScrollbarWidth=this.calculateScrollbarWidth()),this.savedScrollbarWidth},enumerable:!1,configurable:!0}),t.calculateScrollbarWidth=function(){var e=document.createElement("div");e.style.height="50px",e.style.width="100%";var t=document.createElement("div");t.style.height="1px",t.style.width="50px",t.style.position="absolute",t.style.overflowY="scroll",t.style.left="-9999px",t.style.top="-9999px",t.appendChild(e),document.body.appendChild(t);var r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),r},t.prototype.render=function(){return o.default.createElement("div",{className:l("root",this.props.className)},o.default.createElement("div",{className:l("scroll",this.props.containerClass),style:{width:"calc(100% + "+t.scrollbarWidth+"px)",marginRight:"-"+t.scrollbarWidth+"px","--scrollbar-width":t.scrollbarWidth+"px"}},this.props.children))},t}(o.default.Component);t.SmartScroll=u},,function(e,t){e.exports={root:"SmartScroll__root--cSRNG",scroll:"SmartScroll__scroll--zm9AN"}},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachType=t.AttachmentItem=void 0;var n=r(2673);Object.defineProperty(t,"AttachmentItem",{enumerable:!0,get:function(){return n.AttachmentItem}}),Object.defineProperty(t,"AttachType",{enumerable:!0,get:function(){return n.AttachType}})},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentItem=t.AttachType=void 0;var o,a=i(r(134)),s=i(r(324)),l=i(r(1029)),u=i(r(2686)),c=i(r(2689)),d=i(r(2690)),f=parseInt(d.default.attachmentWidth,10)-2*parseInt(d.default.paddingH,10);!function(e){e.FILE="simple",e.YADISK="narod",e.FORWARDER_EMAIL="forwarded"}(o=t.AttachType||(t.AttachType={}));var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t=s.default(d.default.attachmentItem,((e={})[d.default.transparent]=this.props.transparent,e));return a.default.createElement("div",{className:t},this.renderPreview(),a.default.createElement("div",{className:s.default(d.default.text,"qa-Attachment-fileName")},a.default.createElement(l.default,{text:this.props.name,numberOfRows:2,width:f,font:"14px/16px \\'YS Text\\', Arial, sans-serif"})),this.props.renderControls&&this.props.renderControls())},t.prototype.renderDiskAttachIcon=function(){return this.props.attachType!==o.YADISK?null:a.default.createElement("div",{className:d.default.attachIcon},a.default.createElement(c.default,null))},t.prototype.renderPreview=function(){var e=this.props,t=e.previewSrc,r=e.extension,n=e.fileType;if(!t){var i="folder"===n?"dir":"file";return a.default.createElement("div",{className:s.default(d.default.preview,d.default.resourceIcon)},a.default.createElement(u.default,{cls:s.default(d.default.icon,"qa-Attachment-icon","qa-Attachment-icon-"+i),ext:r,mediatype:n,type:i,size:"m"}),this.renderDiskAttachIcon())}var o=new URL(t);o.searchParams.delete("thumb"),o.searchParams.set("resize","y"),o.searchParams.set("max_size","78x78");var l=o.toString();o.searchParams.set("max_size","156x156");var c=o.toString()+" 2x";return a.default.createElement("div",{className:d.default.preview},a.default.createElement("img",{src:l,srcSet:c,alt:"",className:d.default.previewImg}),this.renderDiskAttachIcon())},t.RECT={width:parseInt(d.default.attachmentWidth,10),height:parseInt(d.default.attachmentHeight,10)},t}(a.default.PureComponent);t.AttachmentItem=g},,,,,,,,,,,,,,,,,function(e,t){e.exports={attachmentWidth:"116px",attachmentHeight:"144px",paddingV:"12px",paddingH:"10px",attachmentItem:"AttachmentItem__attachmentItem--P5Tr2",text:"AttachmentItem__text--24wwt",preview:"AttachmentItem__preview--3Ejra",attachIcon:"AttachmentItem__attachIcon--upwwv",previewImg:"AttachmentItem__previewImg--ydYh5",resourceIcon:"AttachmentItem__resourceIcon--gyX19",icon:"AttachmentItem__icon--2rtDG",transparent:"AttachmentItem__transparent--1xpFx"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(326),u=r.n(l),c=r(698),d=r(1392);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,m(t).call(this,e))).setNewInputValue=function(e){r.setState({inputValue:e})},r.processRemoveSymbols=function(e){var t=r.formatterService.separator;e[e.length-1]===t?r.setNewInputValue(e.slice(0,e.length-1)):r.setNewInputValue(e)},r.onInputValueChange=function(e){var t=r.props,n=t.onInput,i=t.onChange,o=t.date,a=r.formatterService,s=a.parseDateParts(e);if(n&&n(),r.isInputValueValid(s,e.length))if(r.isRemovingSymbols(e.length))r.processRemoveSymbols(e);else{var l=a.tryParseDate(s,o),u=l.newDate,c=l.newInputString;i(u),r.setNewInputValue(c)}};var n=e.date,i=e.format,o=e.DateFormatterService;return r.state={inputValue:n.format(i)},r.formatterService=new o(n,i),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.date,n=t.format,i=r.format(n);e.date.format(n)!==i&&this.setNewInputValue(i)}},{key:"isInputValueValid",value:function(e,t){var r=this.formatterService,n=r.dateFormat,i=r.areDatePartsValid;return t<=n.length&&i(e)}},{key:"isRemovingSymbols",value:function(e){return e<this.state.inputValue.length}},{key:"render",value:function(){var e=this.props,t=e.cls,r=e.date,i=e.format,o=e.onClick;return function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.a,{type:"text",size:"m",view:"default",theme:"normal",autocomplete:!1,text:this.state.inputValue,placeholder:r.format(i),onChange:this.onInputValueChange,onClick:o,cls:t})}}]),t}();v.propTypes={onInput:s.a.func,onChange:s.a.func,onClick:s.a.func,format:s.a.string,cls:s.a.string,date:s.a.objectOf(u.a),DateFormatterService:s.a.func},v.defaultProps={date:u()(),format:d.a,DateFormatterService:d.b},t.a=v},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2738);t.default=n.Label},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var s=o(r(134)),l=a(r(324)),u=a(r(341)),c=r(139),d=a(r(2739)),f=a(r(335));t.Label=function(e){var t,r=e.onRemove,n=e.background,i=e.className,o=e.color,a=e.id,g=e.isImportant,p=e.name,m=e.href,h=s.useCallback(function(e){e.preventDefault(),null===r||void 0===r||r(e)},[r]),v=s.useCallback(function(e){return s.default.createElement("span",{className:l.default(e,d.default.removeIcon)},s.default.createElement(u.default,{id:"mail--Compose-Cross"}))},[]),b={},_={},y=l.default(d.default.root,"qa-ComposeLabel",i,((t={})[d.default.important+" qa-ComposeLabel_important"]=g,t[d.default.withRemoveIcon+" qa-ComposeLabel_withRemoveIcon"]=Boolean(r),t[d.default.withHover]=Boolean(m),t));return g||(b.backgroundColor=n,b.color=o),_.opacity=g||o?.7:1,s.default.createElement("div",{"data-testid":"label_container",className:y,style:b},s.default.createElement("a",{className:l.default(d.default.text,"qa-ComposeLabel-Text"),href:m,style:_,"data-testid":"label_link"},g&&s.default.createElement(u.default,{cls:l.default(d.default.icon,"qa-ComposeLabel-Icon"),id:a}),p),r&&s.default.createElement(c.Button,{view:"clear",size:"xs",className:l.default(d.default.remove,"qa-ComposeLabel-Remove"),onClick:h,icon:v,"aria-label":f.default("common-react/removeLabel")}))}},function(e,t){e.exports={variables:'"../../../modules/compose-react/variables.m.css"',labelBorderRadius:"32px",labelPadding:"0 12px",addressFieldHeight:"26px",removeButtonSize:"24px",removeIconSize:"10px",insideMargin:"8px",root:"Label__root--1AG6h",important:"Label__important--2MrNr",withRemoveIcon:"Label__withRemoveIcon--zNcox",icon:"Label__icon--3DS9u",text:"Label__text--2jdFt",withHover:"Label__withHover---ZqLW",remove:"Label__remove--3ha29",removeIcon:"Label__removeIcon--30K4S"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarTooltip=void 0;var l=o(r(134)),u=r(2814),c=r(333),d=s(r(2815)),f=r(2816),g=r(2817);t.AvatarTooltip=function(e){var t=e.contact,r=e.avatar,n=e.onActionClick,i=e.scope,o=a(l.useState(!1),2),s=o[0],p=o[1],m=l.useRef(null),h=l.useRef(null),v=l.useCallback(function(e){e.stopPropagation(),e.target.classList.contains("Button2")&&(null===n||void 0===n||n(e))},[n]),b=a(l.useState([0,0]),2),_=b[0],y=b[1],S=l.useCallback(function(){h.current&&clearTimeout(h.current),h.current=setTimeout(function(){return p(!1)},200)},[]),w=l.useCallback(function(e){h.current&&clearTimeout(h.current),s||y([e.clientX,e.clientY]),h.current=setTimeout(function(){return p(!0)},2e3)},[s]),O=l.useMemo(function(){var e=a(_,2),t=e[0],r=e[1],n=[];return t>=392&&n.push("left"),r>=442&&n.push("top"),n.push("right"),n.push("bottom"),n},[_]),x=l.useMemo(function(){return s?l.default.createElement(f.ContactSummary,{email:t.email,name:t.name}):null},[s,t]);return g.isValidEmail(t.email)?l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{ref:m,onMouseEnter:w,onMouseLeave:S,title:"","data-testid":"avatar-tooltip_anchor"},r),l.default.createElement(u.Popup,{className:d.default.popup,visible:s,onClose:function(){return p(!1)},keepMounted:!1,anchor:m,target:"anchor",view:"default",direction:O,boundary:c.is3Pane()?{current:document.body}:void 0,onMouseEnter:w,onMouseLeave:S,onClick:v,hasTail:!0,scope:i},x)):r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvertedContentColorPopup=t.Popup=void 0;var n=r(323),i=r(144),o=r(423),a=r(521);t.Popup=n.compose(a.withPsTheme({source:o.DarkSource.Content}))(i.Popup),t.InvertedContentColorPopup=n.compose(a.withPsTheme({source:o.DarkSource.Content,invert:!0}))(i.Popup)},function(e,t){e.exports={popup:"AvatarTooltip__popup--1FQP0"}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContactSummary=void 0;var s=a(r(134)),l=r(86),u=r(542),c=r(143),d=function(){return s.default.createElement("div",null,s.default.createElement(c.Spin,{view:"default",size:"m",progress:!0}))};t.ContactSummary=function(e){var t=l.getContactSummaryLoader(),r=s.useCallback(function(){return t().then(function(t){var r=t.ContactSummary;return s.default.createElement(r,n({},e))})},[t,e]);return t?s.default.createElement(u.ModuleLoader,{component:r,placeholder:d}):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidHost=void 0;t.isValidHost=function(e){return/^[0-9A-Za-zА-ЯЁа-яё-]+(\.[0-9A-Za-zА-ЯЁа-яё-]+)*$/g.test(e)};t.isValidEmail=function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(2874);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";var n=r(2875);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return x});var n,i=r(134),o=r.n(i),a=r(135),s=(r.n(a),r(322)),l=r.n(s),u=r(324),c=r.n(u),d=r(1029),f=r(2876),g=r(741),p=r(349),m=r(2878);r.n(m);function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var w="mail-AttachmentItem",O={Block:w,Header:"".concat(w,"-Header"),Footer:"".concat(w,"-Footer"),Badge:"".concat(w,"-Badge"),Text:"".concat(w,"-Text")},x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&v(e.prototype,t),r&&v(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.previewSrc;return S("div",{className:c()(O.Block,"".concat(O.Block,"_").concat(t),function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},"".concat(O.Block,"_thumbnail"),r))},void 0,this.renderHeader(),this.renderFooter())}},{key:"renderHeader",value:function(){return S("div",{className:O.Header},void 0,this.renderText())}},{key:"renderFooter",value:function(){var e=this.props.previewSrc;return S("div",{className:O.Footer,style:e?{backgroundImage:"url('".concat(e,"')")}:{}},void 0,S(f.a,{cls:O.Badge,fileType:this.props.fileType,extension:this.props.extension,sourceType:this.props.sourceType}))}},{key:"renderText",value:function(){var e=this.props,t=e.name,r=e.style===g.c.SLIM?1:2;return S("div",{className:O.Text},void 0,S(d.default,{text:t,numberOfRows:r,font:g.a,width:g.b}))}}]),t}();x.defaultProps={style:g.c.NORMAL,sourceType:p.c.FILE},x.propTypes={style:l.a.oneOf(Object(a.values)(g.c)),sourceType:l.a.oneOf(Object(a.values)(p.c)),fileType:l.a.string,extension:l.a.string,name:l.a.string,previewSrc:l.a.string}},function(e,t,r){"use strict";r.d(t,"a",function(){return w});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(135),u=(r.n(l),r(324)),c=r.n(u),d=r(349),f=r(341),g=r(2877);r.n(g);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y={Block:"FileTypeBadge",DiskIcon:"".concat("FileTypeBadge","-DiskIcon"),Extension:"".concat("FileTypeBadge","-Extension")},S="folder",w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.fileType,r=e.extension,n=e.sourceType,i=c()(this.props.cls,y.Block,"".concat(y.Block,"_").concat(t)),o=r&&"."===r[0]?r.substring(1):r;o=o||t;var a=n===d.c.YADISK,s=t!==S;return _("div",{className:i},void 0,a&&_(f.default,{id:"mail--Compose-AttachDisk",cls:y.DiskIcon}),s&&_("span",{className:y.Extension},void 0,o))}}]),t}();w.propTypes={cls:s.a.string,fileType:s.a.string.isRequired,extension:s.a.string,sourceType:s.a.oneOf(Object(l.values)(d.c))}},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(337);r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,[{key:"_getSettings",value:function(){return ns.Model.get("settings")}},{key:"isCompactMessagesList",value:function(){return this.getCompactMessagesListValue()&&!Daria.isAttachmentsLineDesign()}},{key:"getCompactMessagesListValue",value:function(){return this._getSettings().isSet("liza_minified")}},{key:"isCompactHeader",value:function(){return!Object(n.hasFeature)(n.Features.WEB_GLOBALBAR_VERTICAL)&&this.getCompactHeaderValue()}},{key:"getCompactHeaderValue",value:function(){return this._getSettings().isSet("liza_minified_header")}},{key:"toggleCompact",value:function(){var e=!this.getCompactMessagesListValue(),t=i({},"liza_minified",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}},{key:"toggleCompactHeader",value:function(){var e=!this.getCompactHeaderValue(),t=i({},"liza_minified_header",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}}]),e}()},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedMids={}}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"log",value:function(e){if(!this._isLogDisabled()){var t=this._extractMids(e);this._areAllMidsAlreadyRendered(t)||(this._markMidsAsRendered(t),Daria.monitoring.mailListRender(this._getLogParams(t)))}}},{key:"_extractMids",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,Daria.DEFAULT_MESSAGES_PER_PAGE).map(function(e){return e.isThread()?e.get(".last_mid"):e.get(".mid")})}},{key:"_markMidsAsRendered",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){return e._renderedMids[t]=!0})}},{key:"_areAllMidsAlreadyRendered",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every(function(t){return e._renderedMids[t]})}},{key:"_getLogParams",value:function(e){var t={mids:e},r=Daria.router.getCurrentParams(),n=r.current_folder,i=r.tabId;return i?t.tabId=i:n&&(t.fid=n),Daria.areFoldersTabsEnabled()&&(t.foldersTabsEnabled=!0),t}},{key:"_isLogDisabled",value:function(){return!Jane.watcher.get("pageVisible")}}]),e}()},function(e,t){Daria.Abook={},Daria.Abook.formatContactInfo=function(e,t,r){if(r=r||{},!e)return{};var n=e.cid,i=e.name,o=$.map(e.email,function(e){return e.value})||[],a=o;if(t.joinName&&(i=i&&i.full||""),t.onlyFirstEmail){var s=r.email?$.inArray(r.email,o):0;o=o[s>-1?s:0]}if(!o)return null;1===o.length&&(o=o[0]);var l={cid:n,name:i,email:o};return t.withContactEmailList&&(l.emailList=a),t.shared&&(l.ya_directory=e.ya_directory),l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337),i=(r.n(n),r(28)),o=r(401),a=r(1004),s=r(374);Daria.formatContacts=function(e,t){var r,n=Daria.Constants.CONTACTS.DELIMITER;t&&(r=ns.Model.get("account-information").getEmails());var i=[];$.isArray(e)||(e=[e]);for(var o=0,a=e.length;o<a;o++){var s=e[o],l=s.email,u=s.name;!l||t&&$.inArray(l,r)>-1||"no_address"!==u&&"(адрес не указан)"!==u&&i.push(Jane.FormValidation.obj2contact(s))}return i.join(n)},Daria.createAutocompleteFormatter=function(e){var t=Daria.Constants.CONTACTS.DELIMITER;return function(r){return r.contacts?r.contacts.map(e).join(t):e(r)}},Daria.formatAutocompleteResult=Daria.createAutocompleteFormatter(function(e){return e.email}),Daria.showDoubleSizedContacts=function(){return Daria.Config.pddDomain||Daria.Config.workspace},Daria.getAccountAgeInDays=function(){var e=ns.Model.get("account-information");return(Daria.now()-e.getData().reg_date)/864e5},Daria.isNewAccount=function(){return Daria.getAccountAgeInDays()<=3},Daria.uidEnds=function(e){if($.isArray(e)&&e.length){var t=String(e[0]).length,r=parseInt(Daria.uid.slice(-t),10);return $.inArray(r,e)>-1}return!1},Daria.areFoldersTabsEnabled=function(){return Daria.canUseTabs()&&ns.Model.get("settings").getSign("show_folders_tabs")},Daria.canUseTabs=function(){return!Daria.IS_CORP&&!Daria.Config.isPDD},Daria.areCompactFolderTabsEnabled=function(){return Boolean(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())},Daria.isPriorityTabAvailable=function(){var e=Object(i.a)();return!Daria.IS_CORP&&ns.Model.get("labels",{mailboxUid:e}).getPriorityLID()&&(ns.Model.get("settings").getSign("priority_mail")||Daria.hasSid(669))},Daria.isPriorityTabEnabled=function(){var e=ns.Model.get("settings").getSign("show_priority_stuff");return Daria.isPriorityTabAvailable()&&e},Daria.isPriorityTab=function(){var e=Daria.isPriorityTabEnabled(),t=Object(i.a)(),r="messages"===Daria.router.getCurrentPage()&&Daria.router.getCurrentParams().current_label===ns.Model.get("labels",{mailboxUid:t}).getPriorityLID();return e&&r},Daria.isAttachmentsTabEnabled=function(){return(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())&&Daria.is2pane()},Daria.isAttachmentsTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=Daria.router.getCurrentParams()||{},r=Boolean(t.attachments);return e&&r},Daria.isSearchWithAttachesTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=Daria.router.getCurrentParams()||{},r=Boolean(t.search&&t.attaches);return e&&r},Daria.isAttachmentsLineDesign=function(){return Daria.isAttachmentsTab()||Daria.isSearchWithAttachesTab()},Daria.enableReactiveCompose=function(e){ns.Model.get("settings").setSettings({force_ns_compose:!e,storedComposeStates:"undefined",last_used_compose_size:""}),Daria.maybeSaveReactComposeFirstUsedDate()},Daria.maybeSaveReactComposeFirstUsedDate=function(){var e=ns.Model.get("settings");e.getSign("react_compose_first_used")||e.setSettings({react_compose_first_used:Daria.now().toString()})},Daria.startScenarioForCompose=function(e,t){var r=o.a.getActiveScenario(s.a);r&&o.a.finishScenario(s.a,a.a,r.qualityMetrics?r.qualityMetrics():void 0),o.a.startScenario(s.a,e,t)},Daria.isSearchWithoutAllResultsFallback=function(){return Object(n.hasFeature)(n.Features.WEB_SEARCH_WITHOUT_ALL_RESULTS_FALLBACK)}},function(e,t,r){var n={"message.ogg":r(3053),"message.mp3":r(3054),"message.wav":r(3055)};Daria.Sound={preload:function(e){this._getPlayer(e)},play:function(e){this._getPlayer(e)()},_cache:{},_getPlayer:function(e){if(!this._cache[e])if("src"in document.createElement("audio")){var t=this._createAudioEl(e);this._cache[e]=function(){t.play()}}else if("src"in document.createElement("bgsound")){var r=document.createElement("bgsound");document.getElementsByTagName("head")[0].appendChild(r),this._cache[e]=function(){r.src=n[e+".mp3"]}}else this._cache[e]=function(){};return this._cache[e]},_createAudioEl:function(e){var t=document.createElement("div");t.innerHTML='<audio preload="auto"><source src="'+n[e+".ogg"]+'" type="audio/ogg"></source><source src="'+n[e+".mp3"]+'" type="audio/mpeg"></source><source src="'+n[e+".wav"]+'" type="audio/wav"></source></audio>';var r=t.firstChild;return document.body.appendChild(r),r}},window.ReactClientBridge.soundsPromise&&window.ReactClientBridge.soundsPromise.resolve(Daria.Sound)},function(e,t,r){e.exports=r.p+"_/dc22b778f507cf99af5f1fbaa09283ad-message.ogg"},function(e,t,r){e.exports=r.p+"_/c8904f7129944be785562682585d90dd-message.mp3"},function(e,t,r){e.exports=r.p+"_/a58459d090abe810c59cc0c21af602b9-message.wav"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(337));r.n(i);!function(e){var t=Daria.Constants.CONTACTS.DELIMITER;e.emailAutocompleterOpts={tpl:'<div class="b-mail-suggest b-mail-suggest_contacts"><div class="b-grid js-sections"></div></div>',activeClass:"b-grid-item_selected",width:"20em",multiple:!0,minChars:0,minClickCount:0,excludeSelected:!0,filterItem:function(e){var t,r=this.currentValue||this.prevVal;return e.data.title?(t=[].concat(e.data.contacts),(t=$.grep(t,function(e){return-1===r.indexOf(e.email)})).length):e.data.email?-1===r.indexOf(e.data.email):void 0},scroll:!0,scrollElem:".b-grid",item:".b-grid-item",sections:[{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,dataType:"json",param:"q",withCkey:!0,extraParams:{glimit:5,climit:35,useAbook:"on",alternateOrder:Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME)?"1":""},contextExtraParams:function(){var e,t=Daria.vCompose,r={};return t&&"compose"===Daria.router.getCurrentPage()?(e=(e=$.map(["To","Cc","Bcc"],function(e){var r=t["get"+e]();if(r)return r.replace(/\s*/g,"").split(",")})).join(","),(e=(e=$.map(Jane.FormValidation.splitContacts(e),function(e){return e.email})).join(","))&&(r.to=e),r):r},beforeRequest:function(e){return e.length>=1},parse:function(e,t){var r=[],n=this;function i(e,r,i,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var l=e[a];l&&(i[i.length]={data:l,$item:$(r.call(n,l,t))})}}return(e=jpath(e,".models[0].data")[0]||{}).contacts&&e.contacts.length&&i(e.contacts,n.formatContact,r,n.extraParams.climit),e.groups&&e.groups.length&&i(e.groups,n.formatGroup,r,n.extraParams.glimit),r},groupTpl:'<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__content__group">'+i18n("%Search_Suggest_group")+'</span>&#160;{title}</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">{emails}</span></span></span></div>',formatContact:function(e,t){var r='<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i">'+_.escape(e.name||e.email)+'</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">'+(e.name&&e.email?_.escape(e.email):" ")+'</span></span></span><span class="b-grid-item__right"><span class="b-userpic b-userpic_small'+(e.cid?" cid-"+e.cid:"")+'">'+(e.ref&&e.email&&e.id>-1&&!e.popdom?Daria.Recipients.add({name:e.name,email:e.email,href:!1,size:28}):"")+"</span></span>";return r+="</div>",Daria.Autocompleter.utils.highlight(r,t)},formatGroup:function(e,r){for(var n=[],i=0,o=e.contacts.length;i<o;i++)n.push(e.contacts[i].email);return Daria.Autocompleter.utils.highlight(Daria.supplant(this.groupTpl,{title:e.title,emails:n.join(t)}),r)},formatResult:Daria.createAutocompleteFormatter(function(e){return e.name?'"'.concat(e.name,'" <').concat(e.email,">"):e.email})}]};var r=e.emailAutocompleterOpts.sections[0];e.emailAutocompleterOpts.sections.push($.extend({},r,{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,extraParams:{popular:!0,climit:10,useAbook:"on",alternateOrder:Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME)?"1":""},parse:function(e,t){var n=jpath(e,".models[0].data")[0]||{};return n.contact&&!n.contacts&&(n.contacts=n.contact),r.parse.call(this,e,t)},formatContact:function(e,t){return e.name=e.name&&e.name.full,r.formatContact.call(this,e,t)},beforeRequest:function(e,t){if(e)return!1;if("compose"!==Daria.router.getCurrentPage())return!1;if(t&&t.keyPressed)return!1;var r=Daria.router.getCurrentParams(),i=ns.Model.get("folders").getFolderBySymbol(n.WellKnownFolderSymbol.TEMPLATE),o=i&&i.fid;return!(Daria.composeParams&&Daria.composeParams.save_symbol===n.WellKnownFolderSymbol.TEMPLATE||r.save_symbol===n.WellKnownFolderSymbol.TEMPLATE||r.ids&&ns.Model.get("message",{ids:r.ids}).inFolder(o))},onshow:function(){Jane.c(["popular_suggest","Показы саджеста популярных контактов"])},onresult:function(e){Daria.composeParams=Daria.composeParams||{},Daria.composeParams["popular-suggest-general"]||(Daria.composeParams["popular-suggest-general"]=[]),Daria.composeParams["popular-suggest-general"].push(e.email),Jane.c(["popular_suggest","Клики в саджест популярных контактов"]);var t=Jane.watcher.get("autocompleter.popularContacts")||[],r=this;t.push(e.email),Jane.watcher.set("autocompleter.popularContacts",t,{silent:!0}),this.binded||(this.binded=!0,ns.events.on("ns-page-before-load",function e(){ns.events.off("ns-page-before-load",e),r.binded=!1,Jane.watcher.set("autocompleter.popularContacts",[])}))}})),e.getEmailAutocompleter=function(){var t=new e(e.emailAutocompleterOpts),r=t.onChange;return t.onChange=function(){var e=this.$input.val();if(!this.keyPressed||e)return r.apply(this,arguments);this.hide()},t},e.getContact=function(){return e.getEmailAutocompleter()},e.getContactEmail=function(){return e.__contactEmailInstance||(e.__contactEmailInstance=function(){var t=$.extend(!0,{},e.emailAutocompleterOpts,{multiple:!1,filterItem:null});t.sections=$.each(t.sections,function(e,t){$.extend(t,{formatResult:function(e){return e.email||""},parse:function(e,t){var r=[],n=this;return(e=jpath(e,".models[0].data")[0]||{}).contacts&&e.contacts.length&&function(e,r,i,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var l=e[a];l&&(i[i.length]={data:l,$item:$(r.call(n,l,t))})}}(e.contacts,n.formatContact,r,n.extraParams.climit),r}})});var r=new e(t),n=r.onChange;return r.onChange=function(){var e=this.$input.val();if(!this.keyPressed||e)return n.apply(this,arguments);this.hide()},r}()),e.__contactEmailInstance}}(Daria.Autocompleter)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(343),i=(r.n(n),r(340));r.n(i);ns.events.on("daria:folders.move",function(e,t){var r=ns.Model.get("folders"),o=t.fid,a=t.overFid,s=t.action,l=$.Deferred();switch(s){case"putin":r.moveIn(o,a).always(l.resolve);break;case"putnext":r.moveAfter(o,a).always(l.resolve);break;case"putbefore":r.moveBefore(o,a).always(l.resolve)}l.always(function(e){switch(e){case"nameduplicate":return void Object(i.showErrorMessage)(n.StatuslineName.FoldersMoveError,i18n("%Folder_Move_Error_Nameduplicate"));case"actionerror":return void Jane.ErrorLog.send({event:"folders.move.action",status:e,action:s})}ns.events.trigger("daria:folders.move:done")})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1006),i=r(1435),o=r(3059),a=r(3060);Daria.requestModelsForCompose=n.c,Daria.forceRefreshModelsForCompose=n.b,Daria.composeGo=function(e){return Object(i.a)(e)},Daria.openQuickReply=o.a,window.ReactClientBridge&&window.ReactClientBridge.composeManagerPromise&&window.ReactClientBridge.composeManagerPromise.resolve({restore:a.a,destroy:function(){return Daria.React.Compose&&Daria.React.Compose.destroy()}})},function(e,t,r){"use strict";var n=r(743),i=r(1435);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.a)().then(function(){return Daria.React.QuickReply.open(e,Object(i.b)(e))})}},function(e,t,r){"use strict";var n=r(743),i=r(135);r.n(i);t.a=function(e){var t=ns.Model.get("settings").getSetting("storedComposeStates");return Object(i.get)(Daria,"React.Compose.shouldRenderStack")||t&&"undefined"!==t?Object(n.a)().then(function(){Daria.React.Compose&&Daria.React.Compose.restore(e)}):Promise.resolve()}},function(e,t){!function(e,t){t.Geolocation={getData:function(){var e=$.Deferred();return navigator.geolocation.getCurrentPosition(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise()},checkUserRelevance:function(){return!!Modernizr.geolocation&&(!!Modernizr.mozilla&&t.uidEnds([39,94,92,44,55]))},monitoring:function(){this.checkUserRelevance()&&this.getData().done(function(t){var r=$.extend({event:"geolocation",result:"success"},t.coords);e.ErrorLog.send(r)}).fail(function(t){var r=$.extend({event:"geolocation",result:"failure"},t);e.ErrorLog.send(r)})}},window.ReactClientBridge.geolocationPromise&&window.ReactClientBridge.geolocationPromise.resolve(t.Geolocation)}(Jane,Daria)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);r.n(n);!function(e,t){var r,i=function(e,r){var n=ns.Model.get("messages",r);if(e.filter.type="search",e.filter.param={},$.each(["request","fid","scope","from","to","unread","lid"],function(t,n){r[n]&&(e.filter.param[n]=r[n])}),e.filter.param.reqid=t.React.getSearchSessionId(),e.message&&e.message.mid){n.isSearchTopResult(e.message.mid)&&(e.filter.param.tophits="yes");var i=n.getMessageByMid(e.message.mid),o=(n.models||[]).indexOf(i);o>-1&&(e.message.index=o+1)}e.filter.param=$.param(e.filter.param)};t.actionLog=function(r,n){var o=$.extend({},t.router.getCurrentParams()),a=n.originalAction||n.action,s=t.router.getCurrentPage(),l=n.mMessagesChecked?n.mMessagesChecked.getIds():{},u=$.extend(!0,{},{ids:[],tids:[]},n.ids||{},l),c=t.getPrevPageSearchContext();if(!1!==n.islog){u.tids.length||u.ids.length||!o.ids||u.ids.push(o.ids);var d=new Date,f={timestamp:d.getTime()+60*d.getTimezoneOffset()*1e3,action:a,platform:navigator.platform,filter:{page:s,type:null,param:null}};!function(t,r,n,i){if(1===r.ids.length^1===r.tids.length){var o=r.ids.shift(),a=r.tids.shift(),s=o||a,l=ns.Model.get("message",{ids:s}),u=l.getData()||n.messageInfo;if(u&&u.date){if(t.message={thread:a?u.count:0,timestamp:u.date.timestamp,type:u.type,from:jpath(u,'.field[.type=="from"].email')[0],index:u.idx,subject:u.subject},l.isNew()&&(t.message.isnew=1),_.forEach(["widget","widget-type","widget-controls"],function(e){n[e]&&(t.message[e]=n[e])}),u.fid){var c=ns.Model.get("folders").getFolderById(u.fid);c&&(t.message.folder={fid:c.fid},c.symbol&&(t.message.folder.symbol=c.symbol))}o?t.message.mid=o:a&&(t.message.tid=a),"show"===i&&e.watcher.get("message.may-unsubscribe")&&(t.message.actions=["unsubscribe"])}else t.message=null}else t.messages={count:r.ids.length,threads:r.tids.length}}(f,u,n,a),"search"===o.search?i(f,o):"message"===s&&c?i(f,c.page.params):o.thread_id?(f.filter.type="thread",f.filter.param=o.thread_id):o.current_label?(f.filter.type="label",f.filter.param=o.current_label):o.current_folder?(f.filter.type="folder",f.filter.param=o.current_folder):o.extra_cond&&(f.filter.type=o.extra_cond),n.btn&&(f.btn=n.btn);var g={data:JSON.stringify(f)};"search"===f.filter.type&&(g.isSearch=!0),ns.request.addRequestParams(g),t.actionLog.send(g)}},t.actionLog.send=function(e){e.model="do-action-log",$.post("".concat(t.api.journal,"?_m=").concat(e.model),e)},ns.events.on("user.action.log",t.actionLog),ns.events.on("message.action.complete",t.actionLog),ns.events.on("ns-page-after-load",function(){var e={page:t.router.getCurrentPage(),params:t.router.getCurrentParams()};if(r&&e&&"message"===r.page&&"messages"===e.page){var i=e.params,o=i.current_folder;if(o){var a=ns.Model.get("folders").getFolderBySymbol(n.WellKnownFolderSymbol.INBOX);a&&a.fid===o&&t.actionLog("pageload",{action:"gotoinbox",eventObject:{params:$.extend({islog:!0},i)}})}}r=$.extend(!0,{},{page:t.router.getCurrentPage(),params:t.router.getCurrentParams()})})}(Jane,Daria)},function(e,t){!function(){var e=/^[^@]+@(yandex-team\.(ru|com|com\.tr)|yabank-team\.net|yango\.com)$/;Daria.email={},Daria.email.isCA=function(e,t){var r=e.match(/^(\+?\d+)@ya(?:ndex)?\./);return!!r&&(t&&(t.phone=r[1]),!0)},Daria.email.isCorp=function(t){return Daria.IS_CORP&&e.test(t)},Daria.email.isSupport=function(e){return new RegExp("^(?:[^@]+)@(?:support\\.yandex\\.(?:"+Daria.Config.domainZonesForReg+"|com\\.ua))$").test(e)},Daria.email.getDomain=function(e){return Daria.email.split(e).pop()},Daria.email.getLogin=function(e){var t=Daria.email.split(e);return t.pop(),t.join("@")},Daria.email.split=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("@")},Daria.email.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.email.getLogin(e).replace(/-/g,"."),"@").concat(Daria.email.getDomain(e))}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3065);!function(e){var t={doc:"doc",docx:"doc",htm:"doc/text",html:"doc/text",mht:"doc",odt:"doc",rtf:"doc",txt:"doc/txt",pdf:"pdf",odp:"ppt",ppt:"ppt",pptx:"ppt",csv:"xls/xls",ods:"xls",ots:"xls",xls:"xls",xlsx:"xls",eml:"mail/eml",vcf:"mail/eml",exe:"application/exe",aac:"audio/audio",mka:"audio",mp3:"audio/mp3",ogg:"audio/audio",wav:"audio",wma:"audio/wma",ai:"image/ai",bmp:"image/bmp",cdr:"image/cdr",djvu:"image",eps:"image",gif:"image/gif",ico:"image",jpe:"image",jpeg:"image/jpg",jpg:"image/jpg",pcx:"image/pcx",pjpeg:"image",png:"image/png",ps:"image",psd:"image/psd",tga:"image",tif:"image/tiff",tiff:"image/tiff","3gp":"video",avi:"video/avi",flv:"video/video",m2v:"video",mkv:"video",mov:"video/mov",mp4:"video/mp4",mpe:"video",mpeg:"video",mpg:"video",qt:"video",vob:"video",wmv:"video/wmv","7z":"zip/zip",arj:"zip/zip",bz2:"zip",lzh:"zip/zip",uc2:"zip/zip",zip:"zip",rar:"rar"},r=["bmp","gif","jpg","jpeg","pjpeg","pcx","png","tif","tiff"];["apk","cab","dmg","docb","docm","gz","js","msi","phps","pptb","pptm","sea","sit","tar","torrent","xlsb","xlsm","xpi"].forEach(function(e){t[e]="general/general"}),e.getExtensionInfo=function(e){var i=Object(n.a)(e),o=(t[i]||"").split("/"),a={class:o[0]||"general",preview:$.inArray(i,r)>-1};return o.length>1&&(a.icon=o[1]),a},e.getExtension=n.a,e.splitName=n.c,e.splitAttachmentName=n.b}(Daria)},function(e,t,r){"use strict";function n(e){var t=e||"",r=t.split(".");if(1===r.length)return[t,""];var n=r.pop();return[r.join("."),n]}t.c=n,t.a=function(e){return n(e)[1].toLowerCase()},t.b=function(e){var t=n(e)[0],r=t.length,i=Math.min(6,r);for(;" "===t[r-i];)i--;var o=t.slice(0,r-i),a=t.slice(-i);return{prefix:o,suffix:a}}},function(e,t){Daria.MessageTime={getFormattedTime:function(e){var t={attach:void 0,title:void 0,message:void 0,list:void 0,full:void 0,isRelative:!1},r=this._getUserTZ(),n=new Date(Daria.now()-r),i=new Date(e-r);return n.getUTCDate()===i.getUTCDate()&&n.getUTCMonth()===i.getUTCMonth()&&n.getUTCFullYear()===i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_today_at_HM",i,!0),t.list=Jane.Date.format("%Date_HM__colon",i,!0),t.attach=t.list,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0),t.isRelative=!0):n.getUTCFullYear()!==i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_dmy_at_HM",i,!0),t.list=Jane.Date.format("%Date_dmy__dot",i,!0),t.attach=Jane.Date.format("%Date_db",i,!0),t.title=Jane.Date.format("%Date_Format_dBY_short_year_in_HM",i,!0),t.full=t.title):(t.message=Jane.Date.format("%Date_dB_in_HM",i,!0),t.list=Jane.Date.format("%Date_db",i,!0),t.attach=t.list,t.title=t.message,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0)),t},_getUserTZ:function(){return ns.Model.get("account-information").get(".tz_offset")*Jane.Date.MINUTE}}},function(e,t){Daria.getPageTitle=function(e,t){var r,n,i="",o=t.ids,a=t.mailboxUid||null;switch(e){case"message":n=(r=ns.Model.get("message",{ids:o,mailboxUid:a})).getSubject();var s=r.getFromName();n&&s&&(i+=i18n("%Title_message",n)+" — "+s);break;case"messages":var l,u=t.current_folder,c=0;if(Daria.isFoldersTabPage(t)){var d=ns.Model.get("tabs",{mailboxUid:a}).getTab(t.tabId);d&&(c=d.getUnreadCount(),l=d.get(".title"))}else if(u){var f=ns.Model.get("folders",{mailboxUid:a}).getFolderById(u);f&&(l=f.name,c=f.new)}l&&(i+=c>0?c+" · "+l:l);break;case"compose":if(r=ns.Model.get("message",{ids:o,mailboxUid:a}),!(o&&/^\d+$/.test(o)&&r.isValid())){i+=i18n("%Title_compose");break}switch(n=r.getSubject(),t.oper){case"reply":case"reply-all":i+=i18n("%Title_reply",n);break;case"forward":i+=i18n("%Title_forward",n);break;default:i+=i18n("%Title_draft",n)}}return i&&(i+=" — "),i+=i18n("%Title_mail")},Daria.updateTitle=function(e){if(void 0===e||e===Daria.router.getCurrentParams().mailboxUid){var t=Daria.router.getCurrentParams(),r=Daria.router.getCurrentPage(),n=Daria.getPageTitle(r,t),i=Jane.watcher.get("pageVisible"),o=i?0:Math.min(Daria.gotNewMail,10);"compose"===r&&(o=r),jQuery("#favicon, #png16favicon, #png32favicon").remove();var a=Daria.IS_CORP?"ya-team-favicon-2025":"main-favicon-2025",s="/u2709/favicon/png/".concat(a,"/16/").concat(o,".png"),l="/u2709/favicon/png/".concat(a,"/32/").concat(o,".png");Modernizr.mozilla>=58&&(s+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())),l+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())));var u='<link id="png16favicon" rel="icon" type="image/png" href="'.concat(s,'" sizes="16x16" />')+'<link id="png32favicon" rel="icon" type="image/png" href="'.concat(l,'" sizes="32x32" />');jQuery("head").append(u),Daria.gotNewMail&&!i&&(n="* "+n),document.title=n}},ns.events.on("pageVisible.change",function(){Daria.gotNewMail=0,Daria.updateTitle()}),ns.events.on("ns-page-after-load",function(){Daria.updateTitle()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(658),i=r.n(n),o=r(335),a=r(329);function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}!function(){function e(e){e.convert=r(e.text),e.convert=e.convert.replace("--\n","-- \n"),e.preview=e.convert.trim();var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function t(e){e.convert=function(e){return e=Daria.Html2Text.text2html(e),"<div>"+(e=_.unescape(e))+"</div>"}(e.text),e.convert=Daria.Html2Text.flatDOMHtml(e.convert),e.convert=e.convert.replace("-- ","--&nbsp;").replace(">--<",">--&nbsp;<"),e.preview=Daria.Html2Text.html2text(e.convert).trim(),!e.preview&&n(e.text)&&(e.preview="< "+Object(o.default)("compose-react/Signature_picture")+" >");var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function r(e){return e=Daria.Html2Text.text2html(e),e=_.unescape(e),Daria.Html2Text.html2text(e)}function n(e){return/<img[^>]*>/i.test(e)}Daria.signs={get _settingsModel(){var e=Object(a.isSharedMailboxes)()?"mailbox-settings":"settings";return ns.Model.get(e)},_signsModel:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return ns.Model.get("signs",{mailboxUid:e})},getFilteredSigns:function(e,t){return _.filter(e,function(e){var r=_.map(e.emails,function(e){return e.toLowerCase()});return 0===e.emails.length||-1!==r.indexOf(t.toLowerCase())})},sort:function(e,t){return function(r,n){var i=_.map(arguments,function(r){var n=0;return r.isDefault&&(n+=1),t&&r.lang===t&&(n+=2),e&&-1!==r.emails.indexOf(e)&&(n+=4),n});return i[0]<i[1]?1:i[0]>i[1]?-1:r._idx<n._idx?1:r._idx>n._idx?-1:0}},getHtml:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mailboxUid;return this._getNotEmptySigns({mailboxUid:e}).map(t)},getPlain:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mailboxUid;return this._getNotEmptySigns({mailboxUid:t}).map(e)},addSignature:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:null,this._signsModel({mailboxUid:r})===ns.M.STATUS.OK){e.next=4;break}return e.next=4,ns.request("signs");case 4:return(n=this._getNotEmptySigns({mailboxUid:r})).push(t),e.next=8,this._signsModel({mailboxUid:r}).save(n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getSignatureMatch:function(e){var t;return e&&(t=(e=r(e)).replace(/^\s*$/gm,"").replace(/^[\n\r]+/g,"").match(/^.+$/m))&&(this.__firstLineMatch=i()(t[0]).replace(/\s/g,"\\s")),this.__firstLineMatch||""},appendToBody:function(e,t,r,n,i){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=[],u="html"===t;if(u?(l=this.getHtml({mailboxUid:s}),o="<div><br/></div><div><br/></div>",a="<div><br/></div>"):(l=this.getPlain({mailboxUid:s}),o="\n\n",a="\n"),!l.length)return e;n=n||this._settingsModel.getSetting("default_email"),i=i||Daria.Config.locale;var c=this.getFilteredSigns(l,n);c.sort(this.sort(n,i));var d=_.first(c);return d?(u&&(d.convert=Daria.Html2Text.flatDOMHtml(d.convert)),this.getSignatureMatch(d.convert)):d=this.setEmptySign(u),!r&&this._settingsModel.isSet("signature_top")?o+d.convert+a+e:e+o+d.convert+a},setEmptySign:function(e){return{text:"<div>-- </div>",convert:e?"<div>--&nbsp;</div>":"-- "}},isEmpty:function(e){return!n(e)&&!r(e)},count:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return this._getNotEmptySigns({mailboxUid:e}).length},sample:function(){var e=this,t=this._settingsModel.getSetting("from_name");if(!t)return!1;var r=(ns.Model.get("userphones").getActivePhone()||{}).number;if(!r)for(var n=this._settingsModel.getSetting("emails"),i={},o=0;o<n.length;o++){var a=n[o];if(a.native&&a.validated&&Daria.email.isCA(a.address,i)){r=i.phone;break}}if(!r)return!1;var s={name:t,phone:r,email:this._settingsModel.getSetting("default_email")};return s.content=Daria.supplant("<div>--&nbsp;</div><div>{prefix}</div>{phone}",{prefix:i18n("%Signature_sample",_.escape(t)),phone:r?"<div>"+_.escape(r)+"</div>":""},!0),!this.getHtml().filter(function(t){return e.compare(t.convert,s.content)}).length&&s},compare:function(e,t){return(e=e.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""))===(t=t.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""))},_getNotEmptySigns:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return this._signsModel({mailboxUid:t}).getList().filter(function(t){var r=t.text;return!e.isEmpty(r)})}}}()},function(e,t){!function(e){"use strict";e.UISettings={},e.UISettings.shouldShowCheckboxInsideUserpic=function(){var t=ns.Model.get("settings"),r=t.getSetting("show_checkbox_inside_userpic"),n=t.getSetting("messages_avatars");return e.is3pane()||r&&n}}(Daria)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(714),i=r(329);Daria.url={_checkAttachmentHasHid:function(e){if(!this._notEmptyString(e.hid))throw new Error("Attachment should have a hid")},_checkMid:function(e){if(!this._notEmptyString(e))throw new Error("Invalid message id passed")},_getAttachmentName:function(e){return e["name-uri-encoded"]||e.name||e.filename||""},_notEmptyString:function(e){return e&&"string"==typeof e},docviewer:function(e,t){return this._checkMid(t),this._checkAttachmentHasHid(e),"t"===t[0]&&(t=t.slice(1)),Daria.Config["docviewer-frontend-host"]+"/?url="+encodeURIComponent("ya-mail://"+t+"/"+e.hid)+"&name="+this._getAttachmentName(e)+"&uid="+Daria.uid},isEMLSuffixMissing:function(e,t,r){if(!r)return!1;var n=decodeURIComponent(r).split("."),i="message/rfc822"===[e,t].join("/");return _.all([n.length>1&&"eml"!==_.last(n)||1===n.length,i])},attachment:function(e,t,r){var o,a=Object(i.getMailboxUid)();if(e.url)return(o=new n.a(e.url)).replaceParams({uid:Daria.uid}),a&&o.addParams({mailboxUid:a}),o.toString();if(!e.uploading&&"string"==typeof t){this._checkMid(t),this._checkAttachmentHasHid(e);var s=this._getAttachmentName(e);this.isEMLSuffixMissing(e.type,e.subtype,s)&&(s=encodeURIComponent(decodeURIComponent(s)+".eml")),o="https://"+Daria.Config.host+"/message_part/"+s+"?_uid="+Daria.uid+"&name="+s+"&hid="+e.hid+"&ids="+t,a&&(o+="&mailboxUid=".concat(a));var l=["no_disposition","exif_rotate","thumb","preview"],u=["thumb_size","fallback_url"];for(var c in r=r||{})r.hasOwnProperty(c)&&(l.indexOf(c)>-1&&Boolean(r[c])?o+="&"+c+"=y":u.indexOf(c)>-1&&(o+="&"+c+"="+r[c]));return o}},archive:function(e,t){var r=_.flatten(jpath(e,".attachment")).filter(function(e){return!e.inline&&(e.name||e.message)&&!e.narod}),n=r.map(function(e){return e.hid});if(0===n.length)return!1;var o=1===n.length;n=n.join(",");var a=jpath(e,'.info.field[.type == "from"].email')[0],s=new Date(Number(e.info.date.timestamp)),l=Jane.Common.n,u=s.getFullYear()+"-"+l(s.getMonth()+1)+"-"+l(s.getDate())+"_"+l(s.getHours())+"-"+l(s.getMinutes())+"-"+l(s.getSeconds()),c=o?r[0].name:"Attachments_"+a+"_"+u+".zip",d=encodeURIComponent(c),f={_uid:Daria.uid,hid:n,ids:t,name:c};o||(f.archive="zip");var g=Object(i.getMailboxUid)();return g&&(f.mailboxUid=g),"../message_part/"+d+"?"+ns.params2query(f)},upload:function(e,t){var r="signature"===t?Daria.api["upload-signature-images"]:Daria.api["upload-attachment"],i=new n.a(r),o=i.queryParams();return _.isPlainObject(e)&&_.assign(o,e),ns.request.addRequestParams(o),i.query(o),i.toString()},cleanUpYaDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk?from=mail_attach_trash&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},increaseYaDiskSize:function(){return"".concat(Daria.Config["disk-url"],"/tuning?from=mail_attach_buy&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},signUpDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk")},diskHelp:function(){return Daria.Config["disk-help-url"]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3072);Daria.utils=Daria.utils||{},Daria.utils.dirname=function(e){var t="/"===(e=e||"").charAt(0),r=$.grep(e.split("/"),function(e){return e.length});return r.pop(),(t?"/":"")+r.join("/")},Daria.utils.getDiskParams=n.a},function(e,t,r){"use strict";var n=r(3073),i=r.n(n),o=r(403),a=r.n(o),s=r(335);t.a=function(e){return i()({name:e.name,url:e.narodUrl,preview_url:e.previewSrc,size:e.size?Number(e.size):null,folder:e.folder?Object(s.default)("compose-react/Attachments_Disk_folder"):null,hash:e.hash},a.a)}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1076),i=r(333);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(){function e(e){var t=Number(e.tid),r=$(e.target),n=e.cids,i=e.mcids,o=!0,a=[];if(_.each(i,function(e){e.length>1&&(o=!1),a.push(e)}),0===n.length)return Vow.reject("no selected contacts");if(o)return new vow.Promise(function(e,r){ns.Model.get("abook-groups").addToGroup({tid:t,mcids:a}).then(e,r)});if(r.length&&1===n.length){var s=n[0];ns.events.trigger("daria:vAbook:showChooseEmailPopup",{cid:s,tid:t,target:e.target})}else ns.events.trigger("daria:vAbook.showGroupPopup",{type:"add-to-group",targetTid:t,shared:e.shared});return Vow.reject("no allContactsWithOneEmail")}function t(e){var t=ns.Model.get("abook-groups").getPhoneGroupTid();return new vow.Promise(function(r,n){ns.Model.get("abook-groups").addToGroup({tid:t,mcids:e.cids}).then(r,n)})}Daria.COPS={},Daria.COPS["abook.select-all"]=function(e){e.selectAll()},Daria.COPS["abook.deselect-all"]=function(e){e.unselectAll()},Daria.COPS["mail-common.person-popup"]=function(){Object(i.isB2BUser)()?ns.View.create("abook-person-popup").open({where:$(window),how:{my:"center",at:"center",of:window,fixed:!0}},{}):ns.events.trigger("daria:vAbookContacts.showPersonPopup",{});return Vow.fulfill()},Daria.COPS["abook.remove-contacts"]=function(e){var t=e.getCids();return ns.Model.get("abook-contacts").removeContacts(t).then(function(){ns.Model.invalidateAll(["abook-contacts","abook-selected"])}).then(n.a).then(function(){Daria.router.navigate()})},Daria.COPS["abook.toolbar-more-actions"]=function(e,t){var r=Daria.COPS["abook.toolbar-more-actions"];return r._openView?(r._openView.destroy(),delete r._openView):r._openView=ns.View.create("abook-extra-actions").open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.groups-dropdown"]=function(e,t){var r=Daria.COPS["abook.groups-dropdown"];return r._openView?(r._openView.destroy(),delete r._openView):r._openView=ns.View.create("abook-groups-dropdown",e.params).open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.remove-contacts-from-group"]=function(e){var t=Number(Daria.router.getCurrentParams().tid||0);if(t<=0)return Vow.fulfill();Daria.Dialog&&Daria.Dialog.close();var r=e.getCids();return ns.Model.get("abook-groups").removeFromGroup({tids:[t],mcids:r}).then(function(){e.clear(),Daria.router.navigate()})},Daria.COPS["abook.compose-go"]=function(e){Daria.composeGo({to:e.emailsToString()})},Daria.COPS["abook.assign-contacts-from-group"]=function(t,r){var n=t.getCids(),i=no.jpath(".current.params.tid",ns.page);return e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{cids:n,mcids:t.getContactsMcids(i),shared:t.params.shared}))},Daria.actions.define("abook.assign-contacts-from-group",function(t,r){e(r).then(r.cb)}),Daria.COPS["abook.assign-contacts-from-phone-group"]=function(e){return t({cids:e.getCids()})},Daria.actions.define("abook.assign-contacts-from-phone-group",function(e,r){t(r).then(r.cb)})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3076),i=r.n(n),o=r(3078),a=r(1436),s=r(3079),l=r(3080),u=r(3081),c=r(136),d=(r.n(c),r(511)),f=(r.n(d),r(3082)),g=r(3083),p=r(3086),m=r(1439),h=(r.n(m),r(343)),v=(r.n(h),r(340)),b=(r.n(v),r(2)),y=(r.n(b),r(86)),S=r(329);function w(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function O(e){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(){function e(e,t){ns.events.trigger("daria:MOPS:action-complete",{action:e,mMessagesChecked:t}),ns.events.trigger("daria:MOPS:"+e,{})}function t(e,t,r,n){var i=[].concat(x(t.ids),x(t.tids)),o=Object(S.getMailboxUid)(),a=i.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:o})}).filter(function(e){return!e.isTrash()&&!e.isSpam()});a.length&&(ns.Model.traverse("messages",function(t){if(t.params.current_label===r||t.params.lid===r)if("label"===e){var n=!0,i=!1,o=void 0;try{for(var s,l=a[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;t.insertMessageBySort(u)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}}else t.remove(a)}),Jane.watcher.set("actions-message-label",e,{force:!0}),ns.events.trigger("message.action.complete",{action:e,eventObject:{ids:t,params:n},skipFocus:!0}))}function r(e){return!(!e||"object"!==O(e))&&(e.ids.length>0||e.tids.length>0)}var n=function(e,t){return(t=t||{}).folder&&(t.fid=t.folder,delete t.folder),t.current_folder=function(e,t){var r={delete:"trash",tospam:"spam",notspam:"inbox"};if(_.has(r,e)){var n=Object(S.getMailboxUid)();t=ns.Model.get("folders",{mailboxUid:n}).getFidBySymbol(r[e])}return t}(e,t.fid||Daria.router.getCurrentParams().current_folder),t};function M(e,t,i,o){var a,l=!o&&Daria.MOPS.HooksManager.instance().runBefore(e,M,[e,t,i]);if(l)return l;a=(i=n(e,i)).current_folder,e=Daria.MOPS.fixMoveAction(e,a);var u=[],f=i["message-id"],g=t.isFolderSelected(),p=t.isTabSelected(),m=g?t.getSelectedFolder():null,h=p?t.getSelectedTab():null,v=Daria.router.getCurrentParams(),b=t.getCount(),y=t.getIds(e,i),w=i.tabId;Daria.MOPS._logMops("move",e,"start",y,i),f&&(y.ids=$.grep(y.ids,function(e){return e===f}));var O=Object(S.getMailboxUid)(),P=[].concat(x(y.ids),x(y.tids)).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:O})}),D=P.some(function(e){return e.isValid()&&e.isInTab()}),E=_.extend({},i,{ids:y,count:b,action:e});if(E.whereToGo=Daria.messages.whereToGoAfterMove(e,t,E),ns.events.trigger("daria:MOPS:action-start",E),!r(y))return Vow.reject("no selected ids");var T=ns.Model.get("folders",{mailboxUid:O}).isCurrentFolder(c.WellKnownFolderSymbol.SENT),k={id:"do-messages",params:{mailboxUid:O,movefile:a,action:e,with_sent:-1!==["move","tospam","delete"].indexOf(e)&&T?1:0}};if(Daria.areFoldersTabsEnabled()&&w&&(k.params.tabId=w),h?k.params.tab=h:m?k.params.fid=m:k.params=_.extend({},k.params,y),!Daria.MOPS._checkDoMessagesParams(k.params))return Vow.reject("moveHelper: not enough params for request in do-messages");u.push(k,{id:"folders",params:{mailboxUid:O}},{id:"labels",params:{mailboxUid:O}}),Object(S.isSharedMailboxesEnabled)()&&ns.Model.isDefined("delegated-resources-list")&&u.push({id:"delegated-resources-list"}),Daria.areFoldersTabsEnabled()&&(w||D)&&u.push({id:"tabs",params:{mailboxUid:O}}),Daria.isPriorityTab()&&u.push({id:"messages",params:{current_label:ns.Model.get("labels",{mailboxUid:O}).getPriorityLID(),mailboxUid:O}}),Daria.isAttachmentsTab()&&u.push({id:"messages",params:{goto:"all",extra_cond:"only_atta",sort_type:"date",mailboxUid:O}}),Daria.isSearchPage()&&v[d.SearchQueryParams.DELETED]&&u.push({id:"messages",params:v});var A=P.some(function(e){return e.isTrash()});"delete"===e&&A&&(ns.Model.invalidate("messages",function(e){return e.params[d.SearchQueryParams.DELETED]}),ns.Model.invalidate("message-in-reply-to-ng"));var I=Daria.MOPS.prepareMove({action:e,mMessagesChecked:t,ids:y,params:i,extendedParams:E,pageParams:v}),j=I.willGoToFolder3pane,F=I.willGoToFolder2pane;Array.isArray(i.requestModels)&&(u=u.concat(i.requestModels.map(function(e){return{id:e,params:i.requestParams}}))),Daria.MOPS.doActionInModelsByIds(y,"move",{fid:a,tabId:w}),Daria.MOPS.invalidateMessagesCheckedModels(y,e),i.ignoreUnsavedDraft&&ns.page.block.clear(),j&&(Daria.router.navigate(Daria.Page.generateUrl.closeMessage()),ns.Model.get("focus").setPreventOpenOnFocus()),Daria.MOPS._logMops("move",e,"startRequest",y,i);var R=ns.forcedRequest(u);return C(e,t),R.then(function(t){var r=t[0].data.taskType||"sync";if(b>(parseInt(ns.Model.get("settings").getSetting("messages_per_page"),10)||30)){var n=ns.Model.get("folders",{mailboxUid:O}),o=n.isFolder(t[0].params.movefile,[c.WellKnownFolderSymbol.TRASH]),a=n.isFolder(Daria.router.getCurrentParams().current_folder,[c.WellKnownFolderSymbol.TRASH])&&o?"delete-from-trash":e;Daria.MOPS.showStatusline(a,y,b,Object.assign({},i,{isTaskAsync:"async"===r}))}F&&Daria.router.navigate(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-complete",E),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"success"},E)),ns.events.trigger("message.action.complete",E),Object(s.a)(e,P)},function(t){F&&Daria.router.navigate(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-failed",E),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"fail"},E));var r=E.ids,n=E.count,i=E.fid,o=E.tabId;return Daria.MOPS.registerOperationFail(e,{ids:r,count:n,fid:i,tabId:o},t,"do-messages"),Vow.reject(t)})}function P(t,n,i,o){i=i||{};var a,s,l,u,c=Object(S.getMailboxUid)(),d=n.isFolderSelected(),f=n.getSelectedFolder(),g=n.isTabSelected(),p=n.getSelectedTab();if(g){if(!p)return Daria.DEBUG&&console.error("Promise rejected because of no tabId"),Vow.reject("no-selection");(a=Daria.MOPS.markByTab(t,p)).hasTabsAdjust()&&(s=a.getIds())}else if(d){if(!f)return Daria.DEBUG&&console.error("Promise rejected because of no fid"),Vow.reject("no-selection");(a=Daria.MOPS.markByFid(t,f)).hasAdjust()&&(s=a.getIds())}else{var m=n.getIds();if(l=n.getCount(),a=Daria.MOPS.doActionInModelsByIds(m,t,{fid:f,tabId:p}),!r(s=a.getIds())&&r(m))return Vow.reject("no-item-to-operation")}var h=a.hasAdjust(),v=a.hasTabsAdjust(),b=[],y={id:"do-messages",params:{action:t,mailboxUid:c}};if(p?y.params.tabId=p:f?y.params.fid=f:(y.params=_.extend({},y.params,s),"mark"===t&&function(e){var t=e.ids.concat(e.tids).filter(function(e){return!ns.Model.get("state-message-thread-item",{ids:e}).isOpen()});if(Daria.Page.isParamsForMessage(Daria.router.getCurrentParams())){var r=Daria.Page.getMessageId(Daria.router.getCurrentParams());t=_.without(t,r)}if(t.length){var n={type:"mark_read_from_list",mids:t};Jane.ErrorLog.send(n)}}(s)),!Daria.MOPS._checkDoMessagesParams(y.params))return setTimeout(function(){return Daria.MOPS._undoFailedAction(t,a)},1),Vow.reject("mark: not enough params for request in do-messages");b.push(y),!Daria.IS_CORP&&h||(b.push({id:"folders",params:{mailboxUid:c}}),Object(S.isSharedMailboxesEnabled)()&&ns.Model.isDefined("delegated-resources-list")&&b.push({id:"delegated-resources-list"})),!Daria.areFoldersTabsEnabled()||!Daria.IS_CORP&&v||b.push({id:"tabs",params:{mailboxUid:c}});var w=function(e){var r=y.params.fid;Daria.MOPS.registerOperationFail(t,{ids:s,count:l,fid:r,tabId:p},e,"do-messages"),Daria.MOPS._hasModelRequestFailed(e,"do-messages")&&Daria.MOPS._undoFailedAction(t,a)};if(h||v)e(t,n),ns.forcedRequest(b).then(function(){},w),u=Vow.resolve();else{var O=ns.forcedRequest(b);O.then(function(){return e(t,n)},w),u=O}return i.noResetChecked||C(t,n),u}function D(e,n,i){var o,a=n.isFolderSelected(),s=n.isTabSelected(),l=Object(S.getMailboxUid)();if("object"===O(i)&&i?(i.actionParams&&(i=i.actionParams),o=i.lid||i.label||i.current_label):o=i,!o)return Vow.reject("No lid passed");var u,c=i["message-id"],d=i.originalAction;if(i={lid:o},u=c?{ids:[c],tids:[]}:n.getIds(),"toggleLabel"===e){var f=[].concat(x(u.ids),x(u.tids)).some(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:l}).hasLabel(o)});e=f?"label":"unlabel"}var g=Daria.MOPS.doActionInModelsByIds(u,e,i);if(!r(u=g.getIds()))return Daria.DEBUG&&console.error("Promise rejected because of no selection"),Vow.reject("no-selection");ns.events.trigger("label.update-message-labels");var p,m=[],h={id:"do-"+e,params:{lid:o,mailboxUid:l}};return s?h.params.tabId=n.getSelectedTab():a?h.params.fid=n.getSelectedFolder():h.params=_.extend({},h.params,u),m.push(h),g.hasAdjust()?(ns.Model.get("labels",{mailboxUid:l}).adjustCounters(g.getAdjust()),(p=ns.forcedRequest(m)).then(function(r){var n=r[0].data.taskType||"sync";Daria.MOPS.showStatusline(e,u,null,Object.assign({},i,{isTaskAsync:"async"===n})),t(e,u,o,i),Daria.router.navigate()})):(m.push({id:"labels",params:{mailboxUid:l}}),(p=ns.forcedRequest(m)).then(function(r){r[0].getAffectedTids().forEach(function(t){ns.Model.get("message",{ids:t})[e](i)});var n=r[0].data.taskType||"sync";Daria.MOPS.showStatusline(e,u,null,Object.assign({},i,{isTaskAsync:"async"===n,originalAction:d})),t(e,u,o,i)})),p.then(function(){o===ns.Model.get("labels",{mailboxUid:l}).getPriorityLID()&&u.ids.forEach(function(t){return Object(y.callHamonChangeInboxGptSideEffect)(t,e)})}),p}function E(e,t){var r,n,i,o,a=Object(S.getMailboxUid)(),s=ns.Model.get("labels",{mailboxUid:a}),l=t.tids;Array.isArray(l)||(l=[l]);var u=s.getMuteThreadLabel(),c=[];_.contains(["ignore","disableIgnore"],e)?(n="label","ignore"===e?(i="Игнорировать",r=u&&u.lid):(i="Не предлагать",r=(o=s.getLIDByName("ignore_thisthread:disable"))&&o.lid)):(n="unlabel",r=u&&u.lid,i="Отменить");var d=Vow.promise();return r?d.fulfill(r):(c=[{id:"do-labels-add-by-symbol",params:{symbol:"mute_label",mailboxUid:a}},{id:"labels",params:{mailboxUid:a}}],"disableIgnore"===e&&(c=[{id:"do-labels-add",params:{label_name:"ignore_thisthread:disable",label_type:"threadWide",mailboxUid:a}},{id:"labels",params:{mailboxUid:a}}]),d=ns.forcedRequest(c).then(function(t){var r;return t[0].get(".body.updated")?(r=_.contains(["ignore","unignore"],e)?t[1].getMuteThreadLabel():t[1].getLabelByName("ignore_thisthread:disable"),Vow.fulfill(r&&r.lid)):Vow.reject("not possible to add label: ".concat(t))})),Jane.c("Статуслайн игнорирования треда",i),d.then(function(e){return _.each(l,function(t){ns.Model.get("message",{ids:t})[n]({lid:e})}),c=[{id:"do-"+n,params:{lid:e,tids:l}}],ns.forcedRequest(c)})}function T(e,t){Daria.MOPS._logMops("archive","archive","start",e.getIds("archive",t),t);var r=Object(S.getMailboxUid)(),n=ns.Model.get("folders",{mailboxUid:r});return n.createArchiveFolder().then(function(){var r=n.getFidBySymbol(c.WellKnownFolderSymbol.ARCHIVE);return r?(t=_.extend({originalAction:"archive",fid:r,noResetChecked:!0},t),P("mark",e,t).then(function(){},function(e){if("no-item-to-operation"!==e)throw e}).then(function(){return M("move",e,t)})):Vow.reject("No folder with archive symbol found!")})}function C(e,t){"message"!==Daria.router.getCurrentPage()&&(t.isFolderOrTabSelected()||_.contains(["mark","unmark","move","notspam","tospam","pin","unpin","delete"],e))&&t.resetChecked()}Daria.MOPS={OperationFailNotificationManager:i.a,_failNotificationManager:new i.a,showStatusline:o.a,HooksManager:m.HooksManager,MOVE_ACTIONS:["archive","move","notspam","remove","tospam","infolder"],mark:function(e,t){return P("mark",e,t)},unmark:function(e){return P("unmark",e)},remove:function(e,t,r){return M("delete",e,t,r)},"remove.draft":function(e,t){return M("delete",e,_.extend({},t,{originalAction:"remove.draft"}))},move:function(e,t){var r=Object(S.getMailboxUid)();return ns.Model.get("folders",{mailboxUid:r}).isArchive(t.fid)?T(e,t):M("move",e,t)},infolder:function(e,t){return M("move",e,_.extend({originalAction:"infolder"},t))},archive:function(e,t){return T(e,t)},tospam:function(e,t,r){return M("tospam",e,t,r)},notspam:function(e,t){var r=Object(f.a)();if(!r)return M("notspam",e,t);var n=e.getData();return r.then(function(r){if(r)return M("notspam",e,t).then(function(e){return Object(v.showStatuslineComponent)({name:h.StatuslineName.UndoNotSpam,onAction:function(){Daria.MOPS.doActionWithMessages(n,"tospam",{},!0)}}),e})})},label:function(e,t){return D("label",e,t)},toggleLabel:function(e,t){return D("toggleLabel",e,t)},unlabel:function(e,t){return D("unlabel",e,t)},ignore:function(e){return E("ignore",e)},disableIgnore:function(e){return E("disableIgnore",e)},unignore:function(e){return E("unignore",e)},"unsubscribe-all":l.a,"unsubscribe-one":u.a,pin:function(e,t,r){return Daria.MOPS._pinHelper(e,!0,r)},unpin:function(e){return Daria.MOPS._pinHelper(e,!1)},"compose-edit":function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Daria.router.navigate(Daria.router.buildUrl("compose2",{ids:Daria.router.getCurrentParams().ids}));case 2:t=Object(S.getMailboxUid)(),r=ns.page.history.getPreviousPageUrl({match:"messages"}),n=Daria.router.buildUrl("messages",{current_folder:ns.Model.get("folders",{mailboxUid:t}).getFidBySymbol(c.WellKnownFolderSymbol.INBOX)}),Daria.router.navigate(r||n);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),"reply-later-create":g.a,"reply-later-remove":p.a},Daria.MOPS._checkThreadInFolder=function(e){var t=e.action,r=e.params,n=e.ids,i=e.pageParams,o=e.extendedParams,a=Object(S.getMailboxUid)(),s=Daria.is3pane(),l=ns.Model.get("messages",{thread_id:i.thread_id,mailboxUid:a}).getCountThreadMessageInFolder();if(l&&n.ids.forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:a}).getFolderId()===i.current_folder&&l--}),!l){s&&Daria.lom.deleteFid(i.current_folder);var u=Daria.messages.getPageAfterSettingForAction(t,r).pageAfterSetting,c=Daria.router.getUrlInfo(o.whereToGo.where);"messages"===c.page&&c.params.thread_id&&"next_message"!==u&&(delete c.params.thread_id,o.whereToGo.where=Daria.router.buildUrl(c.page,c.params),o.whereToGo.updateRequired=!0)}},Daria.MOPS._checkWillGoToFolder3pane=function(e){var t=e.action,r=e.ids,n=!0,i=Object(S.getMailboxUid)(),o=-1!==["move","tospam","delete"].indexOf(t);if(Daria.router.getCurrentParams().thread_id&&o)n=-1!==r.tids.indexOf(Daria.router.getCurrentParams().thread_id)||r.ids.some(function(e){var t=ns.Model.get("message",{ids:e,mailboxUid:i}),r=t&&t.getThreadMessage();return r&&r.get(".mid")===Daria.router.getCurrentParams().thread_id&&(r.getThreadCount()||0)<=1});else if(Daria.router.getCurrentParams().ids&&o)if(-1!==r.ids.indexOf(Daria.router.getCurrentParams().ids))n=!0;else{var a=ns.Model.get("message",{ids:Daria.router.getCurrentParams().ids,mailboxUid:i}),s=a&&a.getThreadMessage();n=s&&-1!==r.tids.indexOf(s.get(".mid"))}return n},Daria.MOPS._clearMessageBodyCache=function(e){var t=e.midsHash,r=e.ids,n=Daria.array2obj(r.tids);ns.Model.traverse("message-body",function(e){(t[e.params.ids]||n["t"+e.params.ids])&&(e.invalidate(),e.trigger("daria:mMessageBody:moved"))})},Daria.MOPS.prepareMove=function(e){var t=e.action,r=e.mMessagesChecked,n=e.ids,i=e.params,o=e.extendedParams,a=e.pageParams,s=Daria.is3pane();a.thread_id&&a.current_folder?Daria.MOPS._checkThreadInFolder({action:t,params:i,ids:n,pageParams:a,extendedParams:o}):s&&Daria.lom.deleteFid(a.current_folder),Daria.MOPS.invalidateModelsOnMove(t,i,a);var l=Object(S.getMailboxUid)(),u=r.getOnlyCheckedMidOrTid(n),c=ns.Model.get("message",{ids:u,mailboxUid:l}),d=c.isSpam(),f=Boolean(Daria.router.getCurrentParams().ids||Daria.router.getCurrentParams().thread_id),g=Boolean("messages"===Daria.router.getCurrentPage()&&f),p=Boolean(g&&Daria.is2pane()&&(Daria.router.getCurrentParams().ids||Daria.router.getCurrentParams().thread_id&&_.lte(c.getThreadMessage().getThreadCount()||0,1)||c.isThreadModel())&&"delete"===t),m=g&&Daria.is3pane()&&Daria.MOPS._checkWillGoToFolder3pane({action:t,ids:n});if("delete"===t||t.indexOf("spam")>=0||"move"===t&&d){var h=Daria.array2obj(n.ids);1===n.ids.length^1===n.tids.length&&(o.messageInfo=_.cloneDeep(ns.Model.get("message",{ids:u,mailboxUid:l})),i.messageInfo=o.messageInfo),Daria.MOPS._clearMessageBodyCache({midsHash:h,ids:n}),[].concat(x(n.ids),x(n.tids)).forEach(function(e){ns.Model.get("message-widget-state",{ids:e}).resetViewUserClose("message-widget-spam",{silent:!0})}),Daria.MOPS.invalidateCollectionsWithCheckedLabels(r)}return{willGoToFolder2pane:p,willGoToFolder3pane:m}},Daria.MOPS.markByFid=function(e,t,r){var n=ns.Model.get("folders",{mailboxUid:r}),i=n.getUnreadCount(t);ns.Model.traverse("message",function(r){r.getFolderId()===t&&r[e]()});var o={};return o[t]=-i,n.adjustUnreadCounters(o),new Daria.MOPS.Opinfo},Daria.MOPS.invalidateCollectionsWithCheckedLabels=function(e){var t=e.getLidsSet();t.size&&ns.Model.traverse("messages",function(e){e.params.current_label&&t.has(e.params.current_label)&&e.params.current_label!==Daria.router.getCurrentParams().current_label&&e.invalidate()})},Daria.MOPS.markByTab=function(e,t,r){var n=ns.Model.get("tabs",{mailboxUid:r}).getUnreadCount(t);ns.Model.traverse("message",function(r){r.getTabId()===t&&r[e]()});var i={};return i[t]=-n,this._adjustTabsUnreads(i,r),new Daria.MOPS.Opinfo},Daria.MOPS.markReadTab=function(e,t){ns.Model.get("tabs",{mailboxUid:t}).getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)}),ns.forcedRequest([{id:"do-folder-mark-read",params:{tabId:e,mailboxUid:t}}]).fail(function(t){return Daria.MOPS.registerOperationFail("mark",{tabId:e},t,"do-folder-mark-read")}),Daria.MOPS.markByTab("mark",e))},Daria.MOPS.doActionInModelsByIds=function(e,t,r){var n=[].concat(e.ids,e.tids);return Daria.MOPS.doActionInMessages(n,t,r)},Daria.MOPS.doActionInMessages=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=new Daria.MOPS.Opinfo,o=void 0===n?Object(S.getMailboxUid)():n;return e.forEach(function(e){var n=ns.Model.get("message",{ids:e,mailboxUid:o});if(n.getData()){var a=n[t](r);i.merge(a)}}),i.hasAdjust()&&"fid"in r&&ns.Model.get("folders",{mailboxUid:o}).adjustUnreadCounters(i.getAdjust()),Daria.areFoldersTabsEnabled()&&i.hasTabsAdjust()&&"tabId"in r&&this._adjustTabsUnreads(i.getTabsAdjust()),Daria.isPriorityTabEnabled()&&i.hasLabelsUnreadAdjust()&&ns.Model.get("labels",{mailboxUid:o}).adjustUnreadCounters(i.getLabelsUnreadAdjust()),i},Daria.MOPS.fixMoveAction=function(e,t){var r=Object(S.getMailboxUid)(),n=ns.Model.get("folders",{mailboxUid:r});return"move"===e&&(n.isFolder(t,[c.WellKnownFolderSymbol.TRASH])?e="delete":n.isFolder(t,[c.WellKnownFolderSymbol.SPAM])&&(e="tospam")),e},Daria.MOPS.invalidateModelsOnMove=function(e,t,r){if(ns.Model.destroyAll(["message-nearest"]),["delete","tospam","notspam"].indexOf(e)>-1&&ns.Model.destroyAll(["message-thread-nearest"]),ns.Model.isDefined("messages-pager")){ns.Model.get("messages-pager",r).destroy();var n=t.current_folder;n&&ns.Model.get("messages-pager",{current_folder:n}).destroy()}},Daria.MOPS.invalidateMessagesCheckedModels=function(e,t){"delete"===t&&(e=[].concat(e.ids,e.tids),ns.Model.traverse("messages-checked",function(t){var r=t.getIds(),n=_(r).chain().values().flattenDeep().compact().map(function(e){return"t"===e.charAt(0)?e.substr(1):e}).value();n.length&&n.some(function(t){return _.include(e,t)})&&t.resetChecked()}))},Daria.MOPS.updateHelper=function(e,t,r,n){var i=function(){ns.events.trigger("daria:vToolbarButton:loader:end")},o=Daria.MOPS[e](t,r);if(o){if(o.then(i,i),n){var a=function(){return o};return n.update(Daria.router.getCurrentParams()).then(a,a)}return o}},Daria.MOPS.getFakeMessagesChecked=function(e){var t=Object(S.getMailboxUid)(),r=ns.Model.get("messages-checked",{mid:"mops-fake-checked"});return(e=Array.isArray(e)?e:[e]).forEach(function(e){var n=ns.Model.get("message",{ids:e,mailboxUid:t});r.check(n,!0)}),r},Daria.MOPS.doActionWithMessages=function(e,t,r,n){var i=Daria.MOPS.getFakeMessagesChecked(e),o=function(){i.destroy()};Daria.MOPS[t](i,r,n).then(o,o)},Daria.MOPS._pinHelper=function(e,t,r){var n=Object(S.getMailboxUid)(),i=t?"pin":"unpin",o=ns.Model.get("labels",{mailboxUid:n}).getPinnedLabel().lid,a="pin"===i?"label":"unlabel";if(!t||r||!Daria.MOPS.shouldShowConfirmation(i,e.getCount()))return t?Object(v.showSuccessMessage)(h.StatuslineName.MessagesPinned,i18n("%Pinned_Письмо_будет_запинено",e.getCount())):Object(v.showSuccessMessage)(h.StatuslineName.MessagesUnpinned,i18n("%Pinned_Письмо_будет_распинено",e.getCount())),D(a,e,{lid:o,originalAction:i}),Daria.MOPS.updateModelsAfterPin(e,t);ns.Model.get("mops-confirmation").setMops({action:i,count:e.getCount(),callback:function(){return Daria.MOPS.pin(e,t,!0)}})},Daria.MOPS._getReplacementTreeAfterPin=function(e,t){var r=ns.Model.get("settings").isThreaded(),n=e.getData(),i={},o=Object(S.getMailboxUid)();return n.forEach(function(e){var n=ns.Model.get("message",{ids:e,mailboxUid:o});if(n.isIntoThread()&&!n.isThread()&&r){var a=ns.Model.get("message",{ids:n.getThreadId(),mailboxUid:o}),s=ns.Model.get("messages",{thread_id:n.getThreadId(),mailboxUid:o}).getPinned();t||0===s.length?(i[a.get(".mid")]=a,delete i[n.get(".mid")]):!t&&s>0&&delete i[n.get(".mid")]}else i[n.get(".mid")]=n}),i},Daria.MOPS._undoFailedAction=function(e,t){var r=Object(S.getMailboxUid)();!_.includes(["mark","unmark"],e)||(t.getSavedMids().map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:r})}).forEach(function(t){"mark"===e&&t.unmark(),"unmark"===e&&t.mark()}),t.getSavedTids().forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:r}).set(".new",t.getSavedUnreadCounter(e))}))},Daria.MOPS._hasModelRequestFailed=function(e,t){return Boolean(_.find(e.invalid,function(e){return e.id===t}))},Daria.MOPS.updateModelsAfterPin=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Daria.MOPS._getReplacementTreeAfterPin(e,t),i=Object(S.getMailboxUid)(),o=Object.keys(n).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:i})});return ns.Model.traverse("messages",function(e){"yes"===e.params.with_pins&&e.recalculateIndexesAfterPin(o,t)}),r||C(t?"pin":"unpin",e),Vow.fulfill()},Daria.MOPS.shouldShowConfirmation=function(e,t){var r=Daria.router.getCurrentParams(),n=Object(S.getMailboxUid)(),i=r.current_folder?ns.Model.get("folder",{fid:r.current_folder,mailboxUid:n}).get(".symbol"):"";return!(c.ClearEnabledFolders.indexOf(i)>=0)&&("pin"===e&&t>=Daria.Constants.MAX_MESSAGES_TO_PIN||["tospam","delete"].indexOf(e)>=0&&t>=Daria.Constants.MAX_MESSAGES_TO_REMOVE_OR_SPAM)},Daria.MOPS._getSourceFoldersLogParams=function(e){var t=e.ids,r=e.tids,n={},i={},o=Object(S.getMailboxUid)();[].concat(x(t),x(r)).forEach(function(e){var t=ns.Model.get("message",{ids:e,mailboxUid:o});t.isInTab()?i[t.getTabId()]=!0:n[t.getFolderId()]=!0});var s=Object.keys(n).map(function(e){return{kind:"folder",source_id:e,source_type:Object(a.c)(e)}}),l=Object.keys(i).map(function(e){return{kind:"tab",source_id:e,source_type:e}});return[].concat(x(s),x(l))},Daria.MOPS._logMops=function(e,t,r,n){var i=n.ids,o=void 0===i?[]:i,s=n.tids,l=void 0===s?[]:s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(o.length||l.length){var c=u.tab||u.tabId,d=Object.assign({helper:e,action:t,actionStage:r,ids:o.join(","),tids:l.join(","),time:Date.now(),kind:"folder",target_type:Object(a.c)(u.current_folder),target_id:u.current_folder,page:Daria.MOPS._getPageParam()},_.pick(u,"originalAction","fid","folder","toolbar","noResetChecked"));Daria.areFoldersTabsEnabled()&&c?(d.kind="tab",d.target_type=c,d.target_id=c):(d.kind="folder",d.target_type=Object(a.c)(u.current_folder),d.target_id=u.current_folder),"start"===r&&(d.sources=Daria.MOPS._getSourceFoldersLogParams({ids:o,tids:l})),Daria.monitoring.journal("MOPS",d),Daria.DEBUG&&console.log("[MOPS]",d)}},Daria.MOPS._getPageParam=function(){return Daria.isPriorityTab()?"priority_tab":Daria.isAttachmentsTab()?"attachments_tab":Daria.isSearchPage()?"search":Daria.isMessagePage()?"message":Daria.isThreadPage()?"thread":Daria.isFoldersTabPage()?"tab":Daria.isMessagesListPage()?"folder":"unknown"},Daria.MOPS.registerOperationFail=function(e,t,r,n){!_.find(r.invalid,function(e){return e.id===n})||Daria.MOPS._failNotificationManager.registerOperationFail(e,t)},Daria.MOPS._checkDoMessagesParams=function(e){return!(_.isEmpty(e.ids)&&_.isEmpty(e.tids)&&!Boolean(e.fid)&&!Boolean(e.tabId||Boolean(e.tab)))||(Jane.ErrorLog.log({message:"do-messages: not enough params for request",source:b.ErrorSource.Logic,sourceMethod:b.ErrorSourceMethod.Mops,block:b.ErrorBlock.Mops,method:"_checkDoMessagesParams",type:b.ErrorType.Component,requestParams:JSON.stringify(e)}),!1)},Daria.MOPS._adjustTabsUnreads=function(e,t){var r=ns.Model.get("tabs",{mailboxUid:t}).adjustUnreadCounters(e);ns.Model.get("folders",{mailboxUid:t}).adjustUnreadCounters({1:r})}}()},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(3077),o=r(340).showErrorMessage,a=r(343).StatuslineName,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fails,n=t.messages,o=t.notifications,a=t.time;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._threshold={fails:r||5,messages:n||5,notifications:o||1,time:a||6e4},this._failOperationsQueue=new i(this._threshold.fails,this._threshold.time),this._resetNotificationShow()}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"_resetNotificationShow",value:function(){this._notificationShowCount=0,clearTimeout(this._resetNotificationTimer),this._resetNotificationTimer=null}},{key:"_registerOperationFail",value:function(){this._failOperationsQueue.registerEvent()}},{key:"_shouldShowNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,r=void 0===t?0:t,n=e.fid,i=e.tabId,o=this._failOperationsQueue.hasMaxEventsForTimeInterval(),a=this._notificationShowCount,s=this._threshold,l=s.notifications,u=s.messages;return(o||r>=u||!r&&(void 0!==n||void 0!==i))&&a<l}},{key:"_setNotificationShow",value:function(){var e=this;this._notificationShowCount+=1,this._resetNotificationTimer||(this._resetNotificationTimer=setTimeout(function(){return e._resetNotificationShow()},this._threshold.time))}},{key:"_logNotificationShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.count,n=void 0===r?"unknown":r,i=t.fid,o=t.tabId,a={type:"mops_fail_notification_show",action:e};void 0===i?a.msgsCount=n:(o&&(a.tabId=o),a.fid=i),Jane.ErrorLog.send(a)}},{key:"registerOperationFail",value:function(e,t){this._registerOperationFail(),this._shouldShowNotification(t)&&this.showNotification(e,t)}},{key:"showNotification",value:function(e,t){o(a.ModificationOperationsError,i18n("%mops_fail_notification")),this._setNotificationShow(),this._logNotificationShow(e,t)}}]),e}();s.EventsTimeQueue=i,e.exports=s},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[],this._time=r,this._capacity=t}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"hasMaxEventsForTimeInterval",value:function(){if(this._events.length<this._capacity)return!1;var e=Date.now(),t=this._events.length-this._capacity;return Math.abs(e-this._events[t])<=this._time}},{key:"registerEvent",value:function(){this._events.push(Date.now());var e=this._events.length;e>2*this._capacity&&(this._events=this._events.slice(e-this._capacity))}}]),e}();e.exports=i},function(e,t,r){"use strict";t.a=function(e,t,r,a){var s={};switch(e){case"notspam":a.isTaskAsync?(s.name=n.StatuslineName.MessagesNotSpamAsync,s.text=o[e].async.messages()):(s.name=n.StatuslineName.MessagesNotSpam,s.count=r);break;case"tospam":case"delete":a.isTaskAsync?s.text=o[e].async.messages():s.text=o[e].sync.messages(r),s.name=n.StatuslineName.MessagesRemoved;break;case"delete-from-trash":s.text=o[e].async.messages(),s.name=n.StatuslineName.MessagesDeleteFromTrash;break;case"label":case"unlabel":if(!a.isTaskAsync)return;"pin"!==a.originalAction&&"unpin"!==a.originalAction||Object(i.hideStatusline)("pin"===a.originalAction?n.StatuslineName.MessagesPinned:n.StatuslineName.MessagesUnpinned),s.text=o[e].async.messages(),s.name="label"===e?n.StatuslineName.MessagesLabel:n.StatuslineName.MessagesUnlabel;break;case"move":var l=_.escape(ns.Model.get("message",{ids:t.ids.length?t.ids[0]:t.tids[0]}).getSubject());s.name=n.StatuslineName.MessagesMoved,"archive"===a.originalAction&&(s.name=n.StatuslineName.MessagesMovedArchive,e="archive"),s.text=1===r?o[e].sync.message(l):a.isTaskAsync?o[e].async.messages():o[e].sync.messages(r)}Object(i.showStatuslineComponent)(s)};var n=r(343),i=(r.n(n),r(340)),o=(r.n(i),{move:{sync:{message:function(e){return i18n("%Message_Move_Msg_One",e)},messages:function(e){return i18n("%Message_Move_Msg",e)}},async:{messages:function(){return i18n("%Message_Move_Msg_async")}}},archive:{sync:{message:function(e){return i18n("%Message_MoveArchive_Msg_One",e)},messages:function(e){return i18n("%Message_MoveArchive_Msg",e)}},async:{messages:function(){return i18n("%Message_MoveArchive_Msg_async")}}},tospam:{sync:{messages:function(e){return i18n("%Message_To_Spam_Msg",e)}},async:{messages:function(){return i18n("%Message_To_Spam_Msg_async")}}},notspam:{async:{messages:function(){return i18n("%Message_Not_Spam_Msg_async")}}},label:{async:{messages:function(){return i18n("%Message_Label_Msg_async")}}},unlabel:{async:{messages:function(){return i18n("%Message_Unlabel_Msg_async")}}},"delete-from-trash":{async:{messages:function(){return i18n("%Message_Delete_From_Trash_Msg_async")}}},delete:{sync:{messages:function(e){return i18n("%Message_Delete_Msg",e)}},async:{messages:function(){return i18n("%Message_Delete_Msg_async")}}}})},function(e,t,r){"use strict";var n=r(135),i=r.n(n),o=r(672),a=r(333),s=r(337),l=(r.n(s),r(343)),u=(r.n(l),r(340));r.n(u);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}var g="last_remove_subscription";function p(){return(p=f(regeneratorRuntime.mark(function e(t,r){var n,c,d,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(a.isCorp)()&&"delete"===t&&!Object(s.hasFeature)(s.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=2;break}return e.abrupt("return");case 2:if(n=(n=ns.Model.get("settings").getSign(g))&&Number(n),!((c=n&&Daria.now()-n)&&c<14*Jane.Date.DAY)){e.next=7;break}return e.abrupt("return");case 7:if(r.some(function(e){return e.isNew()})){e.next=10;break}return e.abrupt("return");case 10:if(!r.some(function(e){return!e.isSubscriptionMessage()})){e.next=13;break}return e.abrupt("return");case 13:if(d=r.map(function(e){return e.getSubscriptionData()}),1===i.a.unique(d.map(function(e){return JSON.stringify(e)})).length){e.next=17;break}return e.abrupt("return");case 17:return f=d[0],e.next=20,h();case 20:if(p=e.sent){e.next=23;break}return e.abrupt("return");case 23:if(!p.hasSubscription(f.email)){e.next=25;break}return e.abrupt("return");case 25:Object(u.showStatuslineComponent)({name:l.StatuslineName.DeleteOrUnsubscribeOld,email:f.email,onAction:function(){return Object(o.g)([f])},onCancel:m,onClose:m});case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.a=function(e,t){return p.apply(this,arguments)};var m=function(){ns.Model.get("settings").setSettings(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},g,Daria.now()))};function h(){return v.apply(this,arguments)}function v(){return(v=f(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return t=e.sent,r=c(t,1),n=r[0],e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1438),i=r(550);r.n(i);function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var a=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.a)(t);case 2:(r=e.sent)&&r.result===i.UnsubscribeResult.SUCCESS&&t.resetChecked();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1438);function i(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var o=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(n.a)(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";t.a=function(){return new Promise(function(e){Object(i.showStatuslineComponent)({name:n.StatuslineName.ConfirmNotSpam,onAction:function(){return e(!0)},onCancel:function(){return e(!1)},onClose:function(){return e(!1)}})})};var n=r(343),i=(r.n(n),r(340));r.n(i)},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(136),i=(r.n(n),r(141)),o=(r.n(i),r(744)),a=r(539),s=(r.n(a),r(3084)),l=r(3085),u=r(329);function c(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var d=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t,r){var c,d,f,g,p,m,h,v,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(u.getMailboxUid)(),!(d=Object(o.c)(t)).isReplyLaterFinished()){e.next=4;break}return e.abrupt("return",Object(l.a)(t,r));case 4:if(!d.isReplyLaterStarted()){e.next=6;break}return e.abrupt("return",Object(s.a)(t,r));case 6:if(f=d.getLastMid(),g=Math.floor(Daria.convertPassportDateToTimestamp(r.date)/1e3),p=ns.Model.get("folders",{mailboxUid:c}),e.prev=9,m=Object(o.b)(f),h=p.getFolderBySymbol(n.WellKnownFolderSymbol.REPLY_LATER),v=[{id:"stickers",params:{type:i.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:c}}],Daria.areFoldersTabsEnabled()&&v.push({id:"tabs",params:{mailboxUid:c}}),ns.Model.get("labels").getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_STARTED)||v.push({id:"labels",params:{mailboxUid:c}}),h){e.next=21;break}return e.next=18,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:f,date:g,ensureFolder:!0,mailboxUid:c}}].concat(v));case 18:ns.router.buildFoldersUrls(),e.next=23;break;case 21:return e.next=23,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:f,date:g,mailboxUid:c}}].concat(v));case 23:Object(o.i)(m),Object(o.f)(t,r),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(9),b="",e.t0&&e.t0.invalid&&(_=e.t0.invalid.find(function(e){return"do-reply-later-create"===e.id}))&&_.error.message&&(b=_.error.message),Object(o.e)(b);case 32:case"end":return e.stop()}},e,null,[[9,27]])}));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(141),i=(r.n(n),r(744)),o=r(28);function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var s=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,r){var a,s,l,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(o.a)(),s=Object(i.c)(t),l=s.getLastMidForReplyLater(),u=Math.floor(Daria.convertPassportDateToTimestamp(r.date)/1e3),e.prev=4,c=Object(i.b)(l),d=[{id:"do-reply-later-update",params:{mid:l,date:u,mailboxUid:a}},{id:"stickers",params:{type:n.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:a}}],Daria.areFoldersTabsEnabled()&&d.push({id:"tabs",params:{mailboxUid:a}}),e.next=10,ns.forcedRequest(d);case 10:Object(i.i)(c),Object(i.f)(t,r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),Object(i.e)();case 17:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(141),i=(r.n(n),r(744)),o=r(329);function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var s=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,r){var a,s,l,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.c)(t),s=a.getLastMidForReplyLater(),l=Math.floor(Daria.convertPassportDateToTimestamp(r.date)/1e3),u=Object(o.getMailboxUid)(),e.prev=4,c=Object(i.b)(s),d=[{id:"do-reply-later-reset",params:{mid:s,date:l,mailboxUid:u}},{id:"stickers",params:{type:n.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:u}}],Daria.areFoldersTabsEnabled()&&d.push({id:"tabs",params:{mailboxUid:u}}),e.next=10,ns.forcedRequest(d);case 10:Object(i.j)(t),Object(i.i)(c),Object(i.f)(t,r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),Object(i.e)();case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(136),i=(r.n(n),r(141)),o=(r.n(i),r(744)),a=r(329);function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var l=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t){var r,s,l,u,c,d,f,g,p,m,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.c)(t),s=Object(a.getMailboxUid)(),l=r.getLastMidForReplyLater(),u=Object(o.d)(l),c=u.fid,d=u.tab,f=Object(o.b)(l),g={current_folder:ns.Model.get("folders",{mailboxUid:s}).getFidBySymbol(n.WellKnownFolderSymbol.INBOX)},p=[{id:"do-reply-later-remove",params:{mid:l,mailboxUid:s}},{id:"stickers",params:{type:i.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:s}}],Daria.areFoldersTabsEnabled()&&p.push({id:"tabs",params:{mailboxUid:s}}),m=r.isReplyLaterFinished(),e.prev=9,e.next=12,ns.forcedRequest(p);case 12:m?Object(o.j)(t):Object(o.a)(t),c!==f.current_folder&&Daria.MOPS.doActionInModelsByIds(t.getIds(),"doMove",{current_folder:c}),h=0===ns.Model.get("folder",{fid:f.current_folder,mailboxUid:s}).get(".count"),("message"===Daria.router.getCurrentPage()||h)&&(v=Daria.router.buildUrl("messages",h?g:f),Daria.router.navigate(v)),Object(o.h)(c,d),t.resetChecked(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),Object(o.g)();case 23:case"end":return e.stop()}},e,null,[[9,20]])}));return function(t){return e.apply(this,arguments)}}()},function(e,t){Daria.MOPS.Opinfo=function(){this._adjust={},this._tabsAdjust={},this._labelsUnreadAdjust={},this._mid=[],this._tid=[],this._modelsCount=0,this._savedMids=[],this._savedNewCounters={}},Daria.MOPS.Opinfo.prototype.addAdjust=function(e,t){this.hasAdjust()&&(this._adjust[e]=t)},Daria.MOPS.Opinfo.prototype.addTabsAdjust=function(e,t){this.hasTabsAdjust()&&(this._tabsAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addLabelsUnreadAdjust=function(e,t){this.hasLabelsUnreadAdjust()&&(this._labelsUnreadAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addMid=function(e){this._mid.push(e)},Daria.MOPS.Opinfo.prototype.saveMid=function(e){this._savedMids.push(e)},Daria.MOPS.Opinfo.prototype.getSavedMids=function(){return this._savedMids},Daria.MOPS.Opinfo.prototype.addTid=function(e){this._tid.push(e)},Daria.MOPS.Opinfo.prototype.checkFidAdjust=function(e,t){return!!this.hasAdjust()&&(this._adjust[t]===e||(this.resetAdjust(),!1))},Daria.MOPS.Opinfo.prototype.saveUnreadCounter=function(e,t){this._savedNewCounters[e]=t},Daria.MOPS.Opinfo.prototype.saveAffectedMids=function(){this._savedMids.concat(this._mid)},Daria.MOPS.Opinfo.prototype.getSavedUnreadCounter=function(e){return this._savedNewCounters[e]},Daria.MOPS.Opinfo.prototype.getSavedTids=function(){return Object.keys(this._savedNewCounters)},Daria.MOPS.Opinfo.prototype.checkTidAdjust=function(e,t){var r=Daria.areFoldersTabsEnabled()&&this.hasTabsAdjust(),n=this.hasAdjust();if(!n&&!r)return this._tid.push(t),!1;var i=0;if(n)for(var o in this._adjust)i+=this._adjust[o];if(r){var a=this.getTabsAdjust();i=Object.keys(a).reduce(function(e,t){return e+a[t]},i)}return i===e||(this.resetAdjust(),this.resetTabsAdjust(),this._tid.push(t),this._mid=[],!1)},Daria.MOPS.Opinfo.prototype.getAdjust=function(){return this._adjust},Daria.MOPS.Opinfo.prototype.getTabsAdjust=function(){return this._tabsAdjust},Daria.MOPS.Opinfo.prototype.getLabelsUnreadAdjust=function(){return this._labelsUnreadAdjust},Daria.MOPS.Opinfo.prototype.getIds=function(){return{ids:this._mid,tids:this._tid}},Daria.MOPS.Opinfo.prototype.getModelsCount=function(){return this._modelsCount},Daria.MOPS.Opinfo.prototype.hasAdjust=function(){return Boolean(this._adjust)},Daria.MOPS.Opinfo.prototype.hasTabsAdjust=function(){return Boolean(this._tabsAdjust)},Daria.MOPS.Opinfo.prototype.hasLabelsUnreadAdjust=function(){return Boolean(this._labelsUnreadAdjust)},Daria.MOPS.Opinfo.prototype.merge=function(e){if(this.hasAdjust())if(e.hasAdjust()){var t=e.getAdjust(),r=this.getAdjust();for(var n in t)n in r?r[n]+=t[n]:r[n]=t[n]}else this.resetAdjust();if(this.hasTabsAdjust())if(e.hasTabsAdjust()){var i=e.getTabsAdjust(),o=this.getTabsAdjust();for(var a in i)a in o?o[a]+=i[a]:o[a]=i[a]}else this.resetTabsAdjust();if(this.hasLabelsUnreadAdjust())if(e.hasLabelsUnreadAdjust())for(var s=e.getLabelsUnreadAdjust(),l=this.getLabelsUnreadAdjust(),u=0,c=Object.keys(s);u<c.length;u++){var d=c[u];d in l?l[d]+=s[d]:l[d]=s[d]}else this.resetLabelsUnreadAdjust();this._mid=this._mid.concat(e._mid),this._tid=this._tid.concat(e._tid),this._savedMids=this._savedMids.concat(e._savedMids),this._savedNewCounters=_.assign(this._savedNewCounters,e._savedNewCounters)},Daria.MOPS.Opinfo.prototype.resetAdjust=function(){this._adjust=null},Daria.MOPS.Opinfo.prototype.resetTabsAdjust=function(){this._tabsAdjust=null},Daria.MOPS.Opinfo.prototype.resetLabelsUnreadAdjust=function(){this._labelsUnreadAdjust=null},Daria.MOPS.Opinfo.prototype.setModelsCount=function(e){this._modelsCount=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);r.n(n);Daria.MOPS.onMove=function(e,t){var r=t.current_folder,i=ns.Model.get("folders"),o=ns.Model.get("filters").getForFolder(r).length;1!==t.count||i.isFolder(r,n.WellKnownFolderSymbol.TRASH)||0!==o||_.contains(["archive","infolder"],t.originalAction)||Daria.actions.run("message.filter-move.show",{mid:t.ids.ids[0]||t.ids.tids[0],fid:r})},ns.events.on("daria:MOPS:move",Daria.MOPS.onMove)},function(e,t){Daria.hkMOPS={},Daria.hkMOPS.doAction=function(e,t,r){return Daria.MOPS.updateHelper(e,t,r)},Daria.hkMOPS.doUserDefinedAction=function(e,t){var r=ns.Model.get("messages-checked");if(r.getCount()>0)Daria.hkMOPS.doAction(e,r,t);else{var n,i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage())n=i.getFocus().params.ids;else"message"===Daria.router.getCurrentPage()&&(n=Daria.router.getCurrentParams().ids);n&&Daria.MOPS.doActionWithMessages([n],e,t)}},Daria.hkMOPS.toggleImportance=function(){var e=ns.Model.get("messages-checked"),t=ns.Model.get("labels").getImportantLID();e.getCount()>0?Daria.MOPS.updateHelper("toggleLabel",e,{lid:t}):Daria.router.navigate(Daria.router.buildUrl("messages",{current_label:t}))},Daria.hkMOPS.toggleImportanceInMessageOpenedInList=function(){var e=ns.Model.get("messages-checked");if("messages"===Daria.router.getCurrentPage()){var t=Daria.router.getCurrentParams().ids||Daria.router.getCurrentParams().thread_id,r=ns.Model.get("labels").getImportantLID();t&&r&&Daria.MOPS.updateHelper("toggleLabel",e,{lid:r,"message-id":t})}},Daria.hkMOPS.mark=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)Daria.hkMOPS.doAction("mark",e);else{var t=ns.Model.get("focus");if(t.isCurrentFocusOnMessage()){var r=t.getFocus();Daria.MOPS.doActionWithMessages([r.params.ids],"mark")}}},Daria.hkMOPS.unmark=function(){var e=ns.Model.get("messages-checked");e.getCount()>0?Daria.hkMOPS.doAction("unmark",e):"only_new"===Daria.router.getCurrentParams().extra_cond?ns.events.trigger("daria:vMessages:recalculate"):Daria.router.navigate("#unread")},Daria.hkMOPS.remove=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)Daria.hkMOPS.doAction("remove",e);else{var t=ns.Model.get("focus");t.isCurrentFocusOnMessage()&&Daria.MOPS.doActionWithMessages([t.getFocus().params.ids],"remove")}},Daria.hkMOPS.triggerToolbarEvent=function(e,t){var r=0,n=ns.Model.get("messages-checked");if(0===n.getCount()&&t){r=200;var i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage()){var o=i.getFocus().getModel("message");n.check(o,!0)}}setTimeout(function(){ns.events.trigger(e)},r)}},function(e,t){Daria.Printer={PRINT_URL:Daria.api.print},Daria.Printer.printMessage=function(e){var t=Daria.uid,r="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?mid=").concat(e,"&_uid=").concat(t);window.open(r,"_blank")},Daria.Printer.printThread=function(e){var t=Daria.uid,r="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?tid=").concat(e,"&_uid=").concat(t);window.open(r,"_blank")},Daria.Printer.printImage=function(e){var t=Daria.uid,r="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?mid=").concat(e.mid,"&hid=").concat(e.hid,"&_uid=").concat(t);e.mailboxUid&&(r+="&mailboxUid=".concat(e.mailboxUid)),window.open(r,"_blank")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(990),i=r.n(n),o=r(136),a=(r.n(o),r(329));!function(){function e(e){var t=Object(a.getMailboxUid)(),r=ns.Model.get("folders",{mailboxUid:t}),n=Daria.router.getCurrentParams().current_folder||e&&e.getFolderId();return r.isFolder(n,[o.WellKnownFolderSymbol.TRASH])}function t(){return Daria.router.getCurrentParams().unread||Boolean(Daria.router.getCurrentParams().current_label)||Boolean(Daria.router.getCurrentParams().attachments)||Boolean(Daria.router.getCurrentParams().search)}function r(e){return"yes"===e.params.search}Daria.messages={},Daria.messages.toCreateThread=function(e){return!e.isThread()&&(!e.isDraftLike()&&!Daria.Widgets.getWidgetName(e))},Daria.messages.clearCacheByFID=function(e){ns.Model.invalidate("messages",function(t){return t.params.current_folder===e})},Daria.messages.clearCacheBodyByThread=function(e){var t=Object(a.getMailboxUid)();$.makeArray(e).forEach(function(e){var r=ns.Model.get("messages",{thread_id:e,mailboxUid:t});r&&r.models.length&&r.models.forEach(function(e){ns.Model.get("message-body",{ids:e.get(".mid"),mailboxUid:t}).invalidate()})})},Daria.messages.clearCacheByLID=function(e){ns.Model.invalidate("messages",function(t){return t.params.current_label===e})},Daria.messages.clearSearchCache=function(){ns.Model.invalidate("messages",r)},Daria.messages.preload=function(e,t){},Daria.messages.everHadMessages=function(){var e=ns.Model.get("settings");if(e.getSetting("has_inbox_message"))return!0;var t=ns.Model.get("messages",Daria.router.getCurrentParams());return!!t.isValid()&&(t.select('/.message[.type != "12" && .dlid != "yadisk"]').length?(e.setSettingOn("has_inbox_message"),!0):(Jane.c("Не показываем рекламу так как в инбоксе нет писем кроме приветственных"),!1))},Daria.messages.whereToGoAfterMove=function(e,t,r){r=r||{};var n,i,s,l=Object(a.getMailboxUid)(),u=t?t.getIds():{ids:[],tids:[]},c=u.ids.length?u.ids[0]:u.tids[0],d=c&&ns.Model.get("message",{ids:c,mailboxUid:l}),f=ns.Model.get("folders",{mailboxUid:l}),g=Daria.messages.getDestFolderForCurrentMessage(d,e,r),p=Daria.messages.getPageAfterSettingForAction(e,r),m=p.pageAfterSetting,h=p.settingsAction,v=[],b={},y="";switch(m){case"current_list":var S=Daria.messages.calculateUrlForCurrentListSetting(d,r,h);y=S.where,v=S.requestModels,b=S.requestParams;break;case"next_message":var w=Daria.messages.calculateUrlForNextMessageSetting(d);y=w.where,n=w.whereFolderId,i=w.whereTabId,s=w.expandMessage;break;case"inbox":n=f.getFidBySymbol(o.WellKnownFolderSymbol.INBOX),i="relevant";break;case"deleted_list":n="tospam"===e||"notspam"===e?f.getFidBySymbol(o.WellKnownFolderSymbol.SPAM):f.getFidBySymbol(o.WellKnownFolderSymbol.TRASH);break;case"source_folder":n=d.getFolderId(),i=d.getTabId(),n||(n=f.getFidBySymbol(o.WellKnownFolderSymbol.INBOX));break;case"dest_folder":n=g.folderId,i=g.tabId}if(!y&&n){var O={current_folder:n};Daria.areFoldersTabsEnabled()&&i&&(O.tabId=i),v.push("messages"),_.extend(b,O),y=Daria.router.buildUrl("messages",O)}var x={where:y,requestParams:b,requestModels:v};return s&&(x.expandMessage=s),x},Daria.messages.getDestFolderForCurrentMessage=function(e,t,r){var n,i,a;switch(t){case"move":case"infolder":n=r.fid||r.folder,i=r.tabId;break;case"archive":a=o.WellKnownFolderSymbol.ARCHIVE;break;case"delete":case"remove":a=o.WellKnownFolderSymbol.TRASH;break;case"tospam":a=o.WellKnownFolderSymbol.SPAM;break;case"notspam":a=o.WellKnownFolderSymbol.INBOX}var s=e?e.params.mailboxUid:null,l=ns.Model.get("folders",{mailboxUid:s});return!n&&a&&(n=l.getFidBySymbol(a)),Daria.is2pane()&&Daria.isMessagePage()&&_.contains(["unmark"],t)&&(n=e&&e.getFolderId()||l.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{folderId:n,tabId:i}},Daria.messages.getPageAfterSettingForAction=function(e,t){var r=Object(a.getMailboxUid)(),n=ns.Model.get("settings"),i=ns.Model.get("folders",{mailboxUid:r}),s="move";if(_.includes(["remove","delete"],e)&&(s="delete"),Daria.is2pane()&&Daria.isMessagePage()){var l="move"===e&&t.fid&&i.getFolderById(t.fid).symbol===o.WellKnownFolderSymbol.ARCHIVE,u=_.contains(["move"],e)&&t.fid&&i.getFolderById(t.fid).symbol===o.WellKnownFolderSymbol.TRASH;(l||u)&&(s="delete")}var c=n.getSetting("page_after_".concat(s));("move"===s&&(c=""),"delete"===s&&(c="next_message"===c?"next_message":"current_list"),"compose"===Daria.router.getCurrentPage()&&"next_message"===c&&(c="source_folder"),Daria.is2pane()&&Daria.isMessagePage())&&(_.contains(["unmark"],e)&&(c="dest_folder"));return Daria.is3pane()&&(c="current_list"),{pageAfterSetting:c,settingsAction:s}},Daria.messages.calculateUrlForCurrentListSetting=function(e,t,r){return Daria.is3pane()?Daria.messages._calculateUrlForListSetting3Pane(e,t,r):Daria.messages._isOpenInMessageList()&&!Daria.isMessagePage()?Daria.messages._calculateUrlForInMessageListSetting2pane(e):Daria.messages._calculateUrlForListSetting2Pane(e,t,r)},Daria.messages._calculateUrlForListSetting3Pane=function(e,t,r){var n=Object(a.getMailboxUid)(),i=ns.Model.get("folders",{mailboxUid:n}),s=Object.assign({},Daria.router.getCurrentParams());return t.ids&&(_.contains(t.ids.tids,s.thread_id)&&delete s.thread_id,_.contains(t.ids.ids,s.ids)&&delete s.ids),"delete"===r&&delete s.ids,s.search||s.unread||s.current_folder||s.current_label||s.attachments||(s.current_folder=i.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{where:Daria.router.buildUrl("messages",s),requestModels:[],requestParams:{}}},Daria.messages._calculateUrlForListSetting2Pane=function(e,t,r){var n=Object(a.getMailboxUid)(),i="",s=[],l={},u=ns.Model.get("folders",{mailboxUid:n});if("move"===r)i=Daria.router.getCurrentUrl(),s.push("message"),l.ids=e.getMessageThreadMid(),l.mailboxUid=n;else{var c=ns.page.history.getPrevious(),d=c&&Daria.router.getUrlInfo(c);if(d&&"messages"===d.page){i=c;var f=ns.Model.info("messages").pNames,g=_.pick(d.params,function(e,t){return f.indexOf(t)>-1});_.extend(l,g),s.push("messages")}else{var p=e.getFolderId();p||(p=u.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),i=Daria.router.buildUrl("messages",{current_folder:p})}}return{where:i,requestModels:s,requestParams:l}},Daria.messages._calculateUrlForInMessageListSetting2pane=function(e){var t=Object(a.getMailboxUid)(),r=ns.Model.get("folders",{mailboxUid:t}),n="";if(Daria.messages._shouldStayInCurrentThread(e))n=Daria.router.getCurrentUrl();else{var i=Object.assign({},Daria.router.getCurrentParams());if(e.getMessageThreadMid()===i.ids&&delete i.ids,e.getThreadId()===i.thread_id&&delete i.thread_id,!(i.search||i.unread||i.current_folder||i.current_label)){var s=e.getFolderId();s||(s=r.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),i.current_folder=s}n=Daria.router.buildUrl("messages",i)}return{where:n,requestModels:[],requestParams:{}}},Daria.messages._shouldStayInCurrentThread=function(e){var t=Object(a.getMailboxUid)(),r=ns.Model.get("settings").isThreaded(),n=e.isThread();return!(!Daria.messages._isOpenInMessageList()||!r||n)&&ns.Model.get("messages",{thread_id:e.getThreadId(),mailboxUid:t}).models.length>1},Daria.messages.calculateUrlForNextMessageSetting=function(r){var n,s,l,u=Object(a.getMailboxUid)(),c=ns.Model.get("settings"),d=r.getThreadId(),f=Daria.messages._isOpenInMessageList(),g="",p=e(r)||t(),m=c.isThreaded(),h=Daria.messages.findNearestMessage(r,i.a.NEXT);if(h){var v=h.getThreadId()===d;f&&m&&!p&&v?(n=h.getMessageThreadMid(),g=Daria.Page.generateUrl.contentMessage({tid:d,mid:d})):g=!f&&h.isThread()?Daria.Page.generateUrl.contentMessage({tid:h.getThreadId(),mid:h.getData().last_mid}):Daria.Page.generateUrl.contentMessage(h.getData())}if(!g){var b=Daria.router.getCurrentParams().current_folder||r.getFolderId();if(!b)b=ns.Model.get("folders",{mailboxUid:u}).getFidBySymbol(o.WellKnownFolderSymbol.INBOX);s=b,l=Daria.router.getCurrentParams().tabId||r.getTabId()}return{where:g,whereFolderId:s,whereTabId:l,expandMessage:n}},Daria.messages._isOpenInMessageList=function(){return ns.Model.get("settings").isSet("open-message-list")},Daria.messages.findNearestMessage=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.NEXT,o=Object(a.getMailboxUid)(),s=r.getMessageThreadMid(),l=r.getThreadId(),u=e(r)||t(),c=r.isThread(),d=ns.Model.get("settings").isThreaded(),f=null;if(d&&!u&&!c){var g=ns.Model.get("messages",{thread_id:l,mailboxUid:o}),p=g.getCountThreadMessageInFolder()>1||r.get(".fid")!==Daria.router.getCurrentParams().current_folder;if((f=g.getNearestMessageByMid(s,n))&&p)return f}var m=Object.assign({},Daria.router.getCurrentParams());m.ids===s&&delete m.ids,m.thread_id===l&&delete m.thread_id,Daria.isMessagePage()&&(m.current_folder=m.current_folder||r.getFolderId(),d&&!u&&(m.threaded="yes"),Daria.areFoldersTabsEnabled()&&!m.tabId&&(m.tabId=r.getTabId()));var h=ns.Model.get("messages",m);return f=d&&!u?h.getNearestMessageByMid(l,n):h.getNearestMessageByMid(s,n)},Daria.messages.doActionInThreads=function(e,t,r){for(var n=Object(a.getMailboxUid)(),i=0,o=t.length;i<o;i++)for(var s=t[i],l=ns.Model.get("messages",{thread_id:s,mailboxUid:n}),u=0,c=l.models.length;u<c;u++)l.models[u][e](r)},Daria.messages._pinsBadFolders=o.PinDisabledExtendedFolders,Daria.messages.checkUsePinsByParams=function(e){if("search"===e.search)return!1;if(e.current_label)return!1;if(e.extra_cond)return!1;if("rpopinfo"===e.scope)return!1;if(e.thread_id&&!e.current_folder)return!1;if(e.current_folder&&ns.Model.isDefined("folders")){var t=Object(a.getMailboxUid)();if(ns.Model.get("folders",{mailboxUid:t}).isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.canShowPinControlsByParams=function(e){if((e=e||Daria.router.getCurrentParams()).current_folder){var t=Object(a.getMailboxUid)();if(ns.Model.get("folders",{mailboxUid:t}).isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.createMessagesItemLayout=function(e){var t="layout-messages-item";return(e=e||{}).threadFull?t+="-thread-full":e.threadInner&&(t+="-thread-inner"),e.widget&&(t+="-"+e.widget),t},window.ReactClientBridge&&window.ReactClientBridge.messagesHelpersPromise&&window.ReactClientBridge.messagesHelpersPromise.resolve(Daria.messages)}()},function(e,t){Daria.messages.params4SimplePath=function(e){var t={current_folder:null,"hide-firstline":null,threaded:null,ids:null,thread_id:null};for(var r in e)if("_"!==r.charAt(0)&&!(r in t))return!1;return"current_folder"in e},Daria.messages.folder4MessagePage=function(e,t){return"message"!==e?null:ns.Model.get("message",t).get(".fid")},Daria.messages.params4SimpleLabel=function(e){var t={current_label:null,important:null};for(var r in Daria.is3pane()&&(t.ids=null,t.thread_id=null),e)if("_"!==r.charAt(0)&&!(r in t))return!1;return"current_label"in e}},function(e,t){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Daria.nsTreeWalker={},Daria.nsTreeWalker.findView=function(e,t){var r=e.info.isBox,n=null;n=r?e.active:e.views;var i=t[0];for(var o in n)if(_.isString(i)&&o===i||_.isRegExp(i)&&i.test(o)){var a;if(r){var s=n[o];a=e.views[s]}else a=n[o];var l=t.slice(1);return l.length?Daria.nsTreeWalker.findView(a,l):a}return null},Daria.nsTreeWalker.getViewsChildren=function(e){var t=[];return e.forEachValidItem(function(e){t.push(e)}),t},Daria.nsTreeWalker.getTreeForFocus=function(){var e=[];return[Daria.nsTreeWalker._buildColumnTree([["react-left-column"]].map(function(t){return[].concat(e,r(t))})),Daria.nsTreeWalker._buildColumnTree([["messages-list","messages-list-box","messages-wrap","messages"]].map(function(e){return["right-box"].concat(r(e))})),Daria.nsTreeWalker._buildColumnTree([["messages-box","message-thread","message-thread-pager"],["messages-box","message-thread","message-thread-list"],["messages-box","message-thread-react"],["messages-box","message-react"]].map(function(e){return["right-box"].concat(r(e))}))]},Daria.nsTreeWalker._buildColumnTree=function(e){var t=e.map(Daria.nsTreeWalker._findViewByPath).map(Daria.nsTreeWalker._getViewFocusableChildren);return _.flatten(t)},Daria.nsTreeWalker._findViewByPath=function(e){return Daria.nsTreeWalker.findView(ns.MAIN_VIEW,e)},Daria.nsTreeWalker._getViewFocusableChildren=function(e){return e?(ns.assert(e.getFocusableChildren,"View: "+e.id,"Не реализован метод #getFocusableChildren()"),e.getFocusableChildren()):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(401),i=r(374),o=r(497);!function(){var e=/^[a-z]{2}$/,t={};Daria.Translate={MAX_BLOCK_LEN:1e3,getCache:function(e){return t[e]},setCache:function(e,r){t[e]=r},clearCache:function(e){delete t[e]},langs:{ru:{s:["en","uk","tr","pl","de","fr","es","it"],name:i18n("%русский")},uk:{s:["ru"],name:i18n("%украинский")},en:{s:"RUS"===Daria.Config.product?["ru","tr"]:["tr","ru"],name:i18n("%английский")},tr:{s:"RUS"===Daria.Config.product?["ru","en"]:["en","ru"],name:i18n("%турецкий")},pl:{s:["ru"],name:i18n("%польский")},de:{s:["ru"],name:i18n("%немецкий")},fr:{s:["ru"],name:i18n("%французский")},es:{s:["ru"],name:i18n("%испанский")},it:{s:["ru"],name:i18n("%итальянский")},all:{s:["ru","uk","en","tr","pl","de","fr","es","it"],name:""}},id2lang:{1:"ru",2:"en",3:"pl",5:"uk",6:"de",7:"fr",12:"es",13:"it",39:"fi",40:"et",44:"tr"},getDefaultLangTo:function(e){return Daria.Config.locale&&e!==Daria.Config.locale?Daria.Config.locale:_.get(this.langs,e+".s.0",Daria.Config.locale)},getLangByMid:function(t){var r=ns.Model.get("message-body",{ids:t}),n=_.get(r.getData(),"body.0.lang");if(n)return this.id2lang[n]?this.id2lang[n]:e.test(n)?n:void 0},defineLanguage:function(e){var t={uk:/[ґїі]/gi,ru:/[а-яё]/gi,pl:/[ąęł]/gi,tr:/[çğş]/gi,de:/[äüß]/gi,es:/[ňñ]/gi,fr:/[âàéêîôùûÿ]/gi};if(/^(\d|\s)*$/.test(e))return Daria.Config.locale;for(var r in t)if(t[r].test(e))return r;return"en"},translateElement:function(e,t,r){var a=r.cloneNode(!0);return new vow.Promise(function(r,s){Daria.Libs("PageTranslator",function(){var l=Object.assign(Daria.Config["page-translator"],{element:a}),u=new window.yt.PageTranslator(l);u.translate(e,t),u.on("error",function(){u.halt(),s(),n.a.hasActiveScenario(i.c)&&n.a.getActiveScenario(i.c).logError(o.f)}),u.on("complete",function(){u.halt(),r(a)})})})},translateText:function(e,t,r){var n=document.createElement("div");return n.innerText=r,this.translateElement(e,t,n).then(function(e){return e.innerText})},translateHtml:function(e,t,r){var n=document.createElement("div");return n.innerHTML=r,this.translateElement(e,t,n).then(function(e){return e.innerHTML})},translate:function(e,t,r){return r=Array.isArray(r)?r:[r],vow.all(r.map(function(r){switch(r.format){case"text":return this.translateText(e,t,r.value);case"element":return this.translateElement(e,t,r.value);case"html":return this.translateHtml(e,t,r.value);default:return vow.reject("no correct format for translate: ".concat(r.format))}}.bind(this)))}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3096),i=r(86);Daria.Shortcuts=function(e,t){var o={eventsBound:!1,altOS:0===navigator.platform.toLowerCase().indexOf("mac"),pageType:"",hotkeysEnabled:!1,openMessageList:!1};o.shortcuts=Object(n.a)(o),r(3099),ns.events.on("toggleShortcuts",function(e,t){o.toggleHotkeys(t)}),ns.events.on("pageinit",function(){o.toggleHotkeys(ns.Model.get("settings").getSetting("enable_hotkeys")),ns.events.trigger("daria:hotkeys:inited")}),ns.events.on("ns-page-after-load",function(){var r=e.is3pane()&&e.isMessageOpenedInList(),n=e.is2pane()&&e.isMessageOpenedInList()&&o.openMessageList,i=e.is3pane()&&r===o.isMessageOpenedIn3Pane,a=e.is2pane()&&n===o.isMessageOpenedIn2Pane;if(o.pageType!==e.router.getCurrentPage()||!i&&!a){if(o.pageType=e.router.getCurrentPage(),o.isMessageOpenedIn3Pane=r,o.isMessageOpenedIn2Pane=n,!o.eventsBound)return!1;o.hotkeysEnabled&&(t.Shortcuts.switchList(o.pageType),(r||n)&&t.Shortcuts.enableList("message"),t.Shortcuts.refresh(o.pageType))}}),o.toggleHotkeys=function(r){e.Shortcuts.hotkeysEnabled=o.hotkeysEnabled={on:!0,off:!1,true:!0,false:!1}[r],e.Shortcuts.openMessageList=o.openMessageList=ns.Model.get("settings").getSetting("open-message-list"),o.hotkeysEnabled?(o.eventsBound||(o.bindLists(o.pageType),(o.isMessageOpenedIn3Pane||o.isMessageOpenedIn2Pane)&&t.Shortcuts.enableList("message")),t.Shortcuts.start()):t.Shortcuts.stop()},o.bindLists=function(e){for(var r=o.shortcuts.length-1;r>=0;r--)t.Shortcuts.loadList(o.shortcuts[r],o.altOS);t.Shortcuts.enableList(e),o.eventsBound=!0},o._getShortcutMask=function(e,t){for(var r=o.shortcuts.length-1;r>=0;r--)if(o.shortcuts[r].name===t){var n=o.shortcuts[r];if(n.shortcuts.hasOwnProperty(e))return o.altOS&&n.shortcuts[e].altMask?n.shortcuts[e].altMask:n.shortcuts[e].mask}return""},o.showShortcutsHelp=function(){return Object(i.getShortcutsBridge)().show()},o.getShortcutLabelFor=function(e,t,r){var n=o._getShortcutMask(e,t).replace(/Meta/g,"Cmd").replace(/\+/g," + ");return r?" ("+n+")":n},o.verticalAlignOpenMessage=function(t){var r,n=e.router.getCurrentParams().thread_id||e.router.getCurrentParams().ids,i="message"===e.router.getCurrentPage();if(!n||i)return!1;var o=e.is2pane();r=o?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");var a={alignToTop:t.alignToTop,relative:r.isRelativeOffset()};return t.alignToTop?a.viewTopOffset=o?-r.FIXED_TOOLBAR_HEIGHT:-r.getScrollOffset():a.viewBottomOffset=o?-ns.Model.get("app-state").get(".timelineHeight"):0,ns.events.trigger("hotkeys.alignOpenMessage",{scroller:r,alignOptions:a}),!0};var a={showShortcutsHelp:o.showShortcutsHelp,hotkeysEnabled:o.hotkeysEnabled,getShortcutLabelFor:o.getShortcutLabelFor,verticalAlignOpenMessage:o.verticalAlignOpenMessage,toggleHotkeys:o.toggleHotkeys,freeze:function(){return t.Shortcuts.freeze()},unfreeze:function(){return t.Shortcuts.unfreeze()}};return window.ReactClientBridge&&window.ReactClientBridge.shortcutsPromise&&window.ReactClientBridge.shortcutsPromise.resolve(a),a}(Daria,jQuery)},function(e,t,r){"use strict";var n=r(3097),i=(r.n(n),r(86)),o=r(509),a=r(3098),s=r.n(a),l=r(713);function u(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)})}}t.a=function(e){var t=Object(i.getFocusBridge)(),r=Boolean(t);function a(){return r&&Boolean(t.activeGroup)}function u(){return r}function d(){var e=ns.Model.get("focus");return e.get(".columnIndex")===e.indexColumns.MESSAGES}function f(){return t.activeGroup===t.FocusGroup.RIGHT_COLUMN}for(var g,p=[{global:!0,name:n.ShortcutsGroup.Global,shortcuts:{Check_new_mail:{mask:"F9",altMask:"Shift+o",enableInInput:!e.altOS,action:"mailbox.check"},New_mail:{mask:"w, c",disableAt:["compose2"],handler:function(){Object(l.a)()&&(Daria.startScenarioForCompose(o.e),Daria.composeGo())}},Goto_inbox:{mask:"Ctrl+i",altMask:"Meta+i",type:"hold",enableInInput:!0,handler:function(){ns.Model.get("focus").goInbox()}},Find:{mask:"/,?",type:"hold",handler:function(){Daria.React.activateSearch()}},Hotkeys_help:{mask:"Shift+?,Shift+comma,Shift+7,7",type:"hold",handler:function(){e.showShortcutsHelp()}},Column_left:{mask:"Left",type:"hold",disableAt:["compose2"],handler:function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(ns.Model.get("focus").changeColumn(!1,{scroll:!r||f()}),!u()||!f()){e.next=9;break}return e.next=7,t.dropFocus();case 7:e.next=12;break;case 9:if(!u()||!d()){e.next=12;break}return e.next=12,t.focusGroup(t.FocusGroup.LEFT_COLUMN);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Column_right:{mask:"Right",type:"hold",disableAt:["compose2"],handler:function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(!u()||t.activeGroup!==t.FocusGroup.LEFT_COLUMN){e.next=7;break}return e.next=5,t.dropFocus();case 5:e.next=10;break;case 7:if(!(u()&&d()&&Daria.is3pv())){e.next=10;break}return e.next=10,t.focusGroup(t.FocusGroup.RIGHT_COLUMN);case 10:ns.Model.get("focus").changeColumn(!0);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Goto_previous:{mask:"Up",type:"hold",handler:function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Daria.isMessagePage()&&!a()&&Daria.Focus.moveItem({toForward:!1});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),enableInInput:!0,namedInput:"js-allow-shortcuts"},Goto_next:{mask:"Down",type:"hold",handler:function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Daria.isMessagePage()&&!a()&&Daria.Focus.moveItem({toForward:!0});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),enableInInput:!0,namedInput:"js-allow-shortcuts"},Print:{mask:"Shift+p",type:"hold",handler:function(){"message"===Daria.router.getCurrentPage()?ns.events.trigger("hotkeys.print"):ns.Model.get("focus").pubEvent("print")}},Set_mark:{mask:"Space",type:"down",handler:function(){}},Collapse_folder:{type:"up",mask:"Enter",handler:function(){},enableInInput:!0,namedInput:"js-allow-shortcuts"},AlignBottom_Open_Message:{mask:"Ctrl+down",altMask:"Meta+down",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!1})}},AlignTop_Open_Message:{mask:"Ctrl+up",altMask:"Meta+up",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!0})}}}},{name:n.ShortcutsGroup.Messages,shortcuts:{Labels_dialog:{mask:"Shift+l",handler:function(){}},Folders_dialog:{mask:"Shift+m",handler:function(){}},Label_important:{mask:"i",handler:function(){}},Label_read:{mask:"q",handler:function(){}},Label_unread:{mask:"Shift+u",handler:function(){}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){}},Select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){}},Select_modifier:{mask:"Shift",handler:function(){}},Select_previous:{mask:"Shift+Up",type:"hold",handler:function(){}},Select_next:{mask:"Shift+Down",type:"hold",handler:function(){}},Goto_first:{mask:"Home",handler:function(){}},Select_till_first:{mask:"Shift+Home",handler:function(){}},Goto_end:{mask:"End",handler:function(){}},Select_till_last:{mask:"Shift+End",handler:function(){}},Forward:{mask:"Shift+f",handler:function(){}},Delete_selected:{mask:"Delete",altMask:"Meta+Backspace",type:"hold",handler:function(){}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(){}},Reply_open_message:s.a.reply,Label_unread_open_message:s.a.unread,Label_spam_open_message:s.a.toSpam,Toolbar:{mask:"Shift+t",handler:function(){}}}},{name:n.ShortcutsGroup.Message,shortcuts:{Goto_next:{mask:"n,k",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!0,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"next"})}},Goto_previous:{mask:"p,j",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!1,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"prev"})}},Delete:{mask:"Delete",altMask:"Meta+Backspace",handler:function(){}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(e){var t="true"===e.target.getAttribute("contenteditable"),r="TEXTAREA"===e.target.nodeName,n=e.target===document.activeElement;(t||r)&&n&&document.activeElement.blur()}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){}},Reply:s.a.reply,Forward:{mask:"Shift+f",handler:function(){}},Labels_dialog:{mask:"Shift+l",handler:function(){}},Folders_dialog:{mask:"Shift+m",handler:function(){}},Label_unread:s.a.unread,Label_spam:s.a.toSpam,Label_important:{mask:"Shift+i",handler:function(){Daria.isMessageOpenedInList()?Daria.hkMOPS.toggleImportanceInMessageOpenedInList():Daria.hkMOPS.toggleImportance()}},Attachments_save:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",handler:function(){ns.events.trigger("daria:vAttachmentsWidgetBody:downloadAttachments")}},Toolbar:{mask:"Shift+t",handler:function(){ns.events.trigger("daria:Toolbar:focus")}}}},{name:n.ShortcutsGroup.Compose,shortcuts:{Save_draft:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:save")}},Send:{mask:"Ctrl+Enter",altMask:"Meta+Enter",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:send")}}}},{name:"compose-react",shortcuts:{}},{name:"datetimepicker",shortcuts:{}},{name:n.ShortcutsGroup.Empty,shortcuts:{}},{name:"disk-resources",shortcuts:{DiskResources_Attach:{mask:"Enter",handler:function(){ns.events.trigger("daria:diskResources:attach")}}}},{name:"context-menu",shortcuts:{Context_menu_cancel:{mask:"Esc",enableInInput:!0,handler:function(){}}}},{name:"dialog",shortcuts:{Dialog_cancel:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Dialog&&Daria.Dialog.cancel()}}}},{name:"finder",shortcuts:{Finder_close:{mask:"Esc",handler:function(){ns.events.trigger("daria:vBrowseDisk:close")}}}},{name:"video-player",shortcuts:{Videoplayer_cancel:{mask:"Esc",handler:function(){}}}},{name:"image-viewer",shortcuts:{Image_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Layer.close()}},Image_viewer_next:{mask:"Right",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(1):e.next()}},Image_viewer_prev:{mask:"Left",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(-1):e.prev()}}}},{name:"attach-viewer",shortcuts:{Attach_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){}},Attach_viewer_next:{mask:"Right",handler:function(){}},Attach_viewer_prev:{mask:"Left",handler:function(){}}}},{name:"subscriptions-popup",shortcuts:{Subscription_popup_close:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:unsubscribe-popup:hide")}}}},{name:"themes-selector",shortcuts:{Themes_selector_close:{mask:"Esc",enableInInput:!0,handler:function(e){"INPUT"===e.target.nodeName.toUpperCase()||ns.events.trigger("Daria:vThemesSelector:close")}}}},{name:"abook",shortcuts:{Abook_select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){ns.events.trigger("daria:vAbookHead.selectAll")}},Abook_deselect_all:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:vAbookHead.deselectAll")}}}},{name:"toolbar",shortcuts:{Previous_toolbar_button:{mask:"Left",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusPrev")}},Next_toolbar_button:{mask:"Right",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusNext")}},First_toolbar_button:{mask:"Home",handler:function(){ns.events.trigger("daria:Toolbar:focusFirst")}},Last_toolbar_button:{mask:"End",handler:function(){ns.events.trigger("daria:Toolbar:focusLast")}},Back_to_list:{mask:"Down",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusOut")}}}}],m={Archive:{mask:"a",handler:function(){Daria.userToolbar.isButtonActivated(Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE)&&Daria.hkMOPS.doUserDefinedAction("archive")}},Infolder:{mask:"Alt+m",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.INFOLDER;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("infolder",t)}}},Defined_label:{mask:"Alt+l",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.LABEL;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("toggleLabel",t)}}}},h=p.length-1;h>=0;h--)"messages"!==(g=p[h]).name&&"message"!==g.name||$.extend(g.shortcuts,m);return p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutsNames=t.ShortcutsGroup=void 0,function(e){e.Global="global",e.Messages="messages",e.Message="message",e.Compose="compose2",e.Personal="personal",e.Empty="empty"}(t.ShortcutsGroup||(t.ShortcutsGroup={})),function(e){e.Archive="Archive",e.AttachmentsSave="Attachments_save",e.CheckNewMail="Check_new_mail",e.CloseCurrentThread="CloseCurrentThread",e.CollapseThreadMessage="CollapseThreadMessage",e.CreateTemplate="CreateTemplate",e.ColumnLeft="ColumnLeft",e.CustomFolder="CustomFolder",e.CustomLabel="CustomLabel",e.Delete="Delete",e.DeleteSelected="Delete_selected",e.Find="Find",e.FirstMessage="FirstMessage",e.FoldersDialog="Folders_dialog",e.Forward="Forward",e.GotoInbox="Goto_inbox",e.ImageViewer="ImageViewer",e.LabelImportant="Label_important",e.LabelRead="Label_read",e.LabelSpam="Label_spam",e.LabelUnread="Label_unread",e.LabelsDialog="Labels_dialog",e.LastMessage="LastMessage",e.MessagesList="MessagesList",e.NavigateToEntity="NavigateToEntity",e.NextMessage="NextMessage",e.OpenMessage="OpenMessage",e.OpenThreadMessage="OpenThreadMessage",e.PrevNextEntity="PrevNextEntity",e.PrevNextMessage="PrevNextMessage",e.Print="Print",e.PrevMessage="PrevMessage",e.Reply="Reply",e.ReplyAll="Reply_all",e.ReplyLater="ReplyLater",e.ReplyTemplate="ReplyTemplate",e.ResetSelection="Reset_selection",e.SaveDraft="Save_draft",e.SelectAll="Select_all",e.SelectNextMessage="SelectNextMessage",e.SelectPrevMessage="SelectPrevMessage",e.SelectToFirstMessage="SelectToFirstMessage",e.SelectToLastMessage="SelectToLastMessage",e.Send="Send",e.SendOn="SendOn",e.ScrollMessage="ScrollMessage",e.Thread="Thread",e.ToggleEntity="ToggleEntity",e.ToggleImportant="ToggleImportant",e.TogglePin="Toggle_pin",e.ToggleSelectedMessage="ToggleSelectedMessage",e.Toolbar="Toolbar",e.ToolbarOff="ToolbarOff",e.WriteNewMail="New_mail",e.Unsubscribe="Unsubscribe"}(t.ShortcutsNames||(t.ShortcutsNames={}))},function(e,t,r){"use strict";e.exports={toSpam:{mask:"Shift+s",handler:function(){}},unread:{mask:"Shift+u",handler:function(){}},reply:{mask:"Shift+e",handler:function(){}}}},function(e,t){Daria.Focus={},Daria.Focus.VALUE_LAZY_SCROLL=100,Daria.Focus.getScroller=function(e){var t;switch(e="number"==typeof e?e:ns.Model.get("focus").getIndexCurrentColumn()){case 0:t=ns.Model.get("scroller-left");break;case 1:t="message"!==Daria.router.getCurrentPage()||Daria.is3pane()?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");break;case 2:t=ns.Model.get("scroller-message")}return t},Daria.Focus.scrollIntoView=function(e,t){var r=Daria.Focus.getScroller(t);r.clean();var n=r.getScrollOffset()+2,i=r.getScrollTop(),o=r.getNodeTop(e[0]),a=0,s=document.getElementById("js-mail-layout-content-header");s&&s.offsetHeight&&(a=s.offsetHeight);var l=i-(o-n)+a;if(l>0)return Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeTop behind scrollnodeTop"),void r.setScrollTop(i-l);var u=e.height(),c=r.getHeight();if(!(u>c)){var d=o+u+n-(i+c);if(d>0)Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeBottom behind scrollBottom"),i+d>=o?(Daria.DEBUG&&console.log("[Focus.scrollIntoView]","collision, nodeTop behind scrollTop, scroll to nodeTop"),r.setScrollTop(o-n)):r.setScrollTop(i+d)}},Daria.Focus.needLazyScroll=function(e,t){switch(e.id){case"message-thread-item-wrap":if(!e.getModel("state-message-thread-item").isOpen())return!1;break;case"message-thread":if(e.getModel("messages").getCount()>1)return!1;break;case"message":case"message-react":case"message-thread-react":break;default:return!1}var r=Daria.Focus.getScroller(),n=r.getNodeTop(e.node),i=n+e.$node.height(),o=r.getScrollTop(),a=o+r.getHeight();return t?i>a:n<o},Daria.Focus.lazyScroll=function(e){var t=Daria.Focus.getScroller(),r=t.getScrollTop();e?r+=Daria.Focus.VALUE_LAZY_SCROLL:r-=Daria.Focus.VALUE_LAZY_SCROLL,t.setScrollTop(r)},Daria.Focus.moveItem=function(e){var t=e.toForward,r=e.focusMessages,n=ns.Model.get("focus"),i=n.getIndexCurrentColumn();r?(n.setColumn(1),n.changeItem(t)):"message"===Daria.router.getCurrentPage()&&i!==n.indexColumns.LEFT?Daria.Focus.lazyScroll(t):n.changeItem(t)},Daria.Focus.clearFocus=function(){ns.Model.get("focus").clearFocus()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(1440)),o=r(28);Daria.Widgets={},Daria.Widgets.getWidgetName=function(e){return Daria.Widgets._commonChecks(e)?Daria.Widgets.shouldShowTicketWidget(e)?"ticket":Daria.Widgets.shouldShowTaksaWidgets(e)?"widget":Daria.Widgets.shouldShowEvents(e)?"events":"":""},Daria.Widgets._commonChecks=function(e){var t=Object(o.a)();return!ns.Model.get("folders",{mailboxUid:t}).spamOrTrash(e.getFolderId())},Daria.Widgets.shouldShowTicketWidget=function(e){if(!Daria.Widgets._shouldShowTaksaWidgets(e))return!1;var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets.isTicketWidget(t)},Daria.Widgets.isTicketWidget=function(e){return["avia","hotels","pkpass"].some(function(t){return t===e})},Daria.Widgets._shouldShowTaksaWidgets=function(e){var t=e.getMessagesListWidget();if(!t)return!1;var r=!Daria.is3pane(),n=Boolean(ns.Model.get("settings").getSign("show_widgets_decor")),i=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons"));if(!(r=r&&(n||i)))return!1;switch(_.get(t,"info.type")){case"onelink":return r&&!Daria.CompactMode.isCompactMessagesList();case"tracker":return r;default:return r&&!Daria.CompactMode.isCompactMessagesList()&&"ru"===Daria.Config.locale}},Daria.Widgets.shouldShowTaksaWidgets=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"!==t},Daria.Widgets.shouldShowTaksaCalendarWidget=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"===t},Daria.Widgets.shouldShowEvents=function(e){return!Daria.is3pane()&&!Daria.CompactMode.isCompactMessagesList()&&!ns.Model.get("settings").isSet("disable_events")&&e.isCalendarService()},Daria.Widgets.shouldShowAttachments=function(e,t){if(t=t||{},Daria.is2pane()&&e.hasAttachment()){var r="only_atta"===t.extra_cond||t.search&&"yes"===t.attaches,o=ns.Model.get("settings");if(Daria.CompactMode.isCompactMessagesList()&&!r)return!1;if(!o.isSet("disable_inboxattachs")||r){var a;if(a=Daria.isAttachmentsLineDesign()?n.AttachmentWidgetsExcludeFoldersLite:r||e.isIntoThread()?n.AttachmentWidgetsExcludeFoldersMedium:n.AttachmentWidgetsExcludeFoldersMax,e.inFolderBySymbol(a))return!1;if(r)return!0;if("yacal"===e.getSocialLabel())return!1;if(Daria.IS_CORP)return!0;var s=e.getSOLabels();return 0===_.intersection(s,i.a).length}}return!1},Daria.Widgets.shouldShowSubscriptions=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons"));return!Daria.IS_CORP&&t&&!Daria.CompactMode.isCompactMessagesList()&&e.isSubscriptionMessage()}},function(e,t){Daria.queueCommon={},Daria.queueCommon.CONNECTIONS_MAX=2,Daria.queueCommon.MODELS_MAX=5,Daria.queueCommon.TIMEOUT_BETWEEN_REQUESTS=0,Daria.queueCommon._queue=null,Daria.queueCommon._poolCnt=0,Daria.queueCommon.reset=function(){this._poolCnt=0,this._queue=[]},Daria.queueCommon.add=function(e){this._queue=this._queue.concat(e),this.run()},Daria.queueCommon.run=function(){if(!(this._poolCnt>=this.CONNECTIONS_MAX)){var e=this._queue.splice(0,this.MODELS_MAX);e.length&&(this.request(e).always(function(){this._poolCnt--,setTimeout(this.run.bind(this),this.TIMEOUT_BETWEEN_REQUESTS)}.bind(this)),this._poolCnt++,this.run())}},Daria.queueCommon.request=function(e){return ns.request(e)}},function(e,t){Daria.preloadQueue={},no.extend(Daria.preloadQueue,Daria.queueCommon),Daria.preloadQueue.CONNECTIONS_MAX=1,Daria.preloadQueue.MODELS_MAX=5,Daria.preloadQueue.TIMEOUT_BETWEEN_REQUESTS=500,Daria.preloadQueue.reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3104),i=(r.n(n),r(1439)),o=(r.n(i),r(3105)),a=r(3106),s=r(3107),l=r(3108),u=r(3109);i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.Mark,o.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.Delete,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.Delete,u.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.Remove,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.Remove,u.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.ToSpam,s.a),i.HooksManager.instance().registerHandler(i.Stage.before,n.Action.ToSpam,l.a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,function(e){e.Delete="delete",e.Mark="mark",e.Move="move",e.Pin="pin",e.Remove="remove",e.ToSpam="tospam",e.UnMark="unmark",e.UnPin="unpin"}(t.Action||(t.Action={}))},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(343),i=(r.n(n),r(672)),o=r(337),a=(r.n(o),r(340));r.n(a);function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u=function(){var e=l(regeneratorRuntime.mark(function e(){var t,r,n,a,s,l,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,r=new Array(t),n=0;n<t;n++)r[n]=u[n];if(Object(o.hasFeature)(o.Features.WEB_UNSUBSCRIBE_ON_MARK_READ)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:r});case 3:if(a=i.a.apply(void 0,r),(s=a.subscriptions)&&s.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:r});case 6:return e.next=8,Object(i.c)(s);case 8:if(e.sent.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:r});case 11:return e.next=13,c(s);case 13:return l=e.sent,e.abrupt("return",{cancelled:l,args:r});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=function(e){var t=Object(i.f)(e).length;return new Promise(function(r){Object(a.showStatuslineComponent)({name:n.StatuslineName.MarkReadOrUnsubscribe,count:t,onClose:function(){return r(!0)},onAction:function(){var t=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(e);case 2:r(!1);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){return r(!1)}})})}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(343),i=(r.n(n),r(672)),o=r(337),a=(r.n(o),r(340));r.n(a);function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u=function(){var e=l(regeneratorRuntime.mark(function e(){var t,r,n,a,s,l,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,r=new Array(t),n=0;n<t;n++)r[n]=u[n];if(Object(o.hasFeature)(o.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:r});case 3:if(a=i.a.apply(void 0,r),(s=a.subscriptions)&&s.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:r});case 6:return e.next=8,Object(i.c)(s);case 8:if(e.sent.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:r});case 11:return e.next=13,c(s);case 13:return l=e.sent,e.abrupt("return",{cancelled:l,args:r});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=function(e){var t=Object(i.f)(e).length;return new Promise(function(r){Object(a.showStatuslineComponent)({name:n.StatuslineName.DeleteOrUnsubscribe,count:t,onClose:function(){return r(!0)},onAction:function(){var t=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(e);case 2:r(!1);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){return r(!1)}})})}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(343),i=(r.n(n),r(672)),o=r(1441),a=r(340);r.n(a);function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u=function(){var e=l(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,l,u,d,f,g=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=g.length,r=new Array(t),n=0;n<t;n++)r[n]=g[n];if(o=i.a.apply(void 0,r),a=o.subscriptions,s=o.messages,a&&a.length){e.next=4;break}return e.abrupt("return",{cancelled:!1,args:r});case 4:return l=s.map(function(e){return e.params.ids}),e.next=7,c(a,l);case 7:return u=e.sent,d=u.cancelled,(f=u.action)&&(r[0]=f),e.abrupt("return",{cancelled:d,args:r});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=function(e,t){var r=Object(i.f)(e).length,s=new o.a({name:"Check spam logger",type:"unsubscribe-on-spam"});return s.log({event:"show",ids:t}),new Promise(function(o){Object(a.showStatuslineComponent)({name:n.StatuslineName.SpamOrUnsubscribe,count:r,onClose:function(){return o({cancelled:!0})},onAction:function(){var r=l(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.g)(e);case 2:o({cancelled:!1,action:"delete"}),s.log({event:"action",ids:t});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),onCancel:function(){o({cancelled:!1}),s.log({event:"cancel",ids:t})}})})}},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(1422),i=r.n(n),o=r(1437),a=r(1441),s=r(343),l=(r.n(s),r(340));r.n(l);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var d=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,n,a,s,l,c,d,g,p,m,h,v,b,_,y,S=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=S.length,r=new Array(t),n=0;n<t;n++)r[n]=S[n];if(!Daria.IS_CORP){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:r});case 3:if(a=r[0],s=r[1],l=r[2],c=Object(o.a)(a,s,l),d=i()(c.map(function(e){return e.getFromEmail()})),g=1!==d.length,p=c.some(function(e){return e.getToEmails().length>1}),!g&&!p){e.next=10;break}return e.abrupt("return",{cancelled:!1,args:r});case 10:if(m=u(d,1),h=m[0],c.some(function(e){return e.hasType(76)})){e.next=14;break}return e.abrupt("return",{cancelled:!1,args:r});case 14:return v=c.map(function(e){return e.params.ids}),e.next=17,f(h,v);case 17:return b=e.sent,_=b.cancelled,y=b.arg,r[0]=y,e.abrupt("return",{cancelled:_,args:r});case 22:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(e,t){var r=new a.a({name:"Check spam logger",type:"delete-on-spam"});return r.log({event:"show",ids:t}),new Promise(function(n){Object(l.showStatuslineComponent)({name:s.StatuslineName.SpamOrDelete,email:e,onClose:function(){return n({cancelled:!0})},onAction:function(){n({cancelled:!1,arg:"delete"}),r.log({event:"action",ids:t})},onCancel:function(){n({cancelled:!1,arg:"tospam"}),r.log({event:"cancel",ids:t})}})})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[1];return Daria.MOPS.shouldShowConfirmation(n,i.getCount())?new Promise(function(e){ns.Model.get("mops-confirmation").setMops({action:n,count:i.getCount(),callback:function(){return e({cancelled:!1,args:t})},onCancel:function(){return e({cancelled:!0,args:t})}})}):{cancelled:!1,args:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(511),i=(r.n(n),r(86));Daria.MessagesSearch={},Daria.MessagesSearch.searchParamsStore=[],Daria.MessagesSearch.invalidateMessagesModel=function(e){for(var t=-1,r=0;r<Daria.MessagesSearch.searchParamsStore.length;r++)if(_.isEqual(Daria.MessagesSearch.searchParamsStore[r],e)){t=r;break}if(-1!==t)return ns.Model.invalidate("messages",function(t){for(var r=!0,n=Object.keys(e),i=0;i<n.length;i++)if(e[n[i]]!==t.params[n[i]]){r=!1;break}return t.isValid()&&r});Daria.MessagesSearch.searchParamsStore.unshift(e)},Daria.MessagesSearch.search=function(e,t){var r;Daria.React.generateSearchId(),t=t||{},e=_.clone(e),function(){var e={container_kind:"unknown",container_type:"",container_id:""},t=Daria.router.getCurrentParams()||{};if(Daria.isSearchPage())e.container_kind="search";else if(Daria.isPriorityTab())e.container_kind="tab",e.container_type=e.container_id="priority";else if(Daria.isAttachmentsTab())e.container_kind="tab",e.container_type=e.container_id="attachments";else if(Daria.isFoldersTabPage())e.container_kind="tab",e.container_type=e.container_id=t.tabId;else if("messages"===Daria.router.getCurrentPage()){var r=t.current_folder;e.container_kind="folder",e.container_id=r,e.container_type=ns.Model.get("folder",{fid:t.current_folder}).get(".symbol")||"user"}Daria.monitoring.journal("search",e)}(),Daria.MessagesSearch._resetSimplifiedParams(),ns.events.off("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams),""===e.request&&delete e.request,_.isEmpty(e)?(r=ns.page.HOME_HASH,Jane.watcher.set("search.is-empty-search",!0)):(e.search="search",r=Daria.router.buildUrl("messages",e)),Daria.MessagesSearch.invalidateMessagesModel(e);var o,a=e&&e.request&&Object.keys(e).some(function(e){return n.AdvancedSearchParams.includes(e)}),s=Object(i.getSearchStoreBridge)();if(!Daria.isSearchWithoutAllResultsFallback()&&a){var l=ns.Model.get("messages",e);o=ns.request([l]).then(function(){return 0===l.get(".message").length?(r=Daria.router.buildUrl("messages",{search:"search",request:e.request}),Daria.React.setSimplifiedParams(e),s.setSimplifiedParams(e)):s.setSimplifiedParams(null),Daria.router.navigate(r).then(function(){Daria.React.wasSearchRequestSimplified()&&ns.events.once("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams)})})}else s.setSimplifiedParams(null),o=Daria.router.navigate(r);o.then(this._onSuccess.bind(this,t,e),this._onError.bind(this,t)).always(function(){Jane.watcher.set("search.is-empty-search",!1)})},Daria.MessagesSearch._resetSimplifiedParams=function(){Daria.React.setSimplifiedParams(null)},Daria.MessagesSearch._onSuccess=function(e,t){if(e.onCorrecting){var r=ns.Model.get("messages",Daria.router.getCurrentParams()).getData(),n=jpath(r,".details.search-options.request")[0];n&&n.trim()!==(t.request||"").trim()&&e.onCorrecting(n)}e.onSuccess&&e.onSuccess()},Daria.MessagesSearch._onError=function(e){e.onError&&e.onError()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(539),i=(r.n(n),r(141)),o=(r.n(i),r(329));Daria.Xiva={};var a=Daria.Xiva.MAX_MESSAGES_IN_MODEL=100;function s(e,t,r,n){var i=r.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:n})});ns.Model.traverse("messages",function(r){r.params.current_label===t&&("label"===e?i.forEach(function(e){return r.insertMessageBySort(e)}):r.remove(i))})}Daria.Xiva.createThreadFromMessage=function(e,t,r,n){var i=_.cloneDeep(e.getData());i.count=r,i.mid=e.getThreadId(),i.last_mid=e.get(".mid"),i.new=n;var o=ns.Model.get("messages",{thread_id:i.mid,mailboxUid:e.params.mailboxUid});return o.isValid()&&(i.lid=_(o.models).map(function(e){return e.get(".lid")}).concat(i.lid).flatten().uniq().value()),t.setData(i)},Daria.Xiva.messageLabel=function(e){var t=e.owner_uid||null,r="mark mails"===e.operation?"label":"unlabel",o=ns.Model.get("labels",{mailboxUid:t}),l=!1,u=[];e.tids&&(u=_.uniq(JSON.parse(e.tids)).map(function(e){return"t"+e}));var c,d,f,g=[];if(e.mids&&(g=JSON.parse(e.mids)),"all_labels"in e){var p=JSON.parse(e.all_labels),m=new Daria.MOPS.Opinfo;return g.forEach(function(e,r){var n=ns.Model.get("message",{ids:e,mailboxUid:t});if(n.isValid()){var i=p[r],o=[];n.get(".lid").forEach(function(e){var t=i.indexOf(e);-1===t?o.push(e):i.splice(t,1)}),i.forEach(function(e){var t=n.label({lid:e});m.merge(t)}),o.forEach(function(e){var t=n.unlabel({lid:e});m.merge(t)})}}),m.hasAdjust()?(ns.Model.get("labels",{mailboxUid:t}).adjustCounters(m.getAdjust()),vow.resolve()):ns.forcedRequest([{id:"labels",params:{mailboxUid:t}}])}var h=[],v=o.getLabelBySymbolicName(n.WellKnownLabels.REPLY_LATER_STARTED),b=o.getLabelBySymbolicName(n.WellKnownLabels.REPLY_LATER_FINISHED),y=[v&&v.lid,b&&b.lid];if(e.t_lids&&(c=JSON.parse(e.t_lids)[0])&&!o.getLabelById(c)&&(l=!0),e.m_lids&&((f=JSON.parse(e.m_lids)).find(function(e){return y.includes(e)})&&h.push({id:"stickers",params:{type:i.StickerType.REPLY_LATER}}),(d=f[0])&&!o.getLabelById(d)&&(l=!0)),l&&h.push({id:"labels",params:{mailboxUid:t}}),d&&g.length)for(var S=g.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()});S.length>0;)h.unshift(ns.Model.get("messages",{filter_ids:S.splice(-a),mailboxUid:t}));return(h.length?ns.forcedRequest(h):vow.resolve()).then(function(){if(c&&u.length&&(Daria.MOPS.doActionInMessages(u,r,{lid:c,onlyAdd:!0}),s(r,c,u)),d&&g.length){var e=!1;f.forEach(function(n){var i=Daria.MOPS.doActionInMessages(g,r,{lid:n},t);s(r,n,g),l||(i.hasAdjust()?ns.Model.get("labels",{mailboxUid:t}).adjustCounters(i.getAdjust()):e=!0)});var n=o.getPinnedLabel();if(n&&f.includes(n.lid)&&g.forEach(function(e){if(ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()){var n=ns.Model.get("messages-checked",{mid:e,mailboxUid:t}).checkByMidInParams();Daria.MOPS.updateModelsAfterPin(n,"unlabel"===r?"unpin":"pin",!0)}}),e)return ns.forcedRequest([{id:"labels",params:{mailboxUid:t}}])}return vow.resolve()})},Daria.Xiva.moveMessageToFolder=function(e,t){return Daria.Xiva.messageMove({mids:JSON.stringify([e]),fid:t})},Daria.Xiva.messageMove=function(e){var t=e.owner_uid||null,r=e.fid,n=e.tabId,i=JSON.parse(e.mids);if("-1"===r){i.forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:t}).remove()});var o=[{id:"folders",params:{mailboxUid:t}},{id:"labels",params:{mailboxUid:t}}];return Daria.areFoldersTabsEnabled()&&o.push({id:"tabs",params:{mailboxUid:t}}),ns.forcedRequest(o)}var s=i.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()}),l=[ns.Model.get("folders",{mailboxUid:t}),ns.Model.get("labels",{mailboxUid:t})];for(Daria.areFoldersTabsEnabled()&&l.push(ns.Model.get("tabs",{mailboxUid:t}));s.length>0;)l.unshift(ns.Model.get("messages",{filter_ids:s.splice(-a),mailboxUid:t}));return ns.forcedRequest(l).then(function(){var e={current_folder:r};n&&(e.tabId=n),Daria.MOPS.doActionInMessages(i,"doMove",e,t)})},Daria.Xiva.messageStatusChange=function(e){var t=e.status,r=e.owner_uid||null,n="";switch(t){case"New":n="unmark";break;case"PL":n="markForwarded";break;case"OQ":n="markAnswered";break;case"RO":n="mark";break;default:var i="0"===e.is_mixed_add||void 0===e.is_mixed_add,o="32"===e.is_mixed_del||void 0===e.is_mixed_del;return!t&&i&&o?vow.resolve():vow.reject("xiva message status change: unknown status: ".concat(t,",\n            is_mixed_add: ").concat(e.is_mixed_add,", is_mixed_del: ").concat(e.is_mixed_del))}var s=JSON.parse(e.mids);if("markForwarded"===n||"markAnswered"===n)return Daria.MOPS.doActionInMessages(s,n,{},r),vow.resolve();var l=s.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:r}).isValid()});Daria.MOPS.doActionInMessages(s,n,{},r);for(var u=[];l.length>0;)u.unshift(ns.Model.get("messages",{filter_ids:l.splice(-a),mailboxUid:r}));return ns.request(u).then(function(){var e="mark"===n?-1:1,t={},i={};s.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:r})}).forEach(function(r){var n=r.getFolderId(),o=t;Daria.areFoldersTabsEnabled()&&r.isInTab()&&(n=r.getTabId(),o=i),n in o?o[n]+=e:o[n]=e}),_.isEmpty(t)||ns.Model.get("folders",{mailboxUid:r}).adjustUnreadCounters(t),_.isEmpty(i)||ns.Model.get("tabs",{mailboxUid:r}).adjustUnreadCounters(i)})},Daria.Xiva.processUnsupported=function(e){switch(e.operation){case"delayed_message":case"reset fresh":case"sticker-create":case"sticker-remove":case"sticker-update":case"settings-update":case"delete mails":return vow.resolve();case"mark mails":case"unmark mails":return Daria.Xiva.messageLabel(e);case"move mails":return ns.events.trigger("xiva.mail.move",e),Daria.Xiva.messageMove(e);case"status change":return Daria.Xiva.messageStatusChange(e);case"transfer":return Daria.Xiva.handlers.transfer();case"update labels":return Daria.Xiva.handlers.updateThreadCounters(e)}return vow.reject("xiva unsupported: unknown operation ".concat(e.operation))},Daria.Xiva._getFoldersCounters=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.counters,r=void 0===t?[]:t,n=e.countersNew,i=void 0===n?[]:n,o={},a={},s=0;s<r.length;s+=2)o[r[s]]=r[s+1];for(var l=0;l<i.length;l+=2)a[i[l]]=i[l+1];return{countersHash:o,countersNewHash:a}},Daria.Xiva.updateFolderCounters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.owner_uid||null,n=Daria.Xiva._getFoldersCounters(t),i=n.countersHash,a=n.countersNewHash,s=Daria.router.getCurrentParams().current_folder,l=e.getFolderId(),u=ns.Model.get("folder",{fid:l,mailboxUid:r});if(!u.getData()&&r&&r!==Object(o.getMailboxUid)()&&ns.Model.isDefined("delegated-resources-list"))ns.forcedRequest([{id:"delegated-resources-list"}]);else{var c=u.updateCounts({count:i[l]||0,new:a[l]||0}),d=c&&c.new>0&&l!==s;d&&u.setRecent(),ns.events.trigger("updateMailboxCounters",{unread:c.new,fresh:d?1:0,mailboxUid:r})}},Daria.Xiva.updateLabelsCounters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).owner_uid||null,r=ns.Model.get("labels",{mailboxUid:t}),n={},i=e.get(".lid");Array.isArray(i)&&i.forEach(function(e){n[e]=1}),r.adjustCounters(n)},Daria.Xiva.updateTabsCounters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).owner_uid||null,r=ns.Model.get("tabs",{mailboxUid:t}),n=e.getTabId(),i=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,1);r.adjustUnreadCounters(i);var o=0;if(n!==Daria.router.getCurrentParams().tabId){if(!r.getTab(n))return;r.getTab(n).setRecent(),o=1}ns.events.trigger("updateMailboxCounters",{unread:1,fresh:o,mailboxUid:t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3113),i=r(136),o=(r.n(i),r(2)),a=(r.n(o),r(992)),s=r(329),l=_.debounce(function(){if(ns.Model.isDefined("delegated-resources-list"))return ns.forcedRequest([{id:"delegated-resources-list"}])},200);Daria.Xiva.handlers={updateThreadCounters:n.a},Daria.Xiva.handlers.commonChecker=function(e){var t=parseInt(e.lcn,10),r=e.raw_data.owner_uid||null;return!!Daria.Xiva.handlers.processNewLcn(t,r)&&("insert"===e.operation||Daria.Config.connection_id!==e.session_key)},Daria.Xiva.wentOfflineTime=null,window.addEventListener("offline",function(){return Daria.Xiva.wentOfflineTime=Date.now()}),Daria.Xiva.handlers.processNewLcn=function(e,t){var r,n=Object(a.a)(t),i=Boolean(Daria.Xiva.wentOfflineTime);if(Daria.Xiva.wentOfflineTime=null,i&&e!==n?r="xiva.lcn_changed_after_offline":n&&e-n>10&&(r="xiva.invalid_lcn"),r){var s={type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.processNewLcn",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva,message:"Error processing new lcn",event:r,diff:e-n,newLcn:e,oldLcn:n};return Ya.Rum.logEventString("lcn_new_processing_invalid","",{service:"liza",page:"",additional:s}),Object(a.c)(e,t),Daria.invalidateMailHandlers(!1,r),!1}return(!n||e>n)&&Object(a.c)(e,t),!0},Daria.Xiva.handlers.insert=function(e){return Daria.Xiva.handlers.commonChecker(e)?(ns.events.trigger("xiva.mail.insert",e),Daria.Xiva.NewMsgQueue.process(e)):vow.reject("xiva: error insert new message")},Daria.Xiva.handlers.transfer=function(){return Daria.goHomePage(),vow.resolve()},Daria.Xiva.handlers.unsupported=function(e){if(!Daria.Xiva.handlers.commonChecker(e))return vow.reject("xiva: unsupported error");var t=Object(s.getMailboxUid)(),r=e.raw_data&&e.raw_data.owner_uid||null;if(!r||Object(s.isSharedMailboxesEnabled)()){t===r&&(Daria.gotNewMail=0,Daria.updateTitle(r));var n,a=ns.Model.get("folders",{mailboxUid:r});if(t!==r&&!a.isValid())return e.raw_data&&"status change"===e.raw_data.operation||e.message&&"status change"===e.message.operation?l():void 0;e.raw_data&&_.contains(["transfer","update labels"],e.raw_data.operation)?n=e.raw_data:e.raw_data&&_.contains(["move mails"],e.raw_data.operation)?(Daria.areFoldersTabsEnabled()&&e.message.fid===ns.Model.get("folders",{mailboxUid:r}).getFidBySymbol(i.WellKnownFolderSymbol.INBOX)&&(e.message.tabId=_.get(e,"raw_data.envelopes[0].tab"),e.message.tabId||Jane.ErrorLog.log({message:"No tab in xiva push",type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.unsupported",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva})),n=e.message):n=e.message;var u=Daria.Xiva.processUnsupported(n);return u.then(null,function(t){Jane.ErrorLog.log({type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.unsupported",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva,message:"Unhandled message",event:"xiva.mail.unsupported.unhandled",messageData:_.omit(e,["raw_data","message"])},t)}),u}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.a=function(e){var t=e.tids,r=e.mailboxUid;if(!(t=(t||[]).filter(function(e){return e&&"null"!==e})).length)return vow.resolve();var i=_.intersection(function(){var e=[];return ns.Model.traverse("message",function(t){return e.push(t.getThreadId())}),e}(),function(e){return e.map(function(e){return"t"+e})}(t));return i.length?ns.forcedRequest("threads-info",{thread_ids:i.map(Daria.tid2mid).join(","),mailboxUid:r}).then(function(e){var t=n(e,1)[0].data;!function(e,t){ns.Model.traverse("message",function(r){if(r.isThread()){var n=r.getThreadId();if(_.contains(e,n)){var i=_.find(t,{tid:n});i&&r.setIfChanged(".new",i.new)}}})}(i,t)},_.noop):vow.resolve()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(2)),o=(r.n(i),r(135));r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t){t.Xiva.NewMsgQueue={},t.Xiva.NewMsgQueue.process=function(e){return t.Xiva.NewMsgQueue.processData(e).then(t.Xiva.NewMsgQueue.insertMessage)},t.Xiva.NewMsgQueue.processData=function(r){return new vow.Promise(function(n,o){var a=r.message,l=r.raw_data,u=a.mid,c=a.thread_id?"t"+a.thread_id:"",d=l.owner_uid||null,f=ns.Model.get("message",{ids:u,mailboxUid:d});if(f.isValid()&&ns.Model.get("messages",t.router.getCurrentParams()).getMessageByMid(u))return e.ErrorLog.send({ts:Date.now(),msg:JSON.stringify(_.omit(s({},r),["raw_data","message"])),reason:"skip known message",type:"xivaNewMsgEvent"}),void o("KNOWN_MESSAGE");var g=f;c&&ns.Model.get("settings").isThreaded()&&(ns.Model.get("message",{ids:c,mailboxUid:d}).hasRealData()||(g=ns.Model.get("messages",{thread_id:c,mailboxUid:d})));ns.forcedRequest([g]).then(function(t){f.getData()?n({mMessage:f,rawData:l}):(e.ErrorLog.log({type:i.ErrorType.Util,block:i.ErrorBlock.Xiva,method:"Daria.Xiva.NewMsgQueue.processData",source:i.ErrorSource.Logic,sourceMethod:i.ErrorSourceMethod.Xiva,message:"Empty msg data after request thread",additional:{mid:u,tid:c,"X-Request-Id":t[0].xRequestId,"X-Trace-Id":t[0].xTraceId}}),o("REQUEST_DATA_ERROR"))},function(){return o("REQUEST_ERROR")})})},t.Xiva.NewMsgQueue.insertMessage=function(e){var r=e.mMessage,n=e.rawData;t.areFoldersTabsEnabled()&&r.isInTab()&&t.Xiva.updateTabsCounters(r,n),t.Xiva.updateFolderCounters(r,n),t.Xiva.updateLabelsCounters(r,n);var i=t.Xiva.NewMsgQueue.updateLists(r,n);return t.Xiva.NewMsgQueue.notify(r,i),t.Xiva.NewMsgQueue.clearMessagesCache(),t.updateTitle(n.owner_uid||null),vow.resolve()},t.Xiva.NewMsgQueue.clearMessagesCache=Object(o.debounce)(function(){t.messages.clearSearchCache(),ns.Model.invalidateAll(["message-nearest","message-thread-nearest"])},1e3),t.Xiva.NewMsgQueue.updateLists=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.owner_uid||null,o=[],a=e.getFolderId(),l={mailboxUid:i};if(e.inFolderBySymbol(n.ThreadsDisabledFolders))return o.push(t.Xiva.NewMsgQueue._updateList(s({current_folder:a},l),e)),o;var u=s({current_folder:a},l);t.areFoldersTabsEnabled()&&e.isInTab()&&(u.tabId=e.getTabId());var c=t.Xiva.NewMsgQueue.updateThreadModels(e,r);return o.push(t.Xiva.NewMsgQueue._updateList(Object.assign({threaded:"yes"},u),c.insert,c.replace)),o.push(t.Xiva.NewMsgQueue._updateList(u,e)),e.get(".lid").forEach(function(r){o.push(t.Xiva.NewMsgQueue._updateList(s({current_label:r},l),e))}),e.hasAttachment()&&o.push(t.Xiva.NewMsgQueue._updateList(s({goto:"all",extra_cond:"only_atta"},l),e)),e.isNew()&&o.push(t.Xiva.NewMsgQueue._updateList(Object.assign({extra_cond:"only_new"},u),e),t.Xiva.NewMsgQueue._updateList(s({goto:"all",extra_cond:"only_new",unread:"unread"},l),e)),o},t.Xiva.NewMsgQueue.updateThreadModels=function(r,n){var o=n&&n.owner_uid||null,a=r.getThreadId(),s=ns.Model.get("message",{ids:a,mailboxUid:o}),l=ns.Model.get("messages",{thread_id:a,mailboxUid:o});if(s.hasRealData())return s.updateThreadInfo(r),l.insertMessage(r),{insert:s,replace:s};if(ns.Model.get("settings").isThreaded()&&(l.insertMessage(r),t.messages.toCreateThread(r))){var u=l.getCount(),c=l.models.indexOf(r),d=l.models[c+1]||r,f=l.models[c+1];d.getData()||!f||f.getData()||e.ErrorLog.log({type:i.ErrorType.Util,block:i.ErrorBlock.Xiva,method:"Daria.Xiva.NewMsgQueue.updateThreadModels",source:i.ErrorSource.Logic,sourceMethod:i.ErrorSourceMethod.Xiva,message:"Empty msg data in messages thread model",additional:{mid:r.get(".mid"),tid:a}});var g=l.getUnreadCount();return r.isNew()&&(g-=1),t.Xiva.createThreadFromMessage(d,s,u-1,g),s.updateThreadInfo(r),{insert:s,replace:s}}return{insert:r,replace:r}},t.Xiva.NewMsgQueue._updateList=function(e,t,r){var n=ns.Model.get("messages",e);return n.insertMessage(t,r),n},t.Xiva.NewMsgQueue.notify=function(e,r){e.params.mailboxUid!==t.router.getCurrentParams().mailboxUid&&(e.params.mailboxUid||t.router.getCurrentParams().mailboxUid)||t.Xiva.NewMsgQueue.shouldPreventAnyNotifications(e)||(t.Xiva.NewMsgQueue.updateFaviconCounter(e.getFolderId(),e.params.mailboxUid),t.Xiva.NewMsgQueue.shouldPreventPopupNotifications()||(t.Xiva.NewMsgQueue.playSound(),t.Xiva.NewMsgQueue.preloadMessage(e.get(".mid")),t.Xiva.NewMsgQueue.toShowNotification(r)&&t.Xiva.NewMsgQueue.showNotification(e)))},t.Xiva.NewMsgQueue.shouldPreventPopupNotifications=function(){return t.isComposePage()},t.Xiva.NewMsgQueue.shouldPreventAnyNotifications=function(e){var t=e.inFolderBySymbol(n.SilentFolders),r=!e.isNew();return t||r},t.Xiva.NewMsgQueue.updateFaviconCounter=function(e,r){var i=t.router.getCurrentParams(),o=t.router.getCurrentPage(),a=ns.Model.get("folders",{mailboxUid:r});if(t.IS_CORP&&"messages"===o){var s=e===i.current_folder,l=a.isFolder(e,n.WellKnownFolderSymbol.INBOX);t.gotNewMail+=s||l?1:0}else if(t.IS_CORP&&"message"===o){var u=e===ns.Model.get("message",{ids:i.ids,mailboxUid:r}).getData().fid,c=a.isFolder(e,n.WellKnownFolderSymbol.INBOX);t.gotNewMail+=u||c?1:0}else t.gotNewMail+=1;t.gotNewMail+=ns.Model.get("user-dropdown-data").getFreshForDefault()},t.Xiva.NewMsgQueue.playSound=function(){ns.Model.get("settings").getSetting("sound_message")&&"1"!==t.getCookie("sound_message_playing")&&(t.setCookie("sound_message_playing","1"),t.actions.run("sound.message"),setTimeout(function(){t.delCookie("sound_message_playing")},1e3))},t.Xiva.NewMsgQueue.preloadMessage=function(e){t.messages.preload([{mid:e}])},t.Xiva.NewMsgQueue.toShowNotification=function(e){if(!ns.Model.get("settings").getSign("notify_message"))return!1;if("messages"!==t.router.getCurrentPage())return!0;var r=t.Xiva.NewMsgQueue._getCurrentMessages();return!_.includes(e,r)},t.Xiva.NewMsgQueue._getCurrentMessages=function(){var e,r=t.router.getCurrentParams();return r.current_folder&&r.thread_id&&(e=_.clone(r),delete r.thread_id),ns.Model.get("messages",e||r)},t.Xiva.NewMsgQueue.showNotification=function(e){t.Xiva.NewMsgQueue.showNotificationMessage(e)},t.Xiva.NewMsgQueue.showNotificationCalendarEvent=function(e){var r=e.get(".mid");return ns.request("message-widget-events",{ids:r}).then(function(e){var t=e[0].get(".eventInfo"),r={type:"calendar",name:t.name,location:t.location,start:t.start,end:t.end};"event_update"===t.calendarMailType?r.label="updated":t.isCancelled&&(r.label="canceled"),ns.Model.get("notifications").addNotification(r)},function(){t.Xiva.NewMsgQueue.showNotificationMessage(e)})},t.Xiva.NewMsgQueue.showNotificationMessage=function(e){var r=e.get(".mid"),n=e.getFolderId(),i=e.getFromEmail(),o=t.router.buildUrl("message",{current_folder:n,ids:r,fromNotification:1});ns.Model.get("notifications").addNotification({type:"message",subject:e.getSubject(),email:i,firstline:e.getFirstline(),name:e.getFromName(),ref:e.getEmailRef(i),url:o})}}(Jane,Daria)},function(e,t){!function(e,t){function r(e,r){var n=e&&e.message,i=ns.Model.get("head-user-state"),o=ns.Model.get("user-dropdown-data");n&&"status change"===n.operation&&Boolean(n.status)&&"New"!==n.status&&(o.deleteUnreadAccountsMids(e.uid,n.mids),Object.values(o.getUnreadAccountsMids()).every(function(e){return e.length})||i.setNewLettersInMA(!1));if(_.has(e,"message.fresh_count")){var a=Number(e.message.fresh_count||0);r?a&&(ns.Model.get("head-user-state").setNewLettersInMA(!0),"New"===n.hdr_status&&o.addUnreadAccountsMids(e.uid,n.mid)):a&&ns.Model.get("head-user-state").setNewLettersInMA(!1),o.setNewCountById(e.uid,a),t.gotNewMail+=o.getFreshForDefault(),t.updateTitle()}}ns.events.on("xiva.mail.multi.insert",function(e,t){r(t,!0)}),ns.events.on("xiva.mail.multi.update",function(e,t){r(t)}),t.IS_CORP&&ns.events.on("xiva.calendar.meeting-reminder",function(e,t){ns.Model.get("settings").isSet("i_can_care_of_myself")||ns.Model.get("notifications").addNotification({type:"calendar",label:"reminder",name:t.message.subject,location:t.message.location,vip:!0})})}(Jane,Daria)},function(e,t,r){Daria.actions.define("hide",function(e,t,r){r.style.display="none"}),Daria.actions.define("messages.deselect",function(){$(document).trigger("b-mail-dropdown-closeall"),ns.events.trigger("daria:vMessages:deselect")}),r(3117),r(3119),r(3121),r(3122),r(3124),r(3125),r(3126),r(3127),r(3164),r(3165),r(3166),r(3167),r(3168),r(3169),r(3170),r(3172)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3118);Daria.actions.define("attachments.image-preview",function(e,t,r,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer","Opening"),ns.request(["module-message"]).then(function(){Daria.ImageViewer.open(t.mode,t.mid,t.hid,t["message-hid"],t.mailboxUid),ns.events.trigger("daria:vAttachmentsViewer:open")})}),Daria.actions.define("attachments.logOperation",function(e,t){Object(n.a)(t.mid,t.type)}),Daria.actions.define("attachments.openImageViewer",function(e,t){Daria.ImageViewer.open("",t.mid,t.hid,t.messageHid,t.mailboxUid,t.mailboxUid)})},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(581),i=r(1436);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={},l=function(e,t){var r=ns.Model.get("message",{ids:e});s[e]=s[e]||Object(i.a)();var l=Object(i.b)(r);Object(n.writeToUserJournal)({operation:"open",target:"attach"},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({isSearch:Daria.isSearchPage(),readingId:s[e],mid:e},l,{open_type:t,container_subtype:"message"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(340)),o=(r.n(i),r(343)),a=(r.n(o),r(1442));!function(){var e="Статуслайн для фильтров";Daria.actions.define("message.filter-move.show",function(t,r){var a=r.mid,s=r.fid,l=ns.Model.get("folders"),u=ns.Model.get("settings"),c=ns.Model.get("message",{ids:a});if(!(u.isSet("disable_move_filter")||Daria.areFoldersTabsEnabled()&&l.getFidBySymbol(n.WellKnownFolderSymbol.INBOX)===s)){var d=l.getFolderById(s).name,f=c.getFromEmail();Object(i.showStatuslineComponent)({name:o.StatuslineName.FilterCreate,mid:a,fid:s,message:i18n("%Statusline_create_filter_on_message_move",f,d),moveButtonText:i18n("%Statusline_create_filter_on_message_move_button"),cancelButtonText:i18n("%Statusline_create_filter_on_message_move_cancel")}),Jane.c(e,"Шаг 1","Показ")}}),Daria.actions.define("message.filter-move.create",function(t,r){var n=ns.Model.get("message",{ids:r.mid}).getFromEmail();Object(a.a)({validate:no.True,params:{letter:"all",name:"",logic:1,field1:"from",field2:1,field3:n,clicker:"move",move_folder:r.fid},success:function(t){Object(i.showStatuslineComponent)({name:o.StatuslineName.FilterApply,filid:t,email:n}),Jane.c(e,"Шаг 2","Показ")}}).create(),Jane.c(e,"Шаг 1","Перекладывать"),Jane.c("Нотификации","Функциональные нотификации","create_filter","Клик",'Клик в "Перекладывать"')}),Daria.actions.define("message.filter-move.apply",function(t,r){ns.forcedRequest(["filters-apply"],{id:r.filid}).then(function(t){t[0].error||(Object(i.showSuccessMessage)(o.StatuslineName.FilterApplied,i18n("%Statusline_create_filter_on_message_move_done_applied")),Jane.c(e,"Шаг 3","Показ"))}),Jane.c(e,"Шаг 2","Переложить"),Jane.c("Нотификации","Функциональные нотификации","apply_filter","Клик",'Клик в "Переложить"')}),Daria.actions.define("message.filter-move.edit",function(t,r){Daria.router.navigate("#setup/filters-create?id="+r.filid),Jane.c(e,"Шаг 2","Изменить правило"),Jane.c("Нотификации","Функциональные нотификации","apply_filter","Клик",'Клик в "Изменить правило"')}),Daria.actions.define("message.filter-move.disable",function(){ns.Model.get("settings").setSettingOn("disable_move_filter"),Jane.c(e,"Шаг 1","Не предлагать"),Jane.c("Нотификации","Функциональные нотификации","create_filter","Клик",'Клик в "Больше не предлагать"')})}()},function(e,t,r){"use strict";t.a=function(e){e.name===i18n("%Setup_Filters_default_rule_name")&&(e.name="")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1443);Daria.actions.define("folder.clear-data",function(e,t){return Object(n.a)({method:"purge",fid:t.fid,mailboxUid:t.mailboxUid})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3123);r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){var t,r=(t={},o(t,n.CollectorOAuthApplication.GOOGLE,"https://mail.google.com/"),o(t,n.CollectorOAuthApplication.MAILRU,"mail.imap"),o(t,n.CollectorOAuthApplication.MICROSOFT,"wl.imap wl.offline_access"),o(t,n.CollectorOAuthApplication.YANDEX,""),t)[e.application],i={application:e.application,consumer:"mail",display:"popup",force_prompt:1,place:"query",retpath:location.origin+Daria.api["oauth-token"]+"?"+$.param(e),return_brief_profile:1,scope:r};e.login_hint&&(i.login_hint=e.login_hint),window.open(Daria.Config["social-host"]+"/broker2/start?"+$.param(i),"_blank")};Daria.actions.define("generate-oauth-token",function(e,t){"yandex-mail-collector"!==t.application||t.login_hint?a(t):Daria.React.yaCollectorEmailInputPopup.openPopup({onOk:function(e){var r=e.email;return a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({login_hint:r},t))}})})},function(e,t,r){"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownCollectorError=t.CollectorOAuthAction=t.CollectorNameApplicationMap=t.CollectorOAuthApplication=t.CollectorName=t.WellKnownErrorStatus=t.CollectorStatus=t.COLLECTORS_LIMIT=void 0,t.COLLECTORS_LIMIT=10,function(e){e.OFF="0",e.ON="1",e.FAULTY="2",e.BROKEN="3"}(t.CollectorStatus||(t.CollectorStatus={})),function(e){e.NoError="ok",e.AuthError="auth_error"}(t.WellKnownErrorStatus||(t.WellKnownErrorStatus={})),function(e){e.GOOGLE="Gmail",e.MAILRU="Mail",e.OUTLOOK="Outlook",e.YANDEX="Yamail"}(i=t.CollectorName||(t.CollectorName={})),function(e){e.GOOGLE="google-oauth2",e.MAILRU="mailru-o2-mail",e.MICROSOFT="microsoft",e.YANDEX="yandex-mail-collector"}(o=t.CollectorOAuthApplication||(t.CollectorOAuthApplication={})),t.CollectorNameApplicationMap=((n={})[i.GOOGLE]=o.GOOGLE,n[i.MAILRU]=o.MAILRU,n[i.OUTLOOK]=o.MICROSOFT,n[i.YANDEX]=o.YANDEX,n),function(e){e.Update="update",e.Create="create"}(t.CollectorOAuthAction||(t.CollectorOAuthAction={})),function(e){e.Fail="fail",e.TriesExceeded="tries_exceeded",e.AuthFailed="auth_failed",e.FromHimself="rpop from himself error",e.ForbiddenServerError="forbidden server error",e.Duplicated="duplicated",e.AppPasswordRequired="app password required",e.RateControlError="rate control error"}(t.WellKnownCollectorError||(t.WellKnownCollectorError={}))},function(e,t){function r(e,t,r){t.current_label=t.current_label||t.lid,t._viewKey=$(r).closest(".ns-view-message").attr("data-key"),ns.events.trigger("daria:vToolbarButton:"+e,t)}Daria.actions.define("label",r),Daria.actions.define("unlabel",r)},function(e,t){Daria.actions.define("move",function(e,t){t.refreshImmediately=!0,ns.events.trigger("daria:vToolbarButton:move",t)})},function(e,t){Daria.actions.define("fix-empty-image",function(e,t,r){Daria.Page.fixEmptyImage(r,t.type)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1050);function i(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)})}}Daria.actions.define("change-theme",function(){var e=o(regeneratorRuntime.mark(function e(t,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.themeId,Object(n.setTheme)(i),e.next=4,Object(n.runTheme)(i);case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()),Daria.actions.define("trigger-theme-redraw",function(){var e=o(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r.themeId,Daria.themeId=n,ns.events.trigger("daria:vThemesSelector:new-schema"),$(window).trigger("resize");case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}())},,,,,,,,,,,function(e,t,r){e.exports=r.p+"_/a609317dcc5e948346b12db0c236d43f-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/a80a0642c93a46c18af20df3d4f31af9-thumbnail-alt.large.png"},function(e,t,r){e.exports=r.p+"_/d3340cd8b3742dbe21b94f580ec7b52c-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/8c89e27e071365154219372f4f10ed51-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/35e0a77f112cf7740849f15035594c99-thumbnail-alt.large.png"},function(e,t,r){e.exports=r.p+"_/611030797b6447dd62aa58a73be5a496-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/14b3c1bd0046dc669ba238efd482348a-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/88a96ec152b922ccbcff50c6ed6f3e4c-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/8399ac1e9ce432672844c9d8cb80cfd0-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/5b31545c39790c76ad00edf8615b2edf-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/537a2b8b9e6333e1ad96ed181b5b9a03-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/dd5f07ea4361187a4f0f0a4d574b8717-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/a7bfddbd59abd7c2a7aa012f83188787-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/a89656bce22f981f7678367cad8561b9-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/3bf8b6e392d4295db14615f54ae6eab0-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/a72b4fc9736709e3e5d1bac405188ca5-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/4c265ebf8e9129ed8ef7fc49581d6aed-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/a52a155576c4b70dab2b6fcc8b6975aa-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/9c6f60bc1c8465d9b44a76b6dbe9bb7b-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/0236da1d5127c3ff1fff198e7811c4eb-thumbnail-alt.large.png"},function(e,t,r){e.exports=r.p+"_/74d3d03070490f404439f03a66212980-thumbnail_winter.new.jpg"},function(e,t,r){e.exports=r.p+"_/4f4527a24aa76bc6561f87a6835f85d5-thumbnail_spring.new.jpg"},function(e,t,r){e.exports=r.p+"_/50b07fe78e674fab825f2dccae9b3f9b-thumbnail_summer.new.jpg"},function(e,t,r){e.exports=r.p+"_/0fa5326ba9e330fb4f43ec0d08d12687-thumbnail_autumn.new.jpg"},function(e,t,r){e.exports=r.p+"_/b19adbd17be0858655448df779258a47-thumbnail.new.jpg"},function(e,t,r){e.exports=r.p+"_/48f3ee188a2adf78437d6a3221de5e66-thumbnail.new.jpg"},function(e,t){Daria.actions.define("folder.mark-read",function(e,t){Daria.markReadFolder(t.fid,t.mailboxUid)}),Daria.actions.define("tab.mark-read",function(e,t){Daria.MOPS.markReadTab(t.id,t.mailboxUid)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);function i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}Daria.actions.define("mops.label",function(e,t){var r,i=Object(n.getMailboxUid)();return r=t.ids?ns.Model.get("messages-checked",{mid:t.ids,mailboxUid:i}).checkByMidInParams():ns.Model.get("messages-checked",Daria.router.getCurrentParams()),Daria.MOPS.label(r,t)}),Daria.actions.define("mops.runOperation",function(e,t){var r=t.operation,o=t.ids,a=i(t,["operation","ids"]),s=Object(n.getMailboxUid)(),l=ns.Model.get("messages-checked",Daria.router.getCurrentParams());return 1!==o.length||l.isCheckedByMid(o[0])||(l=ns.Model.get("messages-checked",{mid:o[0],mailboxUid:s}).checkByMidInParams()),Daria.MOPS[r](l,a||{})}),Daria.actions.define("mops.toggleFolderOrTab",function(e,t){var r=ns.Model.get("messages-checked",Daria.router.getCurrentParams());r.resetChecked(),"select"===t.toggle&&(r.selectFolder(),r.selectTab())}),Daria.actions.define("mops.toggleAllMessagesChecked",function(e,t){var r=ns.Model.get("messages-checked",Daria.router.getCurrentParams());ns.Model.get("messages",Daria.router.getCurrentParams()).isSearch()&&!t.isSelectedAll||r.resetChecked(),t.isSelectedAll||r.selectList(!0)}),Daria.actions.define("mops.resetMessagesChecked",function(){ns.Model.get("messages-checked",Daria.router.getCurrentParams()).resetChecked()}),Daria.actions.define("mops.toggleMessageChecked",function(e,t){var r=t.ids,o=t.checked,a=i(t,["ids","checked"]),s=Object(n.getMailboxUid)(),l=ns.Model.get("messages-checked",Daria.router.getCurrentParams()),u=ns.Model.get("message",{ids:r,mailboxUid:s});l.check(u,o,a)}),Daria.actions.define("mops.insertMessages",function(e,t){var r=ns.Model.get("messages",Daria.router.getCurrentParams()),n=ns.Model.get("messages",t);r.set(".details",Object.assign(r.get(".details")||{},n.get(".details")||{}),{silent:!0}),r.insert(n.models),ns.Model.destroy(n)}),Daria.actions.define("mops.insertThreadMessages",function(e,t){var r=ns.Model.get("messages",{thread_id:t.thread_id}),n=ns.Model.get("messages",t);r.set(".details",Object.assign(r.get(".details")||{},n.get(".details")||{}),{silent:!0}),r.insert(n.models),ns.Model.destroy(n)})},function(e,t){Daria.actions.define("journal.log",function(e,t){Daria.monitoring.journal(t.operation,t.data)}),Daria.actions.define("workflow.log",function(e,t){Daria.monitoring.workflow(t)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(581);Daria.actions.define("error.log-simple",function(e,t){var r=t.errorType,i=t.error;Object(n.logSimpleError)(r,i)})},function(e,t){Daria.actions.define("shortcuts.modalOn",function(e,t){$.Shortcuts.modalListOn(t.list)}),Daria.actions.define("shortcuts.modalOff",function(e,t){$.Shortcuts.modalListOff(t.list)}),Daria.actions.define("shortcuts.freeze",function(){$.Shortcuts.freeze()}),Daria.actions.define("shortcuts.unfreeze",function(){$.Shortcuts.unfreeze()}),Daria.actions.define("shortcuts.switch-tab",function(e,t,r,n){var i={event:n,params:t};Daria.Shortcuts.switchTab(i)})},function(e,t){Daria.actions.define("forceReload",function(e,t){Daria.router.reloadPage(t)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(333),i=r(3171),o=r(329);function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}Daria.actions.define("message.markRead",function(e,t){var r=Object(o.getMailboxUid)(),n=ns.Model.get("message",{ids:t.mid,mailboxUid:r});Daria.MOPS[t.isNew?"mark":"unmark"](n.getMessagesCheckedModel())}),Daria.actions.define("message.markImportant",function(e,t){var r=Object(o.getMailboxUid)(),n=ns.Model.get("message",{ids:t.mid,mailboxUid:r}),i=ns.Model.get("labels",{mailboxUid:r}).getImportantLID();Daria.MOPS.updateHelper(t.isImportant?"unlabel":"label",n.getMessagesCheckedModel(),i)}),Daria.actions.define("message.markPriority",function(e,t){var r=Object(o.getMailboxUid)(),n=ns.Model.get("message",{ids:t.mid,mailboxUid:r}),i=ns.Model.get("labels",{mailboxUid:r}).getPriorityLID();Daria.MOPS.updateHelper(t.isPriority?"unlabel":"label",n.getMessagesCheckedModel(),i)}),Daria.actions.define("message.label",function(e,t){var r=Object(o.getMailboxUid)(),n=ns.Model.get("message",{ids:t.mid,mailboxUid:r});Daria.MOPS.updateHelper("label",n.getMessagesCheckedModel(),t.lid)}),Daria.actions.define("message.unlabel",function(e,t){var r=Object(o.getMailboxUid)(),n=ns.Model.get("message",{ids:t.mid,mailboxUid:r});Daria.MOPS.updateHelper("unlabel",n.getMessagesCheckedModel(),t.lid)}),Daria.actions.define("app.toggleVerticalScrollBar",function(e,t){Object(n.toggleVerticalScrollBar)(t.hideScrollBar)}),Daria.actions.define("message.runOperation",function(e,t){var r=t.operation,n=t.mid,i=a(t,["operation","mid"]),s=Object(o.getMailboxUid)(),l=ns.Model.get("messages-checked",{mid:n,mailboxUid:s}).checkByMidInParams();Daria.MOPS[r](l,i||{})}),Daria.actions.define("quick-reply.open",function(e,t,r){Daria.openQuickReply({oper:t.oper,quickReplyNode:r,ids:t.ids,onMessageSent:t.onMessageSent,mailboxUid:t.mailboxUid})}),Daria.actions.define("quick-reply.close",function(e,t){t.shouldSaveDraft?Daria.React.QuickReply.saveDraftAndDestroy():Daria.React.QuickReply.destroy()}),Daria.actions.define("message.scrollMessageBody",function(e,t){Object(i.a)(t.anchor,t.messageBody)})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e,t){var r=t.closest(Daria.is3pane()?".js-message-scroll-area":".js-messages-scroll-area"),n=r.scrollTop,i=!Daria.isMessagePage(),o=document.getElementById("js-mail-layout-content-header").offsetHeight,a=Daria.isThreadOpenedInList()?(Daria.is3pane(),48):66,s=(i?a:0)+o;Jane.DOM.placeInViewport(e,{top:s-n},{nodePositionBelow:"top",nodePositionAbove:"top"},r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1075);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var a=null;Daria.actions.define("mail-common.abook-person-popup",function(e,t){a?a=null:Jane.Services.run("#contacts",function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var r,o,s,l,u,c,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("abook-contact",{email:t.email});case 3:if(r=e.sent,o=i(r,1),s=o[0],l=s.get(".cid"),u=s.get(".isShared"),t.shared=u,t.ref){e.next=19;break}if(c=s.get(".email"),Array.isArray(c)){e.next=13;break}return e.abrupt("return");case 13:if(!(d=c.find(function(e){return e.value===t.email}))||!d.ref){e.next=18;break}t.ref=d.ref,e.next=19;break;case 18:return e.abrupt("return");case 19:l&&!u&&(t.cid=l),a=ns.View.create("abook-person-popup"),f=Daria.is2pane()?{where:t.node,how:{my:"left top",at:"left-52 top-5"}}:{where:$(window),how:{my:"center",at:"center"}},a.on("ns-view-destroyed",function(){a=null}),a.open(f,t),g=t.shared?"общий":"личный",Daria.vAbook.Metrika.c("Карточка контакта","В Почте",g,"показ карточки (клик на контакт)"),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),Object(n.logAbookContactPopupOpenError)();case 31:case"end":return e.stop()}},e,null,[[0,28]])})))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=(r.n(n),r(994)),o=r(376);i.scope("file-icon-svg",r(3174)),i.scope("attach-icons-svg",r(1010)),i.scope("file-icon-png",Object.assign({},r(3273),r(3284),r(3334))),i.scope("collector-icon",r(3384)),i.scope("lang-icon",r(3398)),i.scope("social-icon",r(3411)),i.scope("promo-mobile",r(3416)),i.scope("theme-thumb",r(1450)),i.default(function(e,t){return Jane.ErrorLog.send({type:n.ErrorType.Util,source:n.ErrorSource.Resource,sourceMethod:n.ErrorSourceMethod.Img,block:n.ErrorBlock.MailModule,method:"storage.default",message:"Missed image link",scope:e,link:t}),o})},function(e,t,r){e.exports={ai:r(3175),ai_small:r(3176),application:r(3177),application_small:r(3178),archive:r(3179),archive_small:r(3180),audio:r(3181),audio_small:r(3182),avi:r(3183),avi_small:r(3184),bmp:r(3185),bmp_small:r(3186),book:r(3187),book_small:r(3188),cdr:r(3189),cdr_small:r(3190),csv:r(3191),csv_small:r(3192),development:r(3193),development_small:r(3194),djvu:r(3195),djvu_small:r(3196),doc:r(3197),doc_small:r(3198),eml:r(3199),eml_small:r(3200),exe:r(3201),exe_small:r(3202),executable:r(3203),executable_small:r(3204),flash:r(3205),flash_small:r(3206),font:r(3207),font_small:r(3208),general:r(3209),general_small:r(3210),gif:r(3211),gif_small:r(3212),image:r(3213),image_small:r(3214),jpg:r(3215),jpg_small:r(3216),mail:r(3217),mail_small:r(3218),mov:r(3219),mov_small:r(3220),mp3:r(3221),mp3_small:r(3222),mp4:r(3223),mp4_small:r(3224),none:r(3225),none_small:r(3226),odp:r(3227),odp_small:r(3228),ods:r(3229),ods_small:r(3230),odt:r(3231),odt_small:r(3232),pcx:r(3233),pcx_small:r(3234),pdf:r(3235),pdf_small:r(3236),pls:r(3237),pls_small:r(3238),png:r(3239),png_small:r(3240),ppt:r(3241),ppt_small:r(3242),psd:r(3243),psd_small:r(3244),rar:r(3245),rar_small:r(3246),rtf:r(3247),rtf_small:r(3248),script:r(3249),script_small:r(3250),srt:r(3251),srt_small:r(3252),text:r(3253),text_small:r(3254),tiff:r(3255),tiff_small:r(3256),txt:r(3257),txt_small:r(3258),video:r(3259),video_small:r(3260),virus:r(3261),virus_small:r(3262),wav:r(3263),wav_small:r(3264),wma:r(3265),wma_small:r(3266),wmv:r(3267),wmv_small:r(3268),xls:r(3269),xls_small:r(3270),zip:r(3271),zip_small:r(3272)}},function(e,t,r){e.exports=r.p+"_/be0c25fae6f28871ac763354329b95c0-icon_file_ai.svg"},function(e,t,r){e.exports=r.p+"_/f48c196b35090778fcd477e08e7ee7e0-icon_file_ai_small.svg"},function(e,t,r){e.exports=r.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_application.svg"},function(e,t,r){e.exports=r.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_application_small.svg"},function(e,t,r){e.exports=r.p+"_/e1b9a3f82960aa508919fe237a05e938-icon_file_archive.svg"},function(e,t,r){e.exports=r.p+"_/e001ba25ace471c5669771848343c445-icon_file_archive_small.svg"},function(e,t,r){e.exports=r.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_audio.svg"},function(e,t,r){e.exports=r.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_audio_small.svg"},function(e,t,r){e.exports=r.p+"_/8e514b0d28a91fd04eff9577404451a0-icon_file_avi.svg"},function(e,t,r){e.exports=r.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_avi_small.svg"},function(e,t,r){e.exports=r.p+"_/456a8e721cd77154a6699e7ab5655af5-icon_file_bmp.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_bmp_small.svg"},function(e,t,r){e.exports=r.p+"_/5d935a130b81cdfcabe3dbadfa48170a-icon_file_book.svg"},function(e,t,r){e.exports=r.p+"_/dd5c671fd26662680451258c237b8235-icon_file_book_small.svg"},function(e,t,r){e.exports=r.p+"_/0291b4bf4b4bed1b3d56ecca41398618-icon_file_cdr.svg"},function(e,t,r){e.exports=r.p+"_/db96f6ba4a8c633573d89f2feb5a73b0-icon_file_cdr_small.svg"},function(e,t,r){e.exports=r.p+"_/0d159a3403cd2f0efe68f73cc07289bf-icon_file_csv.svg"},function(e,t,r){e.exports=r.p+"_/457edf14c8a4f290b46eaf2b8ea632a1-icon_file_csv_small.svg"},function(e,t,r){e.exports=r.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_development.svg"},function(e,t,r){e.exports=r.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_development_small.svg"},function(e,t,r){e.exports=r.p+"_/09363f31f78d4c871df33d35bb5b0c85-icon_file_djvu.svg"},function(e,t,r){e.exports=r.p+"_/ea531aff61a9f1a23c543b839bac6f6d-icon_file_djvu_small.svg"},function(e,t,r){e.exports=r.p+"_/1a99bbd3e99b024c0cbc135ee0e4dc14-icon_file_doc.svg"},function(e,t,r){e.exports=r.p+"_/8cbf23c524fd0c5f45d57c960c3b6070-icon_file_doc_small.svg"},function(e,t,r){e.exports=r.p+"_/9afffbf2bbe57e8fcac5e1496d7b2a2f-icon_file_eml.svg"},function(e,t,r){e.exports=r.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_eml_small.svg"},function(e,t,r){e.exports=r.p+"_/1654660480f76471a3e8851b40f3635f-icon_file_exe.svg"},function(e,t,r){e.exports=r.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_exe_small.svg"},function(e,t,r){e.exports=r.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_executable.svg"},function(e,t,r){e.exports=r.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_executable_small.svg"},function(e,t,r){e.exports=r.p+"_/e84256a31ce119f5270cc29d00ce112f-icon_file_flash.svg"},function(e,t,r){e.exports=r.p+"_/f718f32f7d223a305da6b06c4443f16a-icon_file_flash_small.svg"},function(e,t,r){e.exports=r.p+"_/71c442515253e2426d87d2b36987e58f-icon_file_font.svg"},function(e,t,r){e.exports=r.p+"_/d9124c687ef254b35068cdf927a0378f-icon_file_font_small.svg"},function(e,t,r){e.exports=r.p+"_/6fa94aa8ec8a4b95e4c704142d48ea06-icon_file_general.svg"},function(e,t,r){e.exports=r.p+"_/1a28827c5c9284f36ffe64786a98958d-icon_file_general_small.svg"},function(e,t,r){e.exports=r.p+"_/4c62fa51e072aa2b518fe2a6d9bb7db8-icon_file_gif.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_gif_small.svg"},function(e,t,r){e.exports=r.p+"_/ae33662f545add06634646f8bfb3e589-icon_file_image.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_image_small.svg"},function(e,t,r){e.exports=r.p+"_/32ce8c6772ddda003a3a0852e3c94740-icon_file_jpg.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_jpg_small.svg"},function(e,t,r){e.exports=r.p+"_/4ccfbf5ff7ce7a45c862efb1b4d6b653-icon_file_mail.svg"},function(e,t,r){e.exports=r.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_mail_small.svg"},function(e,t,r){e.exports=r.p+"_/b2f512ff88f79b3294b4efe2d4a8b5b8-icon_file_mov.svg"},function(e,t,r){e.exports=r.p+"_/9b2fab88f730b87482cd0e9e63cf7d09-icon_file_mov_small.svg"},function(e,t,r){e.exports=r.p+"_/d9790f047adc4b433d6e6a158e4a4af9-icon_file_mp3.svg"},function(e,t,r){e.exports=r.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_mp3_small.svg"},function(e,t,r){e.exports=r.p+"_/651a574e29a9bd70e69a08aa35d465a4-icon_file_mp4.svg"},function(e,t,r){e.exports=r.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_mp4_small.svg"},function(e,t,r){e.exports=r.p+"_/43e6719ba9a6203e8c272a504e310664-icon_file_none.svg"},function(e,t,r){e.exports=r.p+"_/7a3ef1ba2a6c113d7179d418ddf6c734-icon_file_none_small.svg"},function(e,t,r){e.exports=r.p+"_/492af986844dd66c7c9c08faeaa261be-icon_file_odp.svg"},function(e,t,r){e.exports=r.p+"_/85a46315bf57cef959688396f751e0a5-icon_file_odp_small.svg"},function(e,t,r){e.exports=r.p+"_/a01de41907a6b40d2d5e833cff78bb95-icon_file_ods.svg"},function(e,t,r){e.exports=r.p+"_/6b6cb9ca67b2292a46b4887dc271df03-icon_file_ods_small.svg"},function(e,t,r){e.exports=r.p+"_/fe5ea288f8a12b89077a166baa72be67-icon_file_odt.svg"},function(e,t,r){e.exports=r.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_odt_small.svg"},function(e,t,r){e.exports=r.p+"_/3a56b52fcac35e27a41edc34c5bdf140-icon_file_pcx.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_pcx_small.svg"},function(e,t,r){e.exports=r.p+"_/63407042e1ac46ce84554920cb97a928-icon_file_pdf.svg"},function(e,t,r){e.exports=r.p+"_/6ace91f4a13ebbf531a5e5069350d460-icon_file_pdf_small.svg"},function(e,t,r){e.exports=r.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_pls.svg"},function(e,t,r){e.exports=r.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_pls_small.svg"},function(e,t,r){e.exports=r.p+"_/dbe8f2ed099d49557498dc3aeb694704-icon_file_png.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_png_small.svg"},function(e,t,r){e.exports=r.p+"_/249a420c64848c72217e2a184e43f73f-icon_file_ppt.svg"},function(e,t,r){e.exports=r.p+"_/209a4e8c1eb1d90a0651a98a085c9813-icon_file_ppt_small.svg"},function(e,t,r){e.exports=r.p+"_/1f8f597c9f16a782c31b466838ed961a-icon_file_psd.svg"},function(e,t,r){e.exports=r.p+"_/a1774f9682616e982d234977286a4186-icon_file_psd_small.svg"},function(e,t,r){e.exports=r.p+"_/545a441216bf5ee80228510904eb116e-icon_file_rar.svg"},function(e,t,r){e.exports=r.p+"_/e001ba25ace471c5669771848343c445-icon_file_rar_small.svg"},function(e,t,r){e.exports=r.p+"_/e63b78a5db4059aaee2b0a26c1e3391d-icon_file_rtf.svg"},function(e,t,r){e.exports=r.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_rtf_small.svg"},function(e,t,r){e.exports=r.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_script.svg"},function(e,t,r){e.exports=r.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_script_small.svg"},function(e,t,r){e.exports=r.p+"_/18c4518b36edd61c4117de5697e34d9a-icon_file_srt.svg"},function(e,t,r){e.exports=r.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_srt_small.svg"},function(e,t,r){e.exports=r.p+"_/87f98559ca8423415305508060e154df-icon_file_text.svg"},function(e,t,r){e.exports=r.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_text_small.svg"},function(e,t,r){e.exports=r.p+"_/76f469d93774a8ee072e54a77d1316fb-icon_file_tiff.svg"},function(e,t,r){e.exports=r.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_tiff_small.svg"},function(e,t,r){e.exports=r.p+"_/770496b1f8ba497f7932345b0fa99c51-icon_file_txt.svg"},function(e,t,r){e.exports=r.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_txt_small.svg"},function(e,t,r){e.exports=r.p+"_/625b0925dfad9ad67792f8713df2c64d-icon_file_video.svg"},function(e,t,r){e.exports=r.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_video_small.svg"},function(e,t,r){e.exports=r.p+"_/6ef89e854963e20536e4f8aa660df196-icon_file_virus.svg"},function(e,t,r){e.exports=r.p+"_/fd66b38f0fc39f598ef72d85a581214e-icon_file_virus_small.svg"},function(e,t,r){e.exports=r.p+"_/1929081a1ef2320eafe37d6b9dd4054f-icon_file_wav.svg"},function(e,t,r){e.exports=r.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wav_small.svg"},function(e,t,r){e.exports=r.p+"_/ec94740e3493d44a0c0e871562ead7d8-icon_file_wma.svg"},function(e,t,r){e.exports=r.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wma_small.svg"},function(e,t,r){e.exports=r.p+"_/7ff1c6877301e0d2ee8cbb522fbfabad-icon_file_wmv.svg"},function(e,t,r){e.exports=r.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_wmv_small.svg"},function(e,t,r){e.exports=r.p+"_/1cbe1eb3da20a035610f7ae750e50507-icon_file_xls.svg"},function(e,t,r){e.exports=r.p+"_/beeb326ca3093a4cdf78631cf84d9777-icon_file_xls_small.svg"},function(e,t,r){e.exports=r.p+"_/7f653b60b459526c425e4e0a9d8ab1f4-icon_file_zip.svg"},function(e,t,r){e.exports=r.p+"_/e001ba25ace471c5669771848343c445-icon_file_zip_small.svg"},function(e,t,r){e.exports={"bigmail-48":r(3274),"blue-48":r(3275),"blue-al-48":r(3276),"blue-ar-48":r(3277),"camera-48":r(3278),"grey-48":r(3279),"narod-48":r(3280),"shared-foreign-48":r(3281),"shared-own-48":r(3282),"trash-48":r(3283)}},function(e,t,r){e.exports=r.p+"_/f091745b85a1b5a234262d98639f7977-b-mail-icon_bigmail-48.png"},function(e,t,r){e.exports=r.p+"_/fc6dedd3b3a5a8293ed040b648e45336-b-mail-icon_blue-48.png"},function(e,t,r){e.exports=r.p+"_/6d7e2b20aade0b9c2125ffdaba2f3879-b-mail-icon_blue-al-48.png"},function(e,t,r){e.exports=r.p+"_/85778cc2db9a7ac21ec2088b0e7576b3-b-mail-icon_blue-ar-48.png"},function(e,t,r){e.exports=r.p+"_/e3f41f309ccedf920fcf875c6859dc3f-b-mail-icon_camera-48.png"},function(e,t,r){e.exports=r.p+"_/9187087411a527777d76816620717fd3-b-mail-icon_grey-48.png"},function(e,t,r){e.exports=r.p+"_/0d93c6d7721c7992e63eb3d752498f8d-b-mail-icon_narod-48.png"},function(e,t,r){e.exports=r.p+"_/fa673c965dd4d8ea80f45948995212e5-b-mail-icon_shared-foreign-48.png"},function(e,t,r){e.exports=r.p+"_/dcdad2da9e9da84ebd34d544dd9713e8-b-mail-icon_shared-own-48.png"},function(e,t,r){e.exports=r.p+"_/f14d7be3bf0618dc524c5130570edfba-b-mail-icon_trash-48.png"},function(e,t,r){e.exports={"ai-48":r(3285),"application-48":r(3286),"archive-48":r(3287),"audio-48":r(3288),"avi-48":r(3289),"bmp-48":r(3290),"book-48":r(3291),"cdr-48":r(3292),"csv-48":r(3293),"development-48":r(3294),"djvu-48":r(3295),"doc-48":r(3296),"eml-48":r(3297),"exe-48":r(3298),"executable-48":r(3299),"flash-48":r(3300),"font-48":r(3301),"general-48":r(3302),"gif-48":r(3303),"image-48":r(3304),"jpg-48":r(3305),"mail-48":r(3306),"mov-48":r(3307),"mp3-48":r(3308),"mp4-48":r(3309),"none-48":r(3310),"odp-48":r(3311),"ods-48":r(3312),"odt-48":r(3313),"pcx-48":r(3314),"pdf-48":r(3315),"pls-48":r(3316),"png-48":r(3317),"ppt-48":r(3318),"psd-48":r(3319),"rar-48":r(3320),"rtf-48":r(3321),"script-48":r(3322),"srt-48":r(3323),"text-48":r(3324),"tiff-48":r(3325),"txt-48":r(3326),"video-48":r(3327),"virus-48":r(3328),"wav-48":r(3329),"wma-48":r(3330),"wmv-48":r(3331),"xls-48":r(3332),"zip-48":r(3333)}},function(e,t,r){e.exports=r.p+"_/4e385ef712d228d9bd5fbe4e830f697a-b-mail-icon_ai-48.png"},function(e,t,r){e.exports=r.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_application-48.png"},function(e,t,r){e.exports=r.p+"_/44c2a8cbb02c8be528236ad80e1c3749-b-mail-icon_archive-48.png"},function(e,t,r){e.exports=r.p+"_/5546dd99a85e195918ed35d203f00bd1-b-mail-icon_audio-48.png"},function(e,t,r){e.exports=r.p+"_/531db7f7386660dc96ed2480eea5e98d-b-mail-icon_avi-48.png"},function(e,t,r){e.exports=r.p+"_/e7828e1b92baaa31c9905542822c79d6-b-mail-icon_bmp-48.png"},function(e,t,r){e.exports=r.p+"_/8ed95b3dece205227bb9354a232d4e4e-b-mail-icon_book-48.png"},function(e,t,r){e.exports=r.p+"_/a125276886063d2dd348dbfa5d4ef608-b-mail-icon_cdr-48.png"},function(e,t,r){e.exports=r.p+"_/8a101e1a660d145ef0542dfeac76da22-b-mail-icon_csv-48.png"},function(e,t,r){e.exports=r.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_development-48.png"},function(e,t,r){e.exports=r.p+"_/f1610434d25a0845ef89e10af2ca09e9-b-mail-icon_djvu-48.png"},function(e,t,r){e.exports=r.p+"_/50b19213ee10e722bd0f0dfe6b45abfb-b-mail-icon_doc-48.png"},function(e,t,r){e.exports=r.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_eml-48.png"},function(e,t,r){e.exports=r.p+"_/deda913cb7b171cd185ee662287e3a99-b-mail-icon_exe-48.png"},function(e,t,r){e.exports=r.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_executable-48.png"},function(e,t,r){e.exports=r.p+"_/f56d2249fc66d6e045d9e47209b0d74c-b-mail-icon_flash-48.png"},function(e,t,r){e.exports=r.p+"_/75702f8ffcf90cb4a8c265f912bb2fb3-b-mail-icon_font-48.png"},function(e,t,r){e.exports=r.p+"_/83abfae7075037224e16a9856f1515d4-b-mail-icon_general-48.png"},function(e,t,r){e.exports=r.p+"_/7d3a81c7159dc88073d2c8b68869454c-b-mail-icon_gif-48.png"},function(e,t,r){e.exports=r.p+"_/b30d721e5ec76d5df6e9f5a15f2a8b84-b-mail-icon_image-48.png"},function(e,t,r){e.exports=r.p+"_/70c29e00d2a9726e144663682092d3f2-b-mail-icon_jpg-48.png"},function(e,t,r){e.exports=r.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_mail-48.png"},function(e,t,r){e.exports=r.p+"_/fa85671858f6608a793c6b096013063d-b-mail-icon_mov-48.png"},function(e,t,r){e.exports=r.p+"_/eea5f29ba3d27dcc00790eea34ccbc4a-b-mail-icon_mp3-48.png"},function(e,t,r){e.exports=r.p+"_/7863254ebbc5c8c78d6684036dd56e54-b-mail-icon_mp4-48.png"},function(e,t,r){e.exports=r.p+"_/865da2b10d5c239280d12a6a2d1cfc56-b-mail-icon_none-48.png"},function(e,t,r){e.exports=r.p+"_/bb78c17d4956f3c27fb093d4cc9f2165-b-mail-icon_odp-48.png"},function(e,t,r){e.exports=r.p+"_/d2be1f2f1b208b727ab25d975a6aa242-b-mail-icon_ods-48.png"},function(e,t,r){e.exports=r.p+"_/3a6fa3be2bc661254803e1cec44d6a74-b-mail-icon_odt-48.png"},function(e,t,r){e.exports=r.p+"_/6f15de29744870eea9bbc45b4d169b8e-b-mail-icon_pcx-48.png"},function(e,t,r){e.exports=r.p+"_/fdec035fb674765bb14a832dfa0b7d71-b-mail-icon_pdf-48.png"},function(e,t,r){e.exports=r.p+"_/71e12247108f4576db7fe671dc7d6fa8-b-mail-icon_pls-48.png"},function(e,t,r){e.exports=r.p+"_/7bb7cd24c9c082144c869461098b942d-b-mail-icon_png-48.png"},function(e,t,r){e.exports=r.p+"_/90b3b830b932584838d1ac60e17410dc-b-mail-icon_ppt-48.png"},function(e,t,r){e.exports=r.p+"_/4f46be9bd8f9a9514aa95e1067d45bc3-b-mail-icon_psd-48.png"},function(e,t,r){e.exports=r.p+"_/f3fb7200d501406775330789bd1c5572-b-mail-icon_rar-48.png"},function(e,t,r){e.exports=r.p+"_/d1d14ac25b7f79969dcb8a6d144746bc-b-mail-icon_rtf-48.png"},function(e,t,r){e.exports=r.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_script-48.png"},function(e,t,r){e.exports=r.p+"_/9df67b0fb763e21eeb5c41fd90030d9a-b-mail-icon_srt-48.png"},function(e,t,r){e.exports=r.p+"_/66b914b832fe6c8fa067a5b0089b757d-b-mail-icon_text-48.png"},function(e,t,r){e.exports=r.p+"_/d89d636f51a2933563e5da67186214e3-b-mail-icon_tiff-48.png"},function(e,t,r){e.exports=r.p+"_/7220ce68b5ee138e632cafa81f524cf3-b-mail-icon_txt-48.png"},function(e,t,r){e.exports=r.p+"_/a613c67aa33b5fd98cbd92b34e68cd49-b-mail-icon_video-48.png"},function(e,t,r){e.exports=r.p+"_/64196e074946510cd6a0a972ca941cc9-b-mail-icon_virus-48.png"},function(e,t,r){e.exports=r.p+"_/2384c49baee44858d49e5ba8d3ae7deb-b-mail-icon_wav-48.png"},function(e,t,r){e.exports=r.p+"_/aadc497975dd4d130a89b5a2d7ec65db-b-mail-icon_wma-48.png"},function(e,t,r){e.exports=r.p+"_/82f77cdc49c93261ae20418b44bb07cd-b-mail-icon_wmv-48.png"},function(e,t,r){e.exports=r.p+"_/675e5e02afcbe8d1b60862d4bffbb326-b-mail-icon_xls-48.png"},function(e,t,r){e.exports=r.p+"_/ee0403d4a88e96ecc0c3d604bcbfa2c6-b-mail-icon_zip-48.png"},function(e,t,r){e.exports={"ai-96":r(3335),"application-96":r(3336),"archive-96":r(3337),"audio-96":r(3338),"avi-96":r(3339),"bmp-96":r(3340),"book-96":r(3341),"cdr-96":r(3342),"csv-96":r(3343),"development-96":r(3344),"djvu-96":r(3345),"doc-96":r(3346),"eml-96":r(3347),"exe-96":r(3348),"executable-96":r(3349),"flash-96":r(3350),"font-96":r(3351),"general-96":r(3352),"gif-96":r(3353),"image-96":r(3354),"jpg-96":r(3355),"mail-96":r(3356),"mov-96":r(3357),"mp3-96":r(3358),"mp4-96":r(3359),"none-96":r(3360),"odp-96":r(3361),"ods-96":r(3362),"odt-96":r(3363),"pcx-96":r(3364),"pdf-96":r(3365),"pls-96":r(3366),"png-96":r(3367),"ppt-96":r(3368),"psd-96":r(3369),"rar-96":r(3370),"rtf-96":r(3371),"script-96":r(3372),"srt-96":r(3373),"text-96":r(3374),"tiff-96":r(3375),"txt-96":r(3376),"video-96":r(3377),"virus-96":r(3378),"wav-96":r(3379),"wma-96":r(3380),"wmv-96":r(3381),"xls-96":r(3382),"zip-96":r(3383)}},function(e,t,r){e.exports=r.p+"_/48bfa0dee7eef7cf87c66a11b7d73eff-b-mail-icon_ai-96.png"},function(e,t,r){e.exports=r.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_application-96.png"},function(e,t,r){e.exports=r.p+"_/ca4a0528e4aa9ebae001edc512a3a670-b-mail-icon_archive-96.png"},function(e,t,r){e.exports=r.p+"_/bcac10759c4be79410c3d4de3d100268-b-mail-icon_audio-96.png"},function(e,t,r){e.exports=r.p+"_/2cd7518aee9e4446bc106dac12f65a99-b-mail-icon_avi-96.png"},function(e,t,r){e.exports=r.p+"_/cf2a0fd2dc42a46e0fef99c417039e59-b-mail-icon_bmp-96.png"},function(e,t,r){e.exports=r.p+"_/c399ce3cb6e0b3c01605692ba4440f8c-b-mail-icon_book-96.png"},function(e,t,r){e.exports=r.p+"_/a82045b44b9e51d865a8fa19ee80dab3-b-mail-icon_cdr-96.png"},function(e,t,r){e.exports=r.p+"_/ef1baf8e2912e51ae577820c5d29a6b8-b-mail-icon_csv-96.png"},function(e,t,r){e.exports=r.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_development-96.png"},function(e,t,r){e.exports=r.p+"_/7680f293494ce5833276c8dbd507ac57-b-mail-icon_djvu-96.png"},function(e,t,r){e.exports=r.p+"_/1426d27c6297d6b9ce5e84118c105a49-b-mail-icon_doc-96.png"},function(e,t,r){e.exports=r.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_eml-96.png"},function(e,t,r){e.exports=r.p+"_/1cbd4434134e53cb0f16e46d31584d9f-b-mail-icon_exe-96.png"},function(e,t,r){e.exports=r.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_executable-96.png"},function(e,t,r){e.exports=r.p+"_/33acc5a1a4f3812a0bc917ece06d94a0-b-mail-icon_flash-96.png"},function(e,t,r){e.exports=r.p+"_/659737cfafab5eff1b0a025a5343daa9-b-mail-icon_font-96.png"},function(e,t,r){e.exports=r.p+"_/ef432d2df3fd2d4818d65b3bd9de5047-b-mail-icon_general-96.png"},function(e,t,r){e.exports=r.p+"_/c0784b06bc7bc8a0f8d8eeb4e8f17329-b-mail-icon_gif-96.png"},function(e,t,r){e.exports=r.p+"_/51504742ad5fb671fc3083e3cac264ab-b-mail-icon_image-96.png"},function(e,t,r){e.exports=r.p+"_/8c3fb57b09910dcc21bf0f4a014e5676-b-mail-icon_jpg-96.png"},function(e,t,r){e.exports=r.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_mail-96.png"},function(e,t,r){e.exports=r.p+"_/4c831411ff9fa41d5e9ba39931488ba8-b-mail-icon_mov-96.png"},function(e,t,r){e.exports=r.p+"_/62a2a35587d6b61dcc18d0733083ef1f-b-mail-icon_mp3-96.png"},function(e,t,r){e.exports=r.p+"_/7a9838ac557c84c1e0c8097c3f286315-b-mail-icon_mp4-96.png"},function(e,t,r){e.exports=r.p+"_/f88a6bf72ea39effa43046d3aec327e4-b-mail-icon_none-96.png"},function(e,t,r){e.exports=r.p+"_/2b450534ed8d41646bf981ca1615e5af-b-mail-icon_odp-96.png"},function(e,t,r){e.exports=r.p+"_/f36f9954b74e58239dbc52ab944e533f-b-mail-icon_ods-96.png"},function(e,t,r){e.exports=r.p+"_/f513a1349b439dc39c88fcdf5e6aaa1c-b-mail-icon_odt-96.png"},function(e,t,r){e.exports=r.p+"_/320170650145c57245743df641921ede-b-mail-icon_pcx-96.png"},function(e,t,r){e.exports=r.p+"_/aad3d55899b7c5f38bfce9cfea1b3f5e-b-mail-icon_pdf-96.png"},function(e,t,r){e.exports=r.p+"_/0ee560e23f001c260f3414d8a190290e-b-mail-icon_pls-96.png"},function(e,t,r){e.exports=r.p+"_/83fe16725c9809514f618229a825f4f5-b-mail-icon_png-96.png"},function(e,t,r){e.exports=r.p+"_/9f0d56fad062a48591970a2f8e73f714-b-mail-icon_ppt-96.png"},function(e,t,r){e.exports=r.p+"_/9868804d06ad80df80953fb72c1e8f47-b-mail-icon_psd-96.png"},function(e,t,r){e.exports=r.p+"_/d0acba6652cc3e79c621ad290db87cde-b-mail-icon_rar-96.png"},function(e,t,r){e.exports=r.p+"_/e9084c3b7a3c76fcf1604bb6b0bd9d17-b-mail-icon_rtf-96.png"},function(e,t,r){e.exports=r.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_script-96.png"},function(e,t,r){e.exports=r.p+"_/76d3d42609d0e658bf4978f389fca70d-b-mail-icon_srt-96.png"},function(e,t,r){e.exports=r.p+"_/9c91697c9290a77141a8d69bac54912e-b-mail-icon_text-96.png"},function(e,t,r){e.exports=r.p+"_/7c389b93c4b813e2cfc931d5864c4215-b-mail-icon_tiff-96.png"},function(e,t,r){e.exports=r.p+"_/260dbdda0f9ca156edd19432b504d472-b-mail-icon_txt-96.png"},function(e,t,r){e.exports=r.p+"_/6c0386fa3508c7814aa5bcb902c753f0-b-mail-icon_video-96.png"},function(e,t,r){e.exports=r.p+"_/cb70ba9f5428704c6cf851b642c01b3e-b-mail-icon_virus-96.png"},function(e,t,r){e.exports=r.p+"_/31d309bd02cb7decb1149e63c5214d31-b-mail-icon_wav-96.png"},function(e,t,r){e.exports=r.p+"_/b142e97afd9db49149a06b14eac16267-b-mail-icon_wma-96.png"},function(e,t,r){e.exports=r.p+"_/0e622d34993b49b3222195f53cf1741a-b-mail-icon_wmv-96.png"},function(e,t,r){e.exports=r.p+"_/5049f31b6ad918d5977d03879f664ad7-b-mail-icon_xls-96.png"},function(e,t,r){e.exports=r.p+"_/1057b6af9481d314a64e8756ee872f46-b-mail-icon_zip-96.png"},function(e,t,r){e.exports={aol:r(3385),gmail:r(3386),hotmail:r(3387),mail:r(3388),mynet:r(3389),"narod-disk":r(3390),outlook:r(3391),qip:r(3392),rambler:r(3393),tutby:r(3394),yahoo:r(3395),yandex:r(3396),yandex_en:r(3397)}},function(e,t,r){e.exports=r.p+"_/a05626800a96abe8faaac1392a2ad337-aol.png"},function(e,t,r){e.exports=r.p+"_/9b1f923e766689d2be2243dbb486e189-gmail.png"},function(e,t,r){e.exports=r.p+"_/cbaa76e2094ee925756334cac36448cf-hotmail.png"},function(e,t,r){e.exports=r.p+"_/75c6df658cb90713f21ba17d08dddda9-mail.png"},function(e,t,r){e.exports=r.p+"_/3df72c8dfea553b3ce4fca279fd40c26-mynet.png"},function(e,t,r){e.exports=r.p+"_/bea3e69fc0e43f47278237c797c347d0-narod-disk.png"},function(e,t,r){e.exports=r.p+"_/e32fdbcbfcd12488359854854b05bd2a-outlook.png"},function(e,t,r){e.exports=r.p+"_/3ae9fc94cfc81852fbc0632d62db118e-qip.png"},function(e,t,r){e.exports=r.p+"_/1e98a3ac9550b9a9be26d946474907f4-rambler.png"},function(e,t,r){e.exports=r.p+"_/d9acaaef2a8b6ebe2de55e0958e26cd7-tutby.png"},function(e,t,r){e.exports=r.p+"_/16798af393b000d6660dcf9d40471f14-yahoo.png"},function(e,t,r){e.exports=r.p+"_/a59909a455d3f5fc2b7248f2a5efc17f-yandex.png"},function(e,t,r){e.exports=r.p+"_/4c43487a92bc3ccee98543a4c819701c-yandex_en.png"},function(e,t,r){e.exports={az:r(3399),be:r(3400),en:r(3401),hy:r(3402),ka:r(3403),kk:r(3404),ro:r(3405),ru:r(3406),tr:r(3407),tt:r(3408),uk:r(3409),uz:r(3410)}},function(e,t,r){e.exports=r.p+"_/6dd6e15c8551deb21373d19aea1d067c-b-mail-icon_lang-az.gif"},function(e,t,r){e.exports=r.p+"_/8677dfed64c931dd3b426727b005ce4e-b-mail-icon_lang-be.gif"},function(e,t,r){e.exports=r.p+"_/9287de8c1f93ef82114c0d52a5ecdd2c-b-mail-icon_lang-en.gif"},function(e,t,r){e.exports=r.p+"_/763ede66e8fd2ad17951261cfc18a737-b-mail-icon_lang-hy.gif"},function(e,t,r){e.exports=r.p+"_/541d340c43dffd331ea19453c505c151-b-mail-icon_lang-ka.gif"},function(e,t,r){e.exports=r.p+"_/48848f048d84b60111b5fe6e5f3ad29f-b-mail-icon_lang-kk.gif"},function(e,t,r){e.exports=r.p+"_/ffba23df3618cdb57029a2fdf372c043-b-mail-icon_lang-ro.gif"},function(e,t,r){e.exports=r.p+"_/1624dbd739e623729b99da358ec8d9de-b-mail-icon_lang-ru.gif"},function(e,t,r){e.exports=r.p+"_/9d864c518442b77e5f7460f1124fc91a-b-mail-icon_lang-tr.gif"},function(e,t,r){e.exports=r.p+"_/13ea19e44b02151cd968a9329361e33d-b-mail-icon_lang-tt.gif"},function(e,t,r){e.exports=r.p+"_/d022e48f407b2410e7fe528f79a8f2ff-b-mail-icon_lang-uk.gif"},function(e,t,r){e.exports=r.p+"_/7b924141e38e5f89b0c8335e296d3ace-b-mail-icon_lang-uz.gif"},function(e,t,r){e.exports={"facebook.com":r(3412),"moikrug.ru":r(3413),"my.mail.ru":r(3414),"odnoklassniki.ru":r(3415)}},function(e,t,r){e.exports=r.p+"_/967824736368482c7687caab03715e9d-b-site-icon_facebook.com-14.png"},function(e,t,r){e.exports=r.p+"_/82bf97fe3902f37dae35866fb89b4b84-b-site-icon_moikrug.ru-14.png"},function(e,t,r){e.exports=r.p+"_/482f2cfb194e122f2ea9ba9cbd892630-b-site-icon_my.mail.ru-14.png"},function(e,t,r){e.exports=r.p+"_/ba34f63cb7305df1f6c9969065eeb7f2-b-site-icon_odnoklassniki.ru-14.png"},function(e,t,r){e.exports={"MailAppLink-ru.png":r(3417),"MailAppLink-ru@2x.png":r(3418),"MailAppLink-en.png":r(3419),"MailAppLink-en@2x.png":r(3420),"MailAppLink-uk.png":r(3421),"MailAppLink-uk@2x.png":r(3422),"MailAppLink-tr.png":r(3423),"MailAppLink-tr@2x.png":r(3424),"MailAppLink2-ru.png":r(3425),"MailAppLink2-ru@2x.png":r(3426),"MailAppLink2-en.png":r(3427),"MailAppLink2-en@2x.png":r(3428),"MailAppLink2-uk.png":r(3429),"MailAppLink2-uk@2x.png":r(3430),"MailAppLink2-tr.png":r(3431),"MailAppLink2-tr@2x.png":r(3432),"MailAppLink3-ru.png":r(3433),"MailAppLink3-ru@2x.png":r(3434),"MailAppLink3-en.png":r(3435),"MailAppLink3-en@2x.png":r(3436),"MailAppLink3-uk.png":r(3437),"MailAppLink3-uk@2x.png":r(3438),"MailAppLink3-tr.png":r(3439),"MailAppLink3-tr@2x.png":r(3440)}},function(e,t,r){e.exports=r.p+"_/80e0e2a71f3c5a3e71578ec4b68d1de9-Devices_ru.png"},function(e,t,r){e.exports=r.p+"_/efb907fc047ee920cd91223b1c6fef0e-Devices_ru@2x.png"},function(e,t,r){e.exports=r.p+"_/580cf7493354657f2d5517397977b9fd-Devices_en.png"},function(e,t,r){e.exports=r.p+"_/becf8b3cc644139ac1ec219d95f68288-Devices_en@2x.png"},function(e,t,r){e.exports=r.p+"_/5d097f13a1a63c488cddb98cda8d71db-Devices_uk.png"},function(e,t,r){e.exports=r.p+"_/faeed2756a72fc30cb2296205fe190cd-Devices_uk@2x.png"},function(e,t,r){e.exports=r.p+"_/13cb0f59af2b71261987ca4db82c334d-Devices_tr.png"},function(e,t,r){e.exports=r.p+"_/d6e8f0b205c356e49fc9e592c98f5138-Devices_tr@2x.png"},function(e,t,r){e.exports=r.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_ru.png"},function(e,t,r){e.exports=r.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_ru@2x.png"},function(e,t,r){e.exports=r.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_en.png"},function(e,t,r){e.exports=r.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_en@2x.png"},function(e,t,r){e.exports=r.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_uk.png"},function(e,t,r){e.exports=r.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_uk@2x.png"},function(e,t,r){e.exports=r.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_tr.png"},function(e,t,r){e.exports=r.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_tr@2x.png"},function(e,t,r){e.exports=r.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_ru.png"},function(e,t,r){e.exports=r.p+"_/59280953766869356019e8a69c5218c5-Devices3_ru@2x.png"},function(e,t,r){e.exports=r.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_en.png"},function(e,t,r){e.exports=r.p+"_/59280953766869356019e8a69c5218c5-Devices3_en@2x.png"},function(e,t,r){e.exports=r.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_uk.png"},function(e,t,r){e.exports=r.p+"_/59280953766869356019e8a69c5218c5-Devices3_uk@2x.png"},function(e,t,r){e.exports=r.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_tr.png"},function(e,t,r){e.exports=r.p+"_/59280953766869356019e8a69c5218c5-Devices3_tr@2x.png"},function(e,t,r){r(3442),r(3443),r(3444),r(3445),r(3446),r(3447),r(3448),r(3450),r(3451),r(3452),r(3453),r(3454),r(3455),r(3456),r(3457),r(3458),r(3459),r(3460),r(3461),r(3462),r(3463),r(3464),r(3465),r(3466),r(3467),r(3468),r(3469),r(3470),r(3471),r(3472),r(3473),r(3474),r(3475),r(3476),r(3477),r(3478),r(3479),r(3480),r(3481),r(3482),r(3483),r(3484),r(3485),r(3486),r(3487),r(3488),r(3489),r(3490),r(3494),r(3495),r(3496),r(3497),r(3498),r(3499),r(3500),r(3501),r(3502),r(3503),r(3504),r(3505),r(3506),r(3507),r(3508),r(3509),r(3510),r(3511),r(3512),r(3513),r(3514),r(3515),r(3516),r(3518),r(3519),r(3520),r(3521),r(3522),r(3523),r(3524),r(3525),r(3526),r(3529),r(3530),r(3531),r(3532),r(3533),r(3534),r(3535),r(3536),r(3537),r(3538),r(3539),r(3540),r(3541),r(3542),r(3543),r(3544),r(3545),r(3546),r(3547),r(3548),r(3549),r(3550),r(3551),r(3552),r(3553),r(3554),r(3555),r(3556),r(3557),r(3558),r(3559),r(3560),r(3561),r(3562),r(3563),r(3564),r(3565),r(3566),r(3567),r(3568),r(3569),r(3570),r(3571),r(3572),r(3573),r(3574),r(3575),r(3576),r(3577),r(3578),r(3579),r(3580),r(3581),r(3582),r(3583),r(3584),r(3585),r(3586),r(3587),r(3588),r(3589),r(3590),r(3591),r(3592),r(3593),r(3594),r(3595),r(3596),r(3597),r(3598),r(3599),r(3600),r(3601),r(3602),r(3603),r(3613),r(3614),r(3615),r(3616),r(3617),r(3618),r(3619)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(135),i=(r.n(n),r(136));r.n(i);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,t){return Object(n.set)(e,t,!0)},t)};ns.Model.define("checkbox-tree-state",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){this.setData({subscribedFolders:ns.Model.get("settings").getSign("subscribed_folders"),subscribedTabs:ns.Model.get("settings").getSign("subscribed_tabs"),hashOfFoldedFids:{}})},getFolderTree:function(){return Object(n.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder)[0])},getOnlyUserFoldersTree:function(){return{items:Object(n.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder,!0,!0)).map(function(e){return e.level-=1,e})}},getFoldersTabsList:function(){return ns.Model.get("tabs").getFoldersTabsList()},filterFolder:function(e){return!e.shared},getSelectedFids:function(){return this.get(".subscribedFolders")},getSelectedTabIds:function(){return this.get(".subscribedTabs")},setSelectedFids:function(e,t){t=t||{},this.set(".subscribedFolders",e.sort(),t)},setSelectedTabIds:function(e,t){t=t||{},this.set(".subscribedTabs",e.sort(),t)},isSelectionEmpty:function(){return 0===this.getSelectedFids().length},isSelectionTabsEmpty:function(){return 0===this.getSelectedTabIds().length},isAllSelectionEmpty:function(){return Daria.areFoldersTabsEnabled()?this.isSelectionEmpty()&&this.isSelectionTabsEmpty():this.isSelectionEmpty()},isSelected:function(e){return-1!==this.getSelectedFids().indexOf(e)},isTabSelected:function(e){return-1!==this.getSelectedTabIds().indexOf(e)},areAllFoldersSelected:function(e){var t=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),r=this.getFidsOfInboxWithSubfolders(),n=e?r.filter(function(e){return e!==t}):r;return this.getSelectedFids().length===n.length},areAllTabsSelected:function(){return this.getSelectedTabIds().length===ns.Model.get("tabs").getFoldersTabsIds().length},areAllSelected:function(){return Daria.areFoldersTabsEnabled()?this.areAllFoldersSelected(!0)&&this.areAllTabsSelected():this.areAllFoldersSelected()},getFidsOfInboxWithSubfolders:function(){return this.getFidsOfFolderAndSubfolders(this.getFolderTree())},calcSelectedFids:function(e,t,r){var n=e.fid;if(n===t)return r?this.getFidsOfFolderAndSubfolders(e):[];var i=(e.items||[]).reduce(function(e,n){return e.concat(this.calcSelectedFids(n,t,r))}.bind(this),[]);return this.isSelected(n)?i.concat(n):i},calcSelectedTabIds:function(e,t){var r=this,i=ns.Model.get("tabs").getFoldersTabsIds();return Object(n.filter)(i,function(n){var i=n===e&&t,o=n!==e&&r.getSelectedTabIds().indexOf(n)>=0;return i||o})},getFidsOfFolderAndSubfolders:function(e){var t=(e.items||[]).reduce(function(e,t){return e.concat(this.getFidsOfFolderAndSubfolders(t))}.bind(this),[]);return[e.fid].concat(t)},getHashOfSelectedFids:function(){return s(this.getSelectedFids())},getHashOfSelectedTabIds:function(){return s(this.getSelectedTabIds())},getHashOfHighlightedFids:function(){var e=this.setParentFids(this.getFolderTree()),t=this.getHashOfFolders(e);return this.getSelectedFids().reduce(function(e,r){return t[r]?s(t[r].parentFids):e},{})},getHashOfHighlightedTabIds:function(){return s(this.getSelectedTabIds())},_isInboxFolderWasSubscribed:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX);return this.isSelected(e)},_isInboxTabWasSubscribed:function(){return this.isTabSelected("relevant")},setParentFids:function(e,t){return e.parentFids=t||[],(e.items||[]).forEach(function(t){this.setParentFids(t,e.parentFids.concat(e.fid))},this),e},getHashOfFolders:function(e,t){return t=t||{},e.fid&&(t[e.fid]=e),(e.items||[]).forEach(function(r){t[r.fid]=e,this.getHashOfFolders(r,t)},this),t},serializeSelectedFids:function(){return JSON.stringify(this.getSelectedFids())},serializeSelectedTabsIds:function(){return JSON.stringify(this.getSelectedTabIds())},resetSelectedFids:function(){this.set(".subscribedFolders",ns.Model.get("settings").getSign("subscribed_folders"))},resetSelectedTabIds:function(){this.set(".subscribedTabs",ns.Model.get("settings").getSign("subscribed_tabs"))},reset:function(){this.resetSelectedFids(),Daria.areFoldersTabsEnabled()&&this.resetSelectedTabIds()},_resubscribe:function(){return Daria.PushManager.subscribe(this.getSelectedFids(),this.getSelectedTabIds(),!0)},resubscribeOnFoldersTabsNotifications:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ns.Model.get("settings").getSetting("browser_notify_message")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._updateSettings(t);case 5:return e.next=7,this._resubscribe();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),shouldSyncronizeInbox:function(e){return Boolean(Object.keys(e).length)},syncronizeInboxBetween:function(e){var t={};return e?this._isInboxFolderWasSubscribed()&&Object.assign(t,this._unsubscribeInboxFolder(),this._subscribeOnlyInboxTab()):this._isInboxTabWasSubscribed()?Object.assign(t,this._unsubscribeAllTabs(),this._subscribeInboxFolder()):this.getSelectedTabIds().length&&Object.assign(t,this._unsubscribeAllTabs()),t},_updateSettings:function(e){return ns.Model.get("settings").setSettings(e,{silent:!0})},_subscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids();return this.setSelectedFids([].concat(o(t),[e]),{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_unsubscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids(),r=Object(n.filter)(t,function(t){return t!==e});return this.setSelectedFids(r,{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_subscribeOnlyInboxTab:function(){return this.setSelectedTabIds(["relevant"],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}},_unsubscribeAllTabs:function(){return this.setSelectedTabIds([],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}}}},ns.ModelStatic)},function(e,t){ns.Model.define("captcha",{params:{type:null},methods:{preprocessData:function(e){return e.url&&(e.url=e.url.replace(/^https?:/,"")),e}}})},function(e,t){ns.Model.define("captcha-check",{params:{type:null,captcha_key:null,captcha_entered:null}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(401);ns.Model.define("model-with-scenario-manager-mixin",{methods:{scenarioManager:n.a}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(401);ns.Model.define("model-collection-with-scenario-manager-mixin",{methods:{scenarioManager:n.a}},ns.ModelCollection)},function(e,t){ns.Model.define("app-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({asideSizeKind:"maximum",pageClasses:{},timelineHeight:0,mailLayoutClientRect:null})},updatePageClasses:function(e){var t=this.get(".pageClasses"),r=Object.keys(e).filter(function(r){return t[r]!==e[r]});r.length&&this.set(".pageClasses",Object.assign({},t,_.pick(e,r)))},updateAsideKind:function(e){this.setIfChanged(".asideSizeKind",e)}}},ns.ModelStatic)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3449),i="app_badge_up_to_date_"+Daria.uid,o="function"==typeof navigator.setAppBadge&&"function"==typeof navigator.clearAppBadge,a=new n.a(i,1e4);ns.Model.define("app-badge-counter",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){o&&(this.update=a.debounced(this.update.bind(this),Vow.resolve()),ns.events.on("xiva.mail.update",this.update),ns.events.on("xiva.mail.insert",this.update))},_request:function(){var e=this;return ns.request.fetchModels([this],{_uid:void 0}).then(function(t){return ns.request.extractModel(e,t.models[0],t),e})},_setBadge:function(){this.data&&this.data.counters&&o&&navigator.clearAppBadge()},update:function(){var e=this;return o?this._request().then(function(){return e._setBadge(),e}):Vow.resolve()},getRequestParams:function(){return{uid:Daria.uid}},request:function(){return this.update()}}})},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return i});var i=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getCookieValue=_.memoize(function(){return Daria.getCookie(n.cookieName)},function(){return document.cookie}),this._markAsActive=function(){return Daria.setCookie(n.cookieName,1,{expires:new Date(Date.now()+n.timeout).toGMTString(),path:"/"})},this._canExecuteNow=function(){return!n._getCookieValue()},this._postponeExecution=function(e){setTimeout(function(){n._canExecuteNow()&&n._exec(e)},n.timeout+50)},this._exec=function(e){return n._markAsActive(),e()},this.cookieName=t,this.timeout=r}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"debounced",value:function(e,t){var r=this;return function(){return r._canExecuteNow()?r._exec(e):(r._postponeExecution(e),t)}}}]),e}()},function(e,t){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(){var e={inbox:"Messages",mail:"Mail",search:"Search",contacts:"Contacts",disk:"Disc",money:"Money",portal:"Connect",q:"Q",calendar:"Calendar",wiki:"Wiki",staff:"Staff",invite:"Invite"};ns.Model.define("user-dropdown-data",{methods:{getData:function(){var t=this.data||{};if(t.services=[],!Daria.CompactMode.isCompactHeader())return t;var r=Daria.IS_CORP?function(e){var t=[{id:"calendar",content:i18n("%Tab_calendar"),href:Daria.Config["calendar-url"]},{id:"invite",content:i18n("%Tab_invite"),href:Daria.Config["calendar-url"]+"/invite/"}];return"abook"===e?t.push({id:"mail",content:i18n("%Tab_mail"),href:"#inbox"}):t.push({id:"contacts",content:i18n("%Tab_contacts"),href:"#contacts"}),t}(Daria.router.getCurrentPage()):ns.Model.get("index-data").get(".tabs.head");return t.services=r.map(function(t){return{url:t.href,title:t.content,metrikaTitle:e[t.id]}}),t},getFreshCountByUid:function(e){var t=this.get(".accounts"),r=0;return t&&t.some(function(t){return Number(t.uid)===Number(e)&&(r=Number(t["fresh-count"]||0),!0)}),r},setNewCountById:function(e,t){var r=this.getData();r&&Array.isArray(r.accounts)&&r.accounts.length&&(r.accounts.forEach(function(n,i){Number(n.uid)===Number(e)&&(r.accounts[i]["fresh-count"]=t)}),this.data=r)},getSumOfFresh:function(){var e=this.getData(),t=0;return e&&Array.isArray(e.accounts)&&e.accounts.length&&e.accounts.forEach(function(e){t+=Number(e["fresh-count"]||0)}),t},getFreshForDefault:function(){return this.getFreshCountByUid(Daria.uid)},addUnreadAccountsMids:function(e,t){var n=this.getUnreadAccountsMidsByUid(e),a=t.includes("[")?JSON.parse(t):t,s=Array.isArray(a)?a:[a];this.setIfChanged(".unreadAccountsMids",i({},this.getUnreadAccountsMids()||{},o({},e,[].concat(r(n),r(s)))))},deleteUnreadAccountsMids:function(e,t){var r=this.getUnreadAccountsMidsByUid(e),n=t.includes("[")?JSON.parse(t):t,a=Array.isArray(n)?n:[n];this.setIfChanged(".unreadAccountsMids",i({},this.getUnreadAccountsMids()||{},o({},e,r.filter(function(e){return!a.includes(e)}))))},getUnreadAccountsMidsByUid:function(e){var t=this.getUnreadAccountsMids();return t&&t[e]?t[e]:[]},getUnreadAccountsMids:function(){return this.get(".unreadAccountsMids")}}})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(343),i=(r.n(n),r(340));r.n(i);ns.Model.define("abook-groups",{events:{"ns-model-changed":function(){var e=this.getData(),t=jpath(e,'.tag[.type == "system" && .title == "Phone"]')[0];t&&(t.type="phone",t.title=i18n("%AK_Phone_Contacts")),this.data=e}},methods:{RETRY_LIMIT:1,getGroupByTitle:function(e){return jpath(this.data,'.tag[.title == "'+e+'"]')[0]},getGroupByTid:function(e){return jpath(this.data,'.tag[.tid == "'+e+'"]')[0]},getContactsCount:function(e){var t=e.mcids.map(this._getCid);return _.uniq(t).length},isPhoneGroup:function(e){return"phone"===this.getGroupByTid(e).type},getPhoneGroupTid:function(){var e=this.getData(),t=jpath(e,'.tag[.type == "phone"]')[0];return t&&t.tid},addToGroup:function(e){var t=this,r={tids:[e.tid],mcids:e.mcids,action:"add"};return this.isPhoneGroup(e.tid)&&(r.mcids=_.uniq(r.mcids.map(this._getCid))),this._doGroupAction(r).then(function(){var o=t.getGroupByTid(e.tid).title;Object(i.showSuccessMessage)(n.StatuslineName.AbookContactsAddedToGroup,i18n("%AK_contacts_added_to_group",t.getContactsCount(r),o))})},removeFromGroup:function(e){return this._doGroupAction({tids:e.tids,mcids:e.mcids,action:"rm"})},_getCid:function(e){return String(e).split(".")[0]},_doGroupAction:function(e){var t=$.Deferred(),r=e.tids,n=e.mcids;if(r.length&&n.length){var i={tid:r,mcid:this._getSimpleMcids(n),action:e.action};return ns.forcedRequest("do-abook-group-edit-contacts",i).then(function(){Daria.Dropdown.closeAll(),["abook-groups","abook-contact","abook-contacts"].forEach(function(e){ns.Model.invalidate(e)}),t.resolve()}),t.promise()}},_getSimpleMcids:function(e){var t=this;return e.map(function(e){return Array.isArray(e)?e.map(t._simplifyMcid):t._simplifyMcid(e)})},_simplifyMcid:function(e){return String(e).split(".").slice(0,2).join(".")}}})},function(e,t){ns.Model.define("do-abook-group-add",{params:{title:null,mcid:null}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337);r.n(n);ns.Model.define("abook-contact",{params:{email:null,cid:null,shared:null,mailboxUid:null},paramsRewrite:function(e){return null!=e.cid?{cid:e.cid,shared:Daria.toIntFlag(e.shared)}:e},methods:{RETRY_LIMIT:1,preprocessData:function(e){if(Object(n.hasFeature)(n.Features.WEB_SMART_DISPLAY_NAME)&&e.name){var t=e.name,r=t.last,i=t.first,o=t.middle;e.name.full=[r,i,o].filter(Boolean).join(" ")}return e.birthdate||(e.birthdate=null),e},getContactInfo:function(e,t){e=e||{};var r=this.getData();return r?Daria.Abook.formatContactInfo(r,e,t):{}},getPhone:function(){return this.select(".phone.value")[0]||null},getMcids:function(e){var t=this,r=this.getData(),n=[];return this.eachEmailsByTid(e,function(e){n.push(t.getMcidByEmailId(e.id))}),n.length||(n=[String(r.cid)]),n},getMcidByEmailId:function(e){return"".concat(this.get(".cid"),".").concat(e,".").concat(this.isShared()?1:0)},eachEmailsByTid:function(e,t){var r=this.get(".email");if(_.isFunction(e)&&(t=e),e=Number(e),_.isFunction(t)){var n=ns.Model.get("abook-groups");_.each(r,function(r){if(!e||n.isPhoneGroup(e)||_(r.tags).contains(e))return t(r)})}},filterEmailsByTid:function(e){var t=this.get(".email");e=Number(e);var r=ns.Model.get("abook-groups");return!e||r.isPhoneGroup(e)?t:_(t).filter(function(t){if(_(t.tags).contains(e))return t}).value()},yateFilterEmailsByTid:function(e){return e=yr.nodeset2scalar(e),this.filterEmailsByTid(e)},yateGetMcidContacts:function(e){var t=this.yateFilterEmailsByTid(e),r=this.getData();return _.map(t,function(e){var t=_.clone(r);return t.email=[e],t})},getRefByEmail:function(e){var t=_.find(this.get(".email"),{value:e});return t?t.ref:void 0},getEmailByMcid:function(e){e=String(e);var t=Number(e.split(".")[1]),r=_.find(this.getData().email,{id:t});return r?r.value:null},getHeadEmail:function(){return this.select(".email.value")[0]||null},getName:function(){return this.get(".name.full")||(this.getHeadEmail()||"").split("@")[0]},getDepartment:function(){return this.get(".department")},getPosition:function(){return this.get(".title")},getCityAddress:function(){return this.get(".cityName")},getCompanyName:function(){return this.get(".orgName")},getManager:function(){return this.get(".manager")},isShared:function(){return this.get(".isShared")},isSharedLocal:function(){return this.get(".isSharedLocal")},isLocal:function(){return this.get(".isLocal")},findContactByPhone:function(e){var t=null;return ns.Model.traverse(this.id,function(r){t||r.getPhone()!==e||(t=r)}),t}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(343),i=(r.n(n),r(340));r.n(i);ns.Model.define("abook-contacts",{params:{q:null,extended:null,tid:null,emails:null,skip:null,pagesize:30,shared:null,type:null,mode:null},paramsRewrite:function(e){var t=_.extend({},e);return t.shared=Daria.toIntFlag(e.shared)||0,t.shared||delete t.shared,t},split:{items:".contact",params:{cid:".cid",shared:".isShared"},model_id:"abook-contact"},methods:{RETRY_LIMIT:1,_findContactData:function(e){var t=null;return ns.Model.traverse(this.id,function(r){t||r.models.some(function(r){return t=e(r)&&r.getData()})}),t},getContactDataByEmail:function(e){return this._findContactData(function(t){return _.some(t.get(".email"),{value:e})})},getContactDataByPhone:function(e){return this._findContactData(function(t){return _.some(t.get(".phone"),{value:e})})},getContactsInfoByEmails:function(e,t){var r=[],n=this;return t=t||{},_.each(e,function(e){var i=_.find(n.models,function(t){return _.find(t.get(".email"),{value:e})});i&&r.push(i.getContactInfo(t,{email:e}))}),r},_removeContact:function(e){var t=ns.Model.get("abook-contacts",Daria.router.getCurrentParams()),r=ns.Model.get("abook-contact",{cid:e,shared:!1});t.remove(r)},removeContacts:function(e){var t=Vow.promise();return e.forEach(function(e){var t=ns.Model.get("abook-contact",{cid:e,shared:!1});t.get(".email").forEach(function(e){ns.Model.get("abook-contact",{email:e.value}).invalidate()}),t.invalidate()}),e.forEach(this._removeContact),ns.forcedRequest(["do-abook-person-delete","abook-groups"],{cid:e}).then(function(e){var r=e[0],o=r.getError(),a=r.get(".deleted-items").length;o?(Object(i.showErrorMessage)(n.StatuslineName.AbookFailed,i18n("%АК_фэйл")),t.reject(o)):(Object(i.showSuccessMessage)(n.StatuslineName.AbookContactRemoved,i18n("%АК_Контактов_Удалено",a)),t.fulfill(e))}),t},loadMore:function(e){var t=this.models.length,r=_.extend({},this.params,{skip:t});if(e){var n=this.get(".pager.items-count");r.pagesize=n-t}return ns.request("abook-contacts",r).then(this._addModels,this)},_addModels:function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var r=t.get(".pager"),n=this.get(".pager");this.set(".pager",_.extend({},n,r),{silent:!0});var i=t.models;return this.insert(i),ns.Model.destroy(t),i},getCount:function(){return this.models.length},isEmptyList:function(){return this.isValid()&&0===this.getCount()}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337);r.n(n);ns.Model.define("abook-suggest",{params:{to:null,popup:null,domain:null,all:null,q:null,mcid:null,climit:null,glimit:null,useAbook:null,phone:null,popular:null,alternateOrder:Object(n.hasFeature)(n.Features.WEB_SMART_DISPLAY_NAME)?"1":"",mailboxUid:null},type:"js",ckey:!0,methods:{RETRY_LIMIT:1,getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return e.reqid=Daria.React.getSearchSessionId(),e}}})},function(e,t){ns.Model.define("abook-suggest-report",{params:{uid:null,q:null,section:null,title:null,id:null,mailboxUid:null},methods:{RETRY_LIMIT:1}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(333);ns.Model.define("abook-selected",{isCollection:!0,params:function(e){if("normal"!==e.type)return{};var t=ns.Model.getKeyAndParams("abook-contacts",e).params;return delete t.pagesize,t},events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},isFolderSelected:no.False,runOps:function(e,t){return Daria.COPS[e](this,t)},getCids:function(){return _.map(this.models,function(e){return Number(e.get(".cid"))})},containsEmail:function(){return _.some(this.models,function(e){var t=e.get(".email");return Array.isArray(t)&&t.length})},containsShared:function(){return _.some(this.models,function(e){return e.isShared()})},getContactsMcids:function(e){var t={};return _.each(this.models,function(r){t[r.get(".cid")]=r.getMcids(e)}),t},emailsToString:function(e){e=Number(e||0);var t=Daria.Constants.CONTACTS.DELIMITER;return _(this.models).filter(function(e){return Array.isArray(e.get(".email"))}).map(function(t){var r={},n=function(e){return r=e,!1};return e?t.eachEmailsByTid(e,n):t.eachEmailsByTid(n),Jane.FormValidation.obj2contact({email:r.value,name:t.get(".name.full")})}).join(t)},abookContactsToAbookMcidContacts:function(e,t,r,n){return _(e).map(function(e){var i=e.getMcids(t);return"number"==typeof r&&(i=[i[r]]),n?[this.abookContactToAbookMcidContact(e,i[0])]:_.map(i,function(t){return this.abookContactToAbookMcidContact(e,t)},this)},this).flatten().value()},abookContactToAbookMcidContact:function(e,t){var r=ns.Model.get("abook-mcid-contact",{mcid:t});return r.getData()||r.setData({cid:e.get(".cid"),mcid:t,name:e.getName(),email:e.getEmailByMcid(t),isShared:e.get(".isShared")}),r},isEmptyContactsList:function(){return ns.Model.get("abook-contacts",Daria.router.getCurrentParams()).isEmptyList()},isMcidSelected:function(e,t){return _.some(this.models,function(r){return r.get(".cid")===e&&r.get(".isShared")===t})},yateIsMcidSelected:function(e,t){return this.isMcidSelected(e,yr.nodeset2scalar(t))},isSelected:function(e){return _.some(this.models,function(t){return t===e})},selectAll:function(){this.clear();var e=ns.Model.get("abook-contacts",this.params);this.insert(e.models),this.reactSelectionChanged()},unselectAll:function(){this.clear(),this.reactSelectionChanged()},reactSelectionChanged:function(){Object(n.isB2BUser)()&&Daria.actions.run("react-abook.selection-changed")},getSelectedMcids:function(){return _.map(this.models,function(e){return e.get(".mcid")})}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("do-contact-add",{params:{first_name:null,middle_name:null,last_name:null,b_day:null,b_month1:null,b_year:null,descr:null,mail_addr:null,telephone_numbers:null,title:null,department:null,orgName:null,manager:null,cityName:null,tags:null}})},function(e,t){ns.Model.define("history-suggest",{params:{text:null},ckey:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);r.n(n);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ns.Model.define("account-information",{methods:{MAXAGE:72e5,preprocessData:function(e){return delete this._emails,Daria.ckey=e.ckey,this.refreshData(.8*this.MAXAGE),e},setError:function(){this.refreshData(30*Jane.Date.SECOND)},refreshData:function(e){window.clearTimeout(this._timer),this._timer=setTimeout(function(){ns.forcedRequest(["account-information"])},e)},getDataKey:function(e){return this.get("."+e)},getFromEmails:function(){return this.getAllUserEmails().filter(function(e){return"narod.ru"!==e.split("@")[1]})},getBeautifulEmail:function(){if(!Daria.Config.pddDomain){var e=this.get(".aliases");return e&&e[7]}},getFromDefaultEmail:function(){var e=this.getFromEmails(),t=this.get(".yandex_account")+"@"+Daria.Config["yandex-domain"];return t&&_.contains(e,t)||(t=e[0]||""),t},getAllUserEmails:function(){var e;try{e=this.getEmails().concat(ns.Model.get("settings").getValidatedEmails())}catch(e){Jane.ErrorLog.log({message:"User doesn't have email",type:n.ErrorType.NsModel,source:n.ErrorSource.Logic,sourceMethod:this.id,block:n.ErrorBlock.MailModule,method:"getAllUserEmails",key:this.key,modelData:o(this.data),modelStatus:this.status},e)}return e=this.sortEmails(_.uniq(e))},sortEmails:function(e){var t=/@/,r=new RegExp("(yandex|ya)\\.("+Daria.Config.domainZonesForReg+"|com\\.ua|рф|xn--p1ai)"),n={RUS:{1:/^ya\.ru$/,2:/^yandex\.ru$/},INT:{1:/^yandex\.com$/},TUR:{1:/^yandex\.com\.tr$/}},i=function(e){var t=n[Daria.Config.product];for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return Number(i);return r.test(e)?10:5},o=ns.Model.get("settings").getSetting("default_email");return e.sort(function(e,r){if(e===o)return-1;if(r===o)return 1;var n=e.split(t).pop(),a=r.split(t).pop(),s=i(n),l=i(a);return s!==l?s-l:e<r?-1:1}),e},getEmails:function(){var e=this;return this._emails||function(){for(var t=e.getDataKey("email"),r=[],n=e.getBeautifulEmail(),i=ns.Model.get("settings").getSetting("default_email"),o=i&&i.split("@")[0]||null,a=n&&i&&n.toLowerCase()===i.toLowerCase(),s=function(n,i){var s=t[n],l=s.login,u=l+"@"+s.domain,c=[];o&&l.toLowerCase()===o.toLowerCase()&&!a&&(l=o),r.push(u),Daria.Config.pddDomain||(c=e.getAlternateLogins([l])),c.length&&c.forEach(function(e){r.push(e+"@"+s.domain)})},l=0,u=t.length;l<u;l++)s(l);e._emails=r}(),this._emails},getAlternateLogins:function(e){return e.reduce(function(e,t){var r=t.indexOf(".")>-1,n=t.indexOf("-")>-1;return r&&e.push(t.replace(/\./g,"-")),n&&e.push(t.replace(/-/g,".")),e},[])},getDefaultLogins:function(){var e=this,t=this.getDataKey("email").filter(function(t){return"".concat(t.login,"@").concat(t.domain)!==e.getBeautifulEmail()}).map(function(e){return e.login});return i(new Set(t))},_isSameLogin:function(e,t){var r=[t].concat(i(this.getAlternateLogins(t)));return e=e.toLowerCase(),r.some(function(t){return e===t.toLowerCase()})},isMyEmail:function(e){return e=e.toLowerCase(),this.getAllUserEmails().some(function(t){return e===t.toLowerCase()})},getDigitalAlias:function(){return this.getDataKey("digital_login")},getTimezoneInHours:function(){return-this.getDataKey("tz_offset")*Jane.Date.MINUTE/Jane.Date.HOUR},getMA:function(){return this.get(".users")||[]},hasMA:function(){return this.getMA().length>0},isPG:function(){return"pg"===this.get(".db")},isSSO:function(){var e=this.get(".aliases");return Boolean(e&&e[24])},hasAppPasswordsEnabled:function(){return this.get(".hasAppPasswordsEnabled")}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=(r.n(n),r(329));function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ns.Model.define("address-information",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){return delete this._emails,e},getDataKey:function(e){return this.get("."+e)},_getDefaultEmailFromSettings:function(){return ns.Model.get("mailbox-settings").getSetting("default_email")},getFromEmails:function(){return this.getAllUserEmails().filter(function(e){return"narod.ru"!==e.split("@")[1]})},getBeautifulEmail:function(){if(!Daria.Config.pddDomain){var e=this.get(".aliases");return e&&e[7]}},getFromDefaultEmail:function(){var e=this.getFromEmails(),t=this.get(".yandex_account")+"@"+Daria.Config["yandex-domain"];return t&&_.contains(e,t)||(t=e[0]||""),t},getAllUserEmails:function(){var e;try{e=this.getEmails().concat(ns.Model.get("mailbox-settings").getValidatedEmails())}catch(e){Jane.ErrorLog.log({message:"User doesn't have email",type:n.ErrorType.NsModel,source:n.ErrorSource.Logic,sourceMethod:this.id,block:n.ErrorBlock.MailModule,method:"getAllUserEmails",key:this.key,modelData:a(this.data),modelStatus:this.status},e)}return e=this.sortEmails(_.uniq(e))},sortEmails:function(e){var t=/@/,r=new RegExp("(yandex|ya)\\.("+Daria.Config.domainZonesForReg+"|com\\.ua|рф|xn--p1ai)"),n={RUS:{1:/^ya\.ru$/,2:/^yandex\.ru$/},INT:{1:/^yandex\.com$/},TUR:{1:/^yandex\.com\.tr$/}},i=function(e){var t=n[Daria.Config.product];for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return Number(i);return r.test(e)?10:5},o=this._getDefaultEmailFromSettings();return e.sort(function(e,r){if(e===o)return-1;if(r===o)return 1;var n=e.split(t).pop(),a=r.split(t).pop(),s=i(n),l=i(a);return s!==l?s-l:e<r?-1:1}),e},getEmails:function(){var e=this;return this._emails||function(){for(var t=e.getDataKey("email"),r=[],n=e.getBeautifulEmail(),i=e._getDefaultEmailFromSettings(),o=i&&i.split("@")[0]||null,a=n&&i&&n.toLowerCase()===i.toLowerCase(),s=function(n,i){var s=t[n],l=s.login,u=l+"@"+s.domain,c=[];o&&l.toLowerCase()===o.toLowerCase()&&!a&&(l=o),r.push(u),Daria.Config.pddDomain||(c=e.getAlternateLogins([l])),c.length&&c.forEach(function(e){r.push(e+"@"+s.domain)})},l=0,u=t.length;l<u;l++)s(l);e._emails=r}(),this._emails},getAlternateLogins:function(e){return e.reduce(function(e,t){var r=t.indexOf(".")>-1,n=t.indexOf("-")>-1;return r&&e.push(t.replace(/\./g,"-")),n&&e.push(t.replace(/-/g,".")),e},[])},getDefaultLogins:function(){var e=this,t=this.getDataKey("email").filter(function(t){return"".concat(t.login,"@").concat(t.domain)!==e.getBeautifulEmail()}).map(function(e){return e.login});return o(new Set(t))},_isSameLogin:function(e,t){var r=[t].concat(o(this.getAlternateLogins(t)));return e=e.toLowerCase(),r.some(function(t){return e===t.toLowerCase()})},isMyEmail:function(e){return e=e.toLowerCase(),this.getAllUserEmails().some(function(t){return e===t.toLowerCase()})},hasAppPasswordsEnabled:function(){return this.get(".hasAppPasswordsEnabled")}}})},function(e,t){ns.Model.define("do-admsubscribe-calendar")},function(e,t){ns.Model.define("base-calendar-event",{methods:{getError:function(e){e&&e.error&&(e.data={error:e.error},delete e.error)},preprocessData:function(e){var t=no.jpath(".eventInfo.attendees",e);if(t&&t.length){var r=[],n=[],i=jpath(e,".eventInfo.organizer.email")[0];_.forEach(t,function(e){"yandexUser"===e.type||"externalUser"===e.type?e.email!==i&&(!e.name&&e.email&&(e.name=e.email.split("@")[0]),r.push(e)):"resource"===e.type&&n.push(e)}),e.eventInfo.organizer&&(e.eventInfo.organizer.isOrganizer=!0,r.unshift(e.eventInfo.organizer)),e.rooms=n,e.eventInfo.attendees=r,e.eventInfo.calendarUrl+="&uid=".concat(Daria.uid),e.isNotPast=!e.eventInfo.isPast,e.toCollapsedMessage="declined"!==e.eventInfo.decision&&!e.refusal,e.isNotOperate="undecided"===e.eventInfo.decision&&!e.eventInfo.isNoRsvp,e.showWidgetInMessageHead=!e.refusal&&Daria.IS_CORP&&!e.eventInfo.isPast,e.showRightPartOfWidget=!e.eventInfo.isCancelled||e.eventInfo.isCancelled&&e.eventInfo.repetitionDescription&&e.eventInfo.isPast;var o=e.eventInfo.repetitionDescription,a=e.eventInfo.start+Daria.getPassportTzOffset(),s=e.eventInfo.end+Daria.getPassportTzOffset();return e.eventInfo.eventTime=o?this.getTimeForRepeatEvents({start:a,end:s,repetitionDescription:o}):this.convertEventDates(a,s),e}},convertEventDates:function(e,t){if((t-e)/36e5<=24){var r=i18n("%Week_Full_Day",new Date(e).getDay()),n=Jane.Date.format("%Date_HM__colon",e),i=Jane.Date.format("%Date_HM__colon",t),o=i18n("%Message_Item_Event_Dates",n,i);return Jane.Date.format("%Date_dB",e)+", "+r+", "+o}var a=Jane.Date.format("%Date_dBY_year",e),s=Jane.Date.format("%Date_dBY_year",t),l=Jane.Date.format("%Date_HM__colon",e),u=Jane.Date.format("%Date_HM__colon",t);return i18n("%Message_Item_Event_Dates",a+" "+l,s+" "+u)},getTimeForRepeatEvents:function(e){var t=e.start,r=e.end,n=e.repetitionDescription,i=Jane.Date.format("%Date_HM__colon",t),o=Jane.Date.format("%Date_HM__colon",r);return i18n("%Message_Item_Event_Dates",i,o)+" "+n},getEventInfo:function(){return this.get(".eventInfo")}}})},function(e,t){ns.Model.define("dimensions",{events:{"ns-model-init":"_onInit"},methods:{DOC_HEIGHT_KEY:".document-height",DOC_WIDTH_KEY:".document-width",WIN_HEIGHT_KEY:".window-height",WIN_WIDTH_KEY:".window-width",_$document:null,_$window:null,_onInit:function(){this._$document=$(document),this._$window=$(window),this._$window.on("resize",_.throttle(this._onResize.bind(this),20)),this.clean()},getWindowScrollTop:function(){return this._$window.prop("pageYOffset")},getDocumentHeight:function(){var e=this.get(this.DOC_HEIGHT_KEY);return e||(e=this._$document.height(),this._setDimension(this.DOC_HEIGHT_KEY,e)),e},getDocumentWidth:function(){var e=this.get(this.DOC_WIDTH_KEY);return e||(e=this._$document.width(),this._setDimension(this.DOC_WIDTH_KEY,e)),e},getWindowHeight:function(){var e=this.get(this.WIN_HEIGHT_KEY);return e||(e=this._$window.height(),this._setDimension(this.WIN_HEIGHT_KEY,e)),e},getWindowWidth:function(){var e=this.get(this.WIN_WIDTH_KEY);return e||(e=this._$window.width(),this._setDimension(this.WIN_WIDTH_KEY,e)),e},clean:function(){this.setData({},{silent:!0})},_onResize:function(e){e.originalEvent&&e.originalEvent.data&&e.originalEvent.data.custom||(this.clean(),this.trigger("resize",e))},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}})},function(e,t,r){ns.Model.define("do-client-log",{params:{messages:null},methods:r(1451)})},function(e,t,r){ns.Model.define("do-journal-log",{params:{messages:null},methods:r(1451)})},function(e,t){ns.Model.define("do-init-compose",{})},function(e,t){ns.Model.define("do-service-worker-log",{params:{params:null}})},function(e,t){ns.Model.define("do-mail-reset-recent-counter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-messages",{params:{ids:null,tids:null,movefile:null,action:null,with_sent:null,fid:null,tabId:null,tab:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){var t=this.params.mailboxUid;if("notspam"===this.params.action&&Array.isArray(this.params.ids)){var r=this.params.ids.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:t})});ns.forcedRequest(r)}return e}}})},function(e,t){ns.Model.define("do-sanitize",{params:{content:null}})},function(e,t){ns.Model.define("do-settings",{params:{params:null}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-mailbox-settings",{params:{params:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-signs",{params:{signs:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("do-clean-suggest-history",{params:{all:null,request:null}})},function(e,t){ns.Model.define("do-staff-settings",{params:{lang_ui:null}})},function(e,t){ns.Model.define("do-enable-mail-pro-bonus",{})},function(e,t){ns.Model.define("do-disable-mail-pro-bonus",{})},function(e,t){ns.Model.define("index-data",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this._state="inbox"},_getTabsIds:function(e){return Array.isArray(e)?e.map(function(e){return e.id}).filter(function(e){return e}):[]},getAllTabsIds:function(){return{head:this._getTabsIds(this.get(".tabs.head")),more:this._getTabsIds(this.get(".tabs.more"))}}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("filters",{params:{master:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{getMasterRequest:function(){var e=this,t=ns.Model.get(this.id,_.assign({},this.params,{master:1}));return t.destroy(),t.once("ns-model-changed",function(){e.setData(this.getData())}),t},getFilters:function(){return this.get(".action")||[]},getById:function(e){return jpath(this.getFilters(),'.[.filid == "'+e+'"]')[0]},getForLabel:function(e){return jpath(this.getFilters(),'.[.actions.type == "movel" && .actions.parameter == "'+e+'"]')},getForFolder:function(e){return jpath(this.getFilters(),'.[.actions.type == "move" && .actions.parameter == "'+e+'"]')},getForCollector:function(e){return jpath(this.getFilters(),'.[.condition.div == "X-yandex-rpop-id" && .condition.pattern == "'+e+'"]')},getCountEnableFilters:function(){return jpath(this.getFilters(),'.action[.enable == "yes"]').length},hasCollectorFiltersWithFolder:function(){return jpath(this.getFilters(),'.[.condition.div == "X-yandex-rpop-id" && .actions.type == "move"]').length>0}}})},function(e,t){!function(){ns.Model.define("focus",{events:{"ns-model-init":"_onInit"},methods:{DEFAULT_COLUMN:1,DEFAULT_ITEM:0,indexColumns:{LEFT:0,MESSAGES:1,MESSAGE:2},preventOpenOnFocus:!1,isInitialized:!1,_onInit:function(){this._rebuild=this._rebuild.bind(this),this.setData({tree:[[],[],[]],itemIndex:null,columnIndex:null,currentFocus:null,lastFocus:[],lastActionFocus:{},pageParams:JSON.stringify(ns.Model.getKeyAndParams("messages",Daria.router.getCurrentParams()).params)}),this._buildTree(),this._setDefaultCoordinates(),ns.events.on("ns-page-after-load",this._rebuild),ns.events.on("daria:mFocus:buildTree",this._rebuild)},_rebuild:function(){this._buildTree(),this._updateFocus(),this.isInitialized||(this._setDefaultCoordinates(),this.isInitialized=!0)},_updateFocus:function(){var e=JSON.stringify(ns.Model.getKeyAndParams("messages",Daria.router.getCurrentParams()).params),t=this.get(".pageParams"),r=this.get(".columnIndex");this.set(".pageParams",e),r!==this.indexColumns.LEFT&&e!==t?this.resetFocus():this._recalculateFocus()},_buildTree:function(){Daria.DEBUG&&console.time("mFocus buildTree");var e=Daria.nsTreeWalker.getTreeForFocus();this.set(".tree",e);var t=this.get(".lastFocus").map(function(t,r){return t&&{focusView:t.focusView,itemIndex:e[r].indexOf(t.focusView)}});this.set(".lastFocus",t),Daria.DEBUG&&(console.timeEnd("mFocus buildTree"),console.log("mFocus tree",e))},_recalculateFocus:function(){if(this.hasFocus()){var e=this.get(".columnIndex"),t=this.get(".itemIndex"),r=this.get(".tree")[e],n=this.getFocus();if(-1===r.indexOf(n)){var i,o,a;if(Daria.is3pane()&&e===this.indexColumns.MESSAGE&&0===r.length&&this.get(".tree")[this.indexColumns.MESSAGES].length>0)r=this.get(".tree")[this.indexColumns.MESSAGES],i=this._getLastFocusedItemIndex(this.indexColumns.MESSAGES,!0),o=this.indexColumns.MESSAGES;else if(i=t,o=e,a=_.method("getParentReferenceParams")(n)){var s=_.findIndex(r,a);-1!==s&&(i=s)}i=Math.min(r.length-1,i),i=Math.max(i,0),this.set(".itemIndex",i),this.set(".columnIndex",o),this._setCurrentFocus(o,i)}}},_setDefaultCoordinates:function(){this.set(".itemIndex",this.DEFAULT_ITEM);var e=this.get(".tree"),t=this.DEFAULT_COLUMN;0===e[t].length&&(t=this.indexColumns.LEFT),this.set(".columnIndex",t)},setLastActionFocus:function(){var e=_.clone(this.get(".lastActionFocus"));_.isEmpty(e)||e.focusView&&e.focusView.isVisible()&&(this.pubEvent("blur"),this.set(".columnIndex",e.columnIndex),this.set(".itemIndex",e.itemIndex),this.set(".currentFocus",e.focusView),this._updateFocus(),this.pubEvent("focus"))},setPreventOpenOnFocus:function(e){void 0===e&&(e=!0),this.set(".preventOpenOnFocus",e)},getPreventOpenOnFocus:function(){return this.get(".preventOpenOnFocus")},resetFocus:function(e){this.pubEvent("blur"),this.set(".currentFocus",null),this.set(".itemIndex",this.DEFAULT_ITEM),e&&this.set(".columnIndex",this.DEFAULT_COLUMN);var t=_.clone(this.get(".lastFocus"));t[this.indexColumns.MESSAGES]=null,t[this.indexColumns.MESSAGE]=null,this.set(".lastFocus",t),this.set(".lastActionFocus",{}),this.set(".preventOpenOnFocus",!1)},clearFocus:function(){this.hasFocus()&&(this.pubEvent("blur"),this.set(".currentFocus",null)),this.set(".preventOpenOnFocus",!1)},changeItem:function(e,t){var r=this.get(".columnIndex"),n=this.get(".itemIndex"),i=this.get(".tree")[r];if(this.hasFocus()){var o=this.get(".currentFocus");if(Daria.Focus.needLazyScroll(o,e))Daria.Focus.lazyScroll(e);else{var a=i.length,s=i.indexOf(o);e?s++:s--,r!==this.indexColumns.MESSAGES||s!==a?s>=0&&s<a&&this._changeFocus(r,s,{select:t}):this._loadMoreMessages()}}else{if(r===this.indexColumns.MESSAGES&&!i[n]){var l=this._getFirstIndexForViews(i);l>=0&&(n=l)}this._changeFocus(r,n,{select:t})}},_loadMoreMessages:function(){ns.events.trigger("daria:vMessagesPager:messages-load")},changeColumn:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e?this._getNextColumnIndex():this._getPrevColumnIndex(),this.setColumn(t,r)},setColumn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.get(".columnIndex"),n=this.get(".tree").length;if((r!==e||!this.hasFocus())&&e>=0&&e<n){var i=this._getLastFocusedItemIndex(e);this._changeFocus(e,i,{scroll:!("scroll"in t)||t.scroll})}},_getNextColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),r=t.length,n=e,i=e+1;i<r;i++){if(t[i].length>0){n=i;break}}return n},_getPrevColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),r=e,n=e-1;n>=0;n--){if(t[n].length>0){r=n;break}}return r},_getLastFocusedItemIndex:function(e,t){var r=this.get(".tree")[e],n=this.get(".lastFocus")[e],i=null;if(n&&(-1!==(i=r.indexOf(n.focusView))||t?t&&(i=n.itemIndex):i=null),null===i&&e===this.indexColumns.MESSAGE){var o=r[0];if(o&&"message-thread-item-wrap"===o.id)return this._getFirstVisibleMessageInThread(r)}if(null===i&&e===this.indexColumns.MESSAGES){var a=this._getFirstIndexForViews(r);if(a>=0)return a}return i||0},_getFirstIndexForViews:function(e){var t=this._getOpenMessageIndex(e);if(t>=0)return t;var r=this._getFirstUnpinnedMessage(e);return r>=0?r:-1},_getFirstVisibleMessageInThread:function(e){for(var t=ns.Model.get("scroller-message").getVDimensions(),r=e.length,n={},i=0;i<r;i++){var o=e[i];if(o.isOpen()){var a=o.isVisibleInScroller(t,!1);if(a)return i;n[o.key]=a}}for(var s=0;s<r;s++){var l=e[s],u=n[l.key];if(_.isBoolean(u)){if(u)return s}else if(u=l.isVisibleInScroller(t,!1))return s}return 0},_getOpenMessageIndex:function(e){if(Daria.is3pane())return-1;for(var t=Daria.router.getCurrentParams(),r=t.ids||t.thread_id,n=0,i=e.length;n<i;n++){var o=e[n].getModel("message");if(o&&o.params.ids===r)return n}return-1},_getFirstUnpinnedMessage:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t].getModel("message");if(n&&!n.isPinned())return t}return-1},saveViewAsLastFocused:function(e,t){var r=this.get(".tree")[t].indexOf(e);this._saveLastFocusView(e,t,r)},_saveFocus:function(e,t){var r=this.get(".currentFocus");r&&this._saveLastFocusView(r,e,t)},_saveLastFocusView:function(e,t,r){var n=_.clone(this.get(".lastFocus"));n[t]={focusView:e,itemIndex:r},this.set(".lastFocus",n)},isFocusedInColumn:function(e,t){if(this.get(".columnIndex")===e)return this.getFocus()===t;var r=this.get(".lastFocus");return!!r&&(r[e]||{}).focusView===t},_saveLastActionFocus:function(e,t){var r=_.clone(this.get(".lastActionFocus")),n=this.get(".currentFocus");n&&(r={columnIndex:e,focusView:n,itemIndex:t},this.set(".lastActionFocus",r))},_changeFocus:function(e,t,r){var n=_.extend({scroll:!0,select:!1,show:!0},r),i=this.get(".columnIndex"),o=this.get(".itemIndex");if(i!==e&&this._saveFocus(i,o),this._saveLastActionFocus(i,o),this.set(".itemIndex",t),this.set(".columnIndex",e),this.set(".preventOpenOnFocus",!1),n.show){var a=this._setCurrentFocus(e,t);a&&(n.scroll&&a.node&&(Daria.Focus.needLazyScroll(a,!1)?Daria.Focus.lazyScroll(!1):Daria.Focus.scrollIntoView(a.$node,e)),n.select&&this.keyboardSelection(a.params.ids))}else this.clearFocus()},_setCurrentFocus:function(e,t){var r=_.get(this.get(".currentFocus"),".key"),n=this.get(".tree")[e][t];if(r!==_.get(n,".key"))return this.pubEvent("blur"),this.set(".currentFocus",n),this.pubEvent("focus"),n},pubEvent:function(e,t){var r=this.getFocus();if(!r)return!0;ns.assert(r.onFocusEvent,"View: "+r.id,"Не реализован метод #onFocusEvent()"),Daria.DEBUG&&console.log("mFocus","pubEvent",e,r),r.isValid()?(t=Object.assign({},t,{type:e}),"focus"===e&&this.get(".preventOpenOnFocus")&&(t.preventOpenOnFocus=!0),r.onFocusEvent(t)):Daria.DEBUG&&console.warn("mFocus",r.id+" невалиден","Событие "+e+" проигнорировано",r)},hasFocus:function(){return Boolean(this.get(".currentFocus"))},getFocus:function(){return this.get(".currentFocus")},getFocusOrDefault:function(){var e=this.getFocus();if(e)return e;var t=this.get(".itemIndex"),r=this.get(".columnIndex");return this.get(".tree")[r][t]},goInbox:function(){var e=this;Daria.router.navigate("#inbox").then(function(){e._changeFocus(e.indexColumns.LEFT,e.DEFAULT_ITEM)})},_focusToMessage:function(e,t){this.get(".tree")[this.indexColumns.MESSAGES].length>0&&this._changeFocus(this.indexColumns.MESSAGES,e,{select:t})},focusToFirstMessage:function(e){this._focusToMessage(0,e)},focusToLastMessage:function(e){var t=this.get(".tree")[this.indexColumns.MESSAGES].length;this._focusToMessage(t-1,e)},setFocusByMid:function(e,t){var r=this.get(".tree")[this.indexColumns.MESSAGES],n=_.findIndex(r,"params.ids",e);if(n>-1){var i={scroll:t,show:Daria.is3pane()};this._changeFocus(this.indexColumns.MESSAGES,n,i)}},keyboardSelection:function(e){var t=this.get(".keyboardSelection");t&&t.select(e)},startKeyboardSelect:function(){var e=this.getFocusOrDefault();if(e){var t=e.getModel("message");if(t){var r=new Daria.CBS;r.start(t.params.ids),this.set(".keyboardSelection",r)}}},getRange:function(e,t){for(var r=ns.Model.get("message",{ids:e}),n=ns.Model.get("message",{ids:t}),i=this.get(".tree")[this.indexColumns.MESSAGES],o=-1,a=-1,s=0,l=i.length;s<l;s++){var u=i[s].getModel("message");if(!u)throw new Error("Something goes wrong");if(-1===o&&u===r&&(o=s),-1===a&&u===n&&(a=s),-1!==a&&-1!==o)break}return o<=a?i.slice(o,a+1):i.slice(a,o+1).reverse()},getIndexCurrentColumn:function(){return this.get(".columnIndex")},isCurrentFocusOnMessage:function(){if(!this.hasFocus())return!1;var e=this.getFocus();return e.isValid()&&Boolean(e.getModel("message")&&e.getModel("messages-checked"))},findIndex:function(e){var t=-1;return _.forEach(this.get(".tree"),function(r){if((t=r.indexOf(e))>-1)return!1}),t},setFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!0},cancelSetFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!1},shouldSetFocusAfterPageLoaded:function(){return Boolean(this.__setFocusAfterPageLoaded)}}},ns.ModelStatic);var e=function(){return _.defer(function(){var e=ns.Model.get("focus");"message"===Daria.router.getCurrentPage()&&e.setColumn(e.DEFAULT_COLUMN);var t=Daria.router.getCurrentParams(),r=t.ids||t.thread_id;r&&ns.Model.get("focus").setFocusByMid(r,!0)})};ns.events.on("pageinit",function(){e()}),ns.events.on("init-focus",function(){e()})}()},function(e,t){ns.Model.define("footer-data",{events:{"ns-model-init":function(){var e=Daria.Config;this.setData({"full-year":new Date(Daria.now()).getFullYear(),"link-advert":this._linkAdvert(),"link-lite":"/u2709/go2lite","link-mobile-apps":this._linkMobileApps(),"link-nda":"".concat(e["wiki-url"],"/nda"),"link-yandex":Daria.IS_CORP?e["company-url"]:e["morda-url"],"link-hiring":"".concat(e["hiring-url"],"?from=mail_footer"),"link-recommendation-rules":"".concat(e["www-url"],"/legal/recommendations/#index__mail")})}},methods:{_linkAdvert:function(){return Daria.Config["adv-url"]},_linkMobileApps:function(){var e=Daria.Config,t=!1;return"RUS"===e.product&&(t=e["mobile-mail-url"]),t}}},ns.ModelStatic)},function(e,t){ns.Model.define("get_user_activity",{params:{mailboxUid:null},events:{"ns-model-changed":"_onModelChanged"},methods:{_onModelChanged:function(){this._lastLcnCheck=!0;var e=this.get(".lcn");e&&(this._lastLcnCheck=Daria.Xiva.handlers.processNewLcn(e,this.params.mailboxUid))},syncLcn:function(){return ns.forcedRequest([this]).then(function(){return vow.resolve(this._lastLcnCheck)},this)}}},ns.ModelArmour)},function(e,t){ns.Model.define("get-group-user-events",{ctor:function(){this._lazyRequestDebounce=_.debounce(this._lazyRequest.bind(this),50),this._models={},this._promise=null},methods:{request:function(){return this.isValid()||(this._promise=Vow.promise()),this._lazyRequestDebounce(),this._promise},addModel:function(e){this._models[e.key]=e},isValid:function(){return _.isEmpty(this._models)},canRequest:function(){return!_.isEmpty(this._models)},_lazyRequest:function(){if(this.canRequest()){var e,t,r,n,i=_.assign({},this._models);_.forEach(i,function(i){(!e||e.getTime()>i.dateFrom.getTime())&&(e=i.dateFrom,r=i.params.from),(!t||t.getTime()<i.dateTo.getTime())&&(t=i.dateTo,n=i.params.to)});var o=ns.Model.get("get-user-events",{from:r,to:n,group:!0});o.destroy();var a=this;ns.request.models([o]).then(function(){_.forEach(i,function(e){e.setDataFromEvents(o)})}).always(function(){_.forEach(i,function(e){delete a._models[e.key]}),a._promise.fulfill(),o.destroy()})}else this._promise.fulfill()}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);r.n(n);ns.Model.define("get-user-events",{events:{"ns-model-init":"_onInit","ns-model-touched":"_setUpdateTimer"},params:{from:"",to:"",group:!1},maxAge:24*Jane.Date.HOUR,maxStaleAge:Number(Jane.Date.MINUTE),ctor:function(){this._updateTimer=null,this._minimalViewTime=15,this._minimalViewInterval=Daria.timify({minutes:15},"hours"),this._mapEventsIterator=this._mapEventsIterator.bind(this),this._sortEvents=this._sortEvents.bind(this),this._reduceGroupsIterator=this._reduceGroupsIterator.bind(this)},methods:{_onInit:function(){this.params.from&&(this.dateFrom=Jane.Date.LocalDate.parseDate(this.params.from)),this.params.to&&(this.dateTo=Jane.Date.LocalDate.parseDate(this.params.to),this.dateTo.setHours(23,59,59))},getRequest:function(){if(this.isValid())return this;if(this.params.group)return this;if(!this.dateFrom||!this.dateTo)return this;var e=ns.Model.get("get-group-user-events");return e.addModel(this),e},extractData:function(e){var t=this._extractData(e);return!t&&this.data&&((t=this.data)._lastData=!0),t||{events:[]}},hasDataChanged:function(e){return(!e||!e._lastData)&&Boolean(e)},preprocessData:function(e){return e._lastData?e:this.params.group?(e.events=_.map(e.events,this._mapEventsCommonIterator),e):(Array.isArray(e.events)?e.ranges=this.createGroupsOfEvents(e.events):Jane.ErrorLog.log({type:n.ErrorType.NsModel,message:"Model handler error: ".concat(this.id),block:n.ErrorBlock.MailModule,source:n.ErrorSource.Request,sourceMethod:this.id,key:this.key}),e)},_setUpdateTimer:function(){var e=this;this.params.group||(this._updateTimer&&(clearTimeout(this._updateTimer),this._updateTimer=null),this._updateTimer=setTimeout(function(){e._updateTimer=null,e.isValid()&&(e.invalidate(),e.atrigger("daria:mGetUserEvents:update"))},this.info[this.isLastData()?"maxStaleAge":"maxAge"]))},getEventsFromRange:function(e,t){var r=e.getTime(),n=t.getTime();return _.filter(this.get(".events"),function(e){var t=e.startDate.getTime(),i=e.endDate.getTime();return!(r>i||n<t)})},setDataFromEvents:function(e){var t=e.getEventsFromRange(this.dateFrom,this.dateTo);return this.setData({events:t})},isLastData:function(){return Boolean(this.get("._lastData"))},createGroupsOfEvents:function(e){return _(e).chain().map(this._mapEventsCommonIterator).map(this._mapEventsIterator).sortBy(this._sortEvents).reduce(this._reduceGroupsIterator,[]).value()},_getSizeOfRange:function(e,t){var r=(t.getTime()-e.getTime())/Jane.Date.HOUR;return Number(r.toFixed(2))},_sortEvents:function(e){return e.startDate.getTime()},_findGroupIndex:function(e,t){var r=e.startDate.getTime(),n=e.viewEndDate.getTime(),i=t.startDate.getTime(),o=t.viewEndDate.getTime();return!(n<=i||r>=o)},_reduceGroupsIterator:function(e,t){var r=e[_.findIndex(e,this._findGroupIndex.bind(this,t))];return r||(r={events:[]},e.push(r)),r.events.push(t),r.startDate=r.startDate?r.startDate.getTime()>t.startDate.getTime()?t.startDate:r.startDate:t.startDate,r.endDate=r.endDate&&r.endDate.getTime()>t.endDate.getTime()?r.endDate:t.endDate,_.assign(r,this._createIntervalOptions(r.startDate,r.endDate)),e},_mapEventsCommonIterator:function(e){var t=Jane.Date.LocalDate.parseISOTime(e.startTs),r=Jane.Date.LocalDate.parseISOTime(e.endTs);return _.assign({},e,{startDate:t,endDate:r})},_mapEventsIterator:function(e){return _.assign({},e,this._createIntervalOptions(e.startDate,e.endDate))},_createIntervalOptions:function(e,t){var r,n,i=this._getSizeOfRange(e,t);i<this._minimalViewInterval?(n=this._minimalViewInterval,(r=Jane.Date.clone(e)).setMinutes(e.getMinutes()+this._minimalViewTime)):(n=i,r=Jane.Date.clone(t));var o=Jane.Date.getHours(e),a=o,s=Jane.Date.clone(e),l=Jane.Date.clone(r),u=!0,c=!0;return this.dateTo&&this.dateTo.getTime()<r.getTime()&&(l=Jane.Date.clone(this.dateTo),u=!1),this.dateFrom&&this.dateFrom.getTime()>e.getTime()&&(s=Jane.Date.clone(this.dateFrom),c=!1,a=0),{intervalInHours:i,viewEndDate:r,viewIntervalInHours:n,startInHours:o,startInRange:a,viewIntervalInRange:this._getSizeOfRange(s,l),isFinishedInRange:u,isStartedInRange:c,stringDate:Jane.Date.getDaysInterval(e,t),startStringHour:Jane.Date.format("%Date_HM__colon",e),endStringHour:Jane.Date.format("%Date_HM__colon",t),startDay:Jane.Date.format("%F",e)}}}},ns.ModelArmour)},function(e,t){ns.Model.define("head-user-state",{events:{"ns-model-init":"_onInit"},methods:{LS_ITEM_NAME:"newLettersInMA",_onInit:function(){this.setData({newLettersInMA:Boolean(Daria.LS.getItem("newLettersInMA"))}),window.addEventListener("storage",function(e){if(e&&"newLettersInMA"===e.key){var t=Daria.LS.getItem(this.LS_ITEM_NAME);this.setNewLettersInMA(t)}}.bind(this),!1)},hasNewLettersInMA:function(){return this.get(".newLettersInMA")},setNewLettersInMA:function(e){this.setIfChanged(".newLettersInMA",e),e?Daria.LS.setItem(this.LS_ITEM_NAME,"true"):Daria.LS.removeItem(this.LS_ITEM_NAME)}}},ns.ModelStatic)},function(e,t){ns.Model.define("is-yandex-user",{params:{email:null}})},function(e,t){!function(e){for(var t={ru:{abbr:"ru",short:"Ru",name:"Русский","date-format":"%d %h. %Y в %H:%M",locale:"ru_RU.UTF-8",locale_short:"ru_RU"},uk:{abbr:"uk",short:"Ua",name:"Українська","date-format":"%d %h. %Y о %H:%M",locale:"uk_UA.UTF-8",locale_short:"uk_UA"},en:{abbr:"en",short:"En",name:"English","date-format":"%h %d, %Y at %H:%M",locale:"en_US.UTF-8",locale_short:"en_US"},tr:{abbr:"tr",short:"Tr",name:"Türkçe","date-format":"%d %h. %Y о %H:%M",locale:"tr_TR.UTF-8",locale_short:"tr_TR"},be:{abbr:"be",short:"By",name:"Беларуская","date-format":"%d %h. %Y о %H:%M",locale:"be_BE.UTF-8",locale_short:"be_BE"},kk:{abbr:"kk",short:"Kz",name:"Қазақша","date-format":"%d %h. %Y о %H:%M",locale:"kk_KK.UTF-8",locale_short:"kk_KK"},uz:{abbr:"uz",short:"Uzb",name:"Oʻzbekcha","date-format":"%d %h. %Y о %H:%M",locale:"uz_UZ.UTF-8",locale_short:"uz_UZ"}},r=[],n=0,i=0;n<e.length;n++){var o=t[e[n]];o&&(r[i++]=o)}ns.Model.define("languages",{events:{"ns-model-init":function(){this.setData({languages:{lang:r}})}}},ns.ModelStatic)}(Daria.locales)},function(e,t){ns.Model.define("message-failed",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},hasMid:function(e){return this.data.hasOwnProperty(e)},setMid:function(e){e&&(this.data[e]=!0)},removeMid:function(e){delete this.data[e]}}},ns.ModelStatic)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337),i=(r.n(n),r(374)),o=r(497),a=r(1452),s=r(3491),l=r(329);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(){ns.Model.define("message-body",{params:{ids:null,is_spam:!1,hid:null,raw:!1,frequency:"ru"===Daria.Config.locale&&Object(n.hasFeature)(n.Features.WEB_EMAIL_CLASSIFICATION)?_.get(Object(n.getFeatureParams)(n.Features.WEB_EMAIL_CLASSIFICATION)||{},"frequency",.1):0,draft:!1,force:null,mailboxUid:null},paramsRewrite:l.addMailboxUidParamsRewrite,calculateParamsForMessageBody:function(e){var t=Array.isArray(e.ids)&&e.ids.length>1&&"forward"===e.oper;return!e.ids||t?null:_.extend({},e,{draft:Boolean(!e.oper&&e.ids)})},methods:{preprocessData:function(e){var t=this.params;this.setIconInfo(e);var r=ns.Model.get("message",{ids:t.ids,mailboxUid:this.params.mailboxUid});e["is-spam"]=r.isSpam(),e["is-support"]=r.isYaSupport(),e["is-noreply-notification"]=r.isNoreplyNotification(),(e["is-spam"]||e.phishing)&&(e["hide-imgs"]=!0);var n=e.attachment;return n&&n.forEach(function(e){var t=e.name,r=Daria.splitName(t);e.narod?(e.filename=r[0],e.fileext=r[1]?"."+r[1]:"",e["name-uri-encoded"]=encodeURIComponent(t),e["preview-src"]=e.preview):".wdp"===e.fileext&&delete e["preview-supported"];var n=Daria.splitAttachmentName(t);e.nameprefix=n.prefix,e.namesuffix=n.suffix,e.nameext=(r[1]||"").toLowerCase()}),e.info&&e.info.date&&(e.info.date.view=Daria.MessageTime.getFormattedTime(e.info.date.timestamp)),e},setIconInfo:function(e){(jpath(e,".attachment")[0]||[]).forEach(function(e){var t=Daria.getExtensionInfo(e.name);t.icon&&(e.icon=t.icon)})},exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},hasRelativeTime:function(){return this.get(".info.date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".info.date.timestamp"));this.set(".info.date.view",e)},getEmailInfoParams:function(){var e=this.select('.info.field[.type=="from"]')[0],t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},getEmailRef:function(e){return this.select('.info.field[.email=="'+e+'"].ref')[0]},parseDate:function(e){var t=String(e).match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/);return t?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10)).getTime():null},getSubtype:function(){var e=this.get(".body.subtype");return e&&e[0]},getAddressField:function(e,t){return Daria.formatContacts(this.select('.info.field[.type == "'+e+'"]'),t)},filterRecipients:function(e){return Object(s.a)(this.getFieldsByType(e),this.params.mailboxUid)},getRecipients:function(e,t){var r;r=t?function(e){return e}:function(e){return Daria.formatContacts(e,!1)};var n=this.filterRecipients("reply-to");n.length||(n=this.filterRecipients("from")),n.length&&!e||(n=n.concat(this.filterRecipients("to"))),n.length||(n=this.getFieldsByType("from")),n=_.uniq(n,"email");var i=e?this.filterRecipients("cc"):[];return{to:r(n),cc:r(i)}},allowedReplyAll:function(){var e=this.getRecipients(!0,!0);return _(e).chain().values().flatten().filter("email").uniq("email").value().length>1},participantsCount:function(){return this.filterRecipients("to").length+this.filterRecipients("cc").length},getFieldsByType:function(e){return this.select('.info.field[.type == "'+e+'"]')},recipientsCount:function(){return this.getFieldsByType("to").length+this.getFieldsByType("cc").length+this.getFieldsByType("bcc").length},hasTooManyRecipients:function(){return this.recipientsCount()>=10},getInfo:function(e){return this.select(".info."+e)},getMessageId:function(){return this.get(".info.message-id")||null},getInReplyTo:function(){return this.get(".info.in-reply-to")||null},getReferences:function(){return this.get(".info.references")||null},getAttachments:function(){return this.get(".attachment")||[]},getOnlyNotInlineAttachments:function(){return this.get(".attachment[.narod || !.inline]")||[]},hasInlineAttachments:function(){var e=this.getData();return!!e&&jpath(e,".attachment[!.narod]")>0},_COLLECTOR_MSG_STIDS:["102.66466005.241046198820547232969001058","102.66466005.157526963565013225811429732","102.66466005.134090406637961488505874094","102.66466005.776572722362711757375188712","102.66466005.856799731918248093078980991"],getComposeHTML:function(){var e=this.get(".body"),t=[];if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t.push(e[r].content);return t},getDefaultLangId:function(){switch(Daria.Config.locale){case"ru":case"be":return 1;case"en":return 2;case"uk":return 5;case"tr":return 44;default:return 0}},isCollectorMessage:function(){var e=this.getSTID();return!!e&&this._COLLECTOR_MSG_STIDS.indexOf(e)>-1},getSTID:function(){return this.get(".info.stid")},formatAddress:function(e){return e.replace(/"/g,"").replace(/</g,"(").replace(/>/g,")")},getRawFirstBody:function(){return this.get(".body[0].content")||""},getReplyBody:function(e,t,r){var n="";if(ns.Model.get("settings").isSet("enable_quoting")&&(n=this.getQuoteContent(e)),!r){var i=Daria.Translate.getLangByMid(this.params.ids);i||(i=Daria.Translate.defineLanguage(this.getComposeHTML())),n=Daria.signs.appendToBody(n,e,null,t,i,this.params.mailboxUid)}return n},getCopyRecipients:function(){return this.formatAddress(Daria.formatContacts(this.getRecipients(!0,!0).cc)).split(", ").map(function(e){var t=u(e.split(" "),2),r=t[0],n=t[1];return n&&r===n.slice(1,n.length-1)?r:e}).filter(Boolean).join(", ")},getQuoteContent:function(e){var t=ns.Model.get("message",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}),r=this.getComposeHTML(),n=t.getDateTime(),i=t.getAddressField("from").replace(/\\"/g,'"'),o=this.formatAddress(t.getAddressField("to")),a=t.data.subject.replace(/\\"/g,'"'),s=this.getCopyRecipients();return"html"===e?(r=Daria.Html2Text.quoteHtml(r),this.getReplyFields({date:n,from:i,mode:e,toWhom:o,copySent:s,subject:a,body:r})):(r=Daria.Html2Text.quoteText(r),r=this.getReplyFields({date:n,from:i,mode:e,toWhom:o,copySent:s,subject:a,body:r}))},prepareLabels:function(e){var t,r,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i18n("%Compose_Forward_Start"),a=i18n("%Compose_Forward_ToWhom"),s=i18n("%Compose_Forward_Copy"),l=i18n("%Compose_Forward_Theme"),u=i18n("%Compose_Forward_End");return"html"===e?(t="<br/>",r="<div>",n="</div>"):(t=i?"\n":"",r="",n=""),{NL_SYMBOL:t,START:r,END:n,MESSAGE_START_TEXT:o,TO_WHOM_TEXT:a,COPY_TO_TEXT:s,THEME_TEXT:l,MESSAGE_END_TEXT:u}},prepareFields:function(e){var t=e.from,r=e.mode,n=e.toWhom,i=e.copySent,o=e.subject,a=e.body;return"html"===r?(t=_.escape(t),n=_.escape(n),i=_.escape(i),o=_.escape(o)):a=Daria.Html2Text.html2text(a),{from:t,toWhom:n,copySent:i,subject:o,body:a}},getReplyFields:function(e){var t=e.date,r=e.mode,n=this.prepareLabels(r,!1),i=n.START,o=n.NL_SYMBOL,a=n.END,s=n.TO_WHOM_TEXT,l=n.COPY_TO_TEXT,u=n.THEME_TEXT,c=this.prepareFields(e),d=c.toWhom,f=c.copySent,g=c.subject,p=c.body,m=c.from;return"".concat(i).concat(o).concat(a).concat(i).concat(o).concat(a)+"".concat(i,"----------------").concat(a,"\n                        ").concat(d?"".concat(i).concat(s,": ").concat(d,";").concat(o).concat(a):"","\n                        ").concat(f?"".concat(i).concat(l,": ").concat(f,";").concat(o).concat(a):"","\n                        ").concat(g?"".concat(i).concat(u,": ").concat(g,";").concat(o).concat(a):"","\n                        ").concat(t?"".concat(i).concat(t,", ").concat(m,":").concat(o).concat(a):"","\n                        ").concat(p)},getForwardFields:function(e){var t=e.date,r=e.mode,n=this.prepareLabels(r,!0),i=n.START,o=n.NL_SYMBOL,a=n.END,s=n.TO_WHOM_TEXT,l=n.COPY_TO_TEXT,u=n.THEME_TEXT,c=n.MESSAGE_START_TEXT,d=n.MESSAGE_END_TEXT,f=this.prepareFields(e),g=f.toWhom,p=f.copySent,m=f.subject,h=f.body,v=f.from;return"".concat(i).concat(o).concat(a).concat(i).concat(o).concat(a)+"".concat(i,"-------- ").concat(c," --------").concat(a,"\n                        ").concat(t?"".concat(i).concat(t,", ").concat(v,":").concat(o).concat(a):"","\n                        ").concat(g?"".concat(i).concat(s,": ").concat(g,";").concat(o).concat(a):"","\n                        ").concat(p?"".concat(i).concat(l,": ").concat(p,";").concat(o).concat(a):"","\n                        ").concat(m?"".concat(i).concat(u,": ").concat(m,";").concat(o).concat(a):"","\n                        ").concat(i).concat(o).concat(a,"\n                        ").concat(h,"\n                        ").concat(i).concat(o).concat(a).concat(i,"-------- ").concat(d," --------").concat(a)},getForwardBody:function(e,t){var r=this.getComposeHTML(),n=ns.Model.get("message",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}),i=n.getDateTime(),o=this.formatAddress(n.getAddressField("from")).replace(/\\"/g,'"'),a=this.formatAddress(n.getAddressField("to")),s=this.getCopyRecipients(),l=n.data.subject.replace(/\\"/g,'"'),u=Daria.Translate.getLangByMid(this.params.ids)||Daria.Translate.defineLanguage(r);r='<div class="normalize">'+r+"</div>";var c=this.getForwardFields({date:i,from:o,mode:e,toWhom:a,copySent:s,subject:l,body:r});return Daria.signs.appendToBody(c,e,null,t,u,this.params.mailboxUid)},getDraftBody:function(e){var t;if(e&&(t=$.makeArray(this.get('.body[.subtype == "'+e+'" && .name == ""]')||[])[0]),t||(t=this.getFirstBody()),!t)return"";var r=t.content,n=t.subtype;return"plain"===e&&"html"===n?r=Daria.Html2Text.html2text(r):"html"===e&&"plain"===n&&(r=r.replace(/\u0020\u0020/g,"  "),r=_.unescape(r),r=Daria.Html2Text.text2html(r)),"plain"===e&&(r=_.unescape(r)),r},_getLocationsData:function(){var e=this.get(".facts.addr");return _.flatten(e).filter(function(e){return Boolean(e)})},getInvalidLocations:function(){return _.difference(this._getLocationsData(),this.getLocations())},getLocations:function(){return _(this._getLocationsData()).filter(function(e){return e.weight>=40&&"string"==typeof e.geo_addr}).valueOf()},hasPGP:function(){if(!this.isValid())return!1;var e=this.getFirstNonEmptyBodyContent()||"";return e.indexOf("wmi-pgp")>-1||e.indexOf("-----BEGIN PGP MESSAGE-----")>-1},getPGP:function(){var e={ids:this.params.ids,raw:!0},t=$.Deferred();return ns.request("message-body",e).then(function(e){var r=e[0],n=r.getFirstNonEmptyBodyContent()||"",i=r.getFieldsByType("from")[0],o=r.getFieldsByType("to")[0];t.resolve({from:{email:i.email,name:i.name},message:n.trim(),to:{email:o.email,name:o.name}})},function(){t.reject()}),t},getCalendarEvent:function(){return this.select(".facts.events.CalendarEvent")[0]},getCalendarICS:function(){return this.select(".calendars.calendar.hid")[0]},fetch:function(e){return e=no.extend(this.params,e||{}),ns.forcedRequest(this.id,e)},isLoaded:function(){return Boolean(this.get(".body"))},getUnsubscribeOptions:function(){var e,t=this.getInfo("list-unsubscribe")[0],r=this.get(".body.facts.unsubscribe"),n="<((mailto|https?):[^>]+)>",i={};function o(e,t){if(e){var r=$.url(e);r.Proto.match(/^https?$/gi)&&r.host&&(i[r.Proto+(t?"-"+t:"")]=e)}}var a=t.match(new RegExp(n,"gi"));if(a)for(var s=0;s<a.length;s++){var l=(e=new RegExp(n,"i").exec(a[s]))[2]+"-header";i[l]||(i[l]=e[1])}else Jane.FormValidation.reEmail.test(t)?i["mailto-header"]="mailto:"+t:o(t,"header");if(r&&r.length){var u=jpath(r[0],".url");u.length&&o(u[0],"body")}return i},fromComposeMessage:function(e,t){if(this.isValid())return this;var r=ns.Model.get("message",{ids:t}),n=ns.Model.get("message-body",{ids:t}),i=e.get(".sentMessageId"),o=e.get(".from_mailbox"),a=[{email:o,name:e.get(".from_name"),ref:n.getEmailRef(o),type:"from"}];a=a.concat(e.formatContacts("to",n),e.formatContacts("cc",n),e.formatContacts("bcc",n));var s=e.getSendMessage();return e.isHtmlType()||(s=Daria.Html2Text.text2html(s)),this.setData({fake:!0,body:[{type:"text",subtype:e.get(".ttype"),content:s}],info:{date:r.createMessageCurrentDate(),field:a,"message-id":i}})},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,function(t){return e.isMyEmail(t.email)})},hasPhishingBody:function(){return(this.get(".body")||[]).some(function(e){return Boolean(e.phishing)})},getFirstBody:function(){return(this.get(".body")||[])[0]},getFirstNonEmptyBodyContent:function(){return(this.get(".body.content")||[])[0]},setError:function(){this.scenarioManager.hasActiveScenario(i.c)&&this.scenarioManager.getActiveScenario(i.c).logError(o.c),this.scenarioManager.hasActiveScenario(i.d)&&this.scenarioManager.getActiveScenario(i.d).logError(a.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")}()},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(3492),i=r.n(n),o=r(3493),a=r.n(o),s=r(329),l=r(337);r.n(l);function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object(l.hasFeature)("fixed_replyAll_logic"),n=!Daria.IS_CORP&&r,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ns.Model.get("account-information");Object(s.isSharedMailboxes)()&&e&&(t=ns.Model.get("address-information",{mailboxUid:e}));var r=t.getAllUserEmails(),n=r.map(function(e){return e.replace(/-/g,".").toLowerCase()});return[].concat(u(r),u(n))}(t),c=ns.Model.get("settings").getValidatedEmails();n&&ns.request("collectors");var d=n?ns.Model.get("collectors").getData().reduce(function(e,t){return e.push(t.email),e},[]):[],f=o.filter(function(e){var t=!d.includes(e),r=!c.includes(e);return t&&r});return i()(e,function(e){return r?!f.includes(e.email.toLowerCase()):a()(o,e.email.replace(/-/g,".").toLowerCase())<0})}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1440),i=r(136),o=(r.n(i),r(337)),a=(r.n(o),r(141)),s=(r.n(a),r(329));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ns.Model.define("message",{events:{"ns-model-init":"_onInit"},params:{mailboxUid:null,ids:null,hid:null,force:null},paramsRewrite:s.addMailboxUidParamsRewrite,methods:{_threadKeyPrefix:"t",_readInfo:{},_countInfo:{},INVALID_FOLDERS_SYMBOLS_FOR_PIN:i.PinDisabledFolders,_onInit:function(){this._checkIds(),this.params.ids&&this.params.ids[0]===this._threadKeyPrefix&&this.setData({FAKE_THREAD_DATA:!0})},_checkIds:function(){if(!this.params.ids)throw new Error("Can't create Daria.mMessage without ids")},preprocessData:function(e){if(e.date&&e.date.chunks){var t=e.date.chunks;e.date.ts=new Date(t.year,t.month,t.date,t.hours,t.minutes).getTime(),e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)}var r=e.subject;r&&"No subject"!==r||(e.subject=i18n("%Без_темы"));var n=e.recipients;if(n&&!e.recipientsProcessed){for(var i in n)Daria.Recipients.cacheRecipient(n[i]);e.recipientsProcessed=!0}return this._preprocessWidgets(e),e},_preprocessWidgets:function(e){var t=this;Array.isArray(e.widgets)?e.widgets=e.widgets.reduce(function(r,n){var i=_.get(n,"info.showType");return i?t._skipWidget(i,e,n)?r:(Array.isArray(r[i])||(r[i]=[]),r[i].push(n),r):r},{}):delete e.widgets},_skipWidget:function(e,t,r){switch(r.info.type){case"bigimage":if(!ns.Model.get("settings").getSign("show_widgets_buttons"))return!0;if(this.getTrustLevel(t.type)<5||!r.info.valid)return!0;var n=Object(o.getFeatureParams)(o.Features.WEB_WIDGET_BIGIMAGE)||{},i=n.blacklist,a=n.whitelist;if(Array.isArray(a))return!a.includes(r.info.id);if(Array.isArray(i))return i.includes(r.info.id)}return!1},hasRelativeTime:function(){return this.get(".date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".date.timestamp"));this.set(".date.view",e)},hasDataChanged:function(e){var t=this.data;if(!t||!this.hasRealData())return!0;if(e.__prevent_update)return!1;var r=[];if(t.count!==e.count&&r.push({jpath:".count",value:e.count}),t.fid!==e.fid&&r.push({jpath:".fid",value:e.fid}),t.tabId!==e.tabId&&r.push({jpath:".tabId",value:e.tabId}),t.tid!==e.tid&&r.push({jpath:".tid",value:e.tid}),t.firstline!==e.firstline&&r.push({jpath:".firstline",value:e.firstline}),t.new!==e.new&&r.push({jpath:".new",value:e.new}),!_.isEqual(t.flags,e.flags)){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.flags);"replied"in t.flags&&!("replied"in n)&&(n.replied=t.flags.replied),"forwarded"in t.flags&&!("forwarded"in n)&&(n.forwarded=t.flags.forwarded),r.push({jpath:".flags",value:n})}return _.isEqual(t.lid,e.lid)||r.push({jpath:".lid",value:e.lid}),_.isEqual(t.field,e.field)||r.push({jpath:".field",value:e.field}),_.isEqual(t.last_mid,e.last_mid)||r.push({jpath:".last_mid",value:e.last_mid}),e.date&&!_.isEqual(t.date,e.date)&&r.push({jpath:".date",value:_.extend({},e.date,{view:Daria.MessageTime.getFormattedTime(e.date.timestamp)})}),r.forEach(function(e){this.set(e.jpath,e.value)},this),this.isThread()&&(r.length||t.thread_scn!==e.thread_scn)&&ns.forcedRequest([{id:"messages",params:{thread_id:t.tid}}]),!1},exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},isDraftLike:function(){return!this.isThread()&&this.inFolderBySymbol(i.DraftLikeFolders)},isExternalLike:function(){return!this.inFolderBySymbol(i.InternalFolders)},isOutcomeMessage:function(){return this.inFolderBySymbol(i.OutcomingFolders)},canReply:function(){return!this.inFolderBySymbol(i.ReplyDisabledFolders)},canReplyQR:function(){return!this.inFolderBySymbol(i.QuickReplyDisabledFolders)},isTemplate:function(){return!this.isThread()&&this.inFolderBySymbol(i.WellKnownFolderSymbol.TEMPLATE)},isThread:function(){return this.isThreadModel()},isMessageThread:function(){return this.isThreadModel()&&1===this.getThreadCount()},getMessageThreadMid:function(){if(!this.isMessageThread())return this.params.ids;var e=this.getThreadMessages().models[0];return e?e.params.ids:this.params.ids.slice(1)},isThreadModel:function(){return this.params.ids&&this.params.ids[0]===this._threadKeyPrefix},getSocialLabel:function(){var e=this.get(".dlid");return e||(e=this.get(".dtype.name")),e},getFolderId:function(){return this.get(".fid")||null},getTabId:function(){return this.get(".tabId")||null},getLastMid:function(){return this.get(".last_mid")||this.get(".mid")||null},getMessageFieldName:function(){var e="from",t=this.params?this.params.mailboxUid:null,r=ns.Model.get("folders",{mailboxUid:t}),n=i.InternalFolders;return r.isFolder(Daria.router.getCurrentParams().current_folder,n)&&(e="to"),Daria.router.getCurrentParams().search&&r.isFolder(Daria.router.getCurrentParams().fid,[i.WellKnownFolderSymbol.SENT])&&(e="to"),e},isNew:function(){return Boolean(this.get(".new"))},isSpam:function(){var e=this.getFolderId();return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(e,i.WellKnownFolderSymbol.SPAM)},isTrash:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)},isNoreplyNotification:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelByName("SystMetkaWJDT:NOTIFY");return e&&this.hasLabel(e.lid)},hasAttachment:function(){return Boolean(this.get(".flags.attachment"))},hasLabel:function(e){var t=this.getData();return Boolean(t&&Array.isArray(t.lid)&&t.lid.indexOf(e)>-1)},hasLabelWithSymbolicName:function(e){var t=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelBySymbolicName(e);return Boolean(t&&this.hasLabel(t.lid))},inFolder:function(e){var t=this.get(".fid");return!(!e||!t||t!==e)},inFolderBySymbol:function(e){var t=this.getFolderId();return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(t,e)},isIntoThread:function(){var e=this.getThreadMessage();return e&&e.hasRealData()},getThreadId:function(){return this.get(".tid")},getUrl:function(){var e=this.inFolder(ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).getFidBySymbol(i.WellKnownFolderSymbol.DRAFT));return Daria.isMessagePage()&&Daria.is2pane()&&(e=!1),Daria.router.buildUrl(e?"compose2":"message",{ids:this.get(".mid")})},getSOLabels:function(){return this.get(".type")},toMove:function(e){var t=e.tabId&&(this.getTabId()!==e.tabId||this.getFolderId()!==e.current_folder);return this.isThread()||t||this.getFolderId()!==e.current_folder},toDelete:function(e){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)||this.toMove(e)},toSpam:function(e){return this.toMove(e)},toNotspam:function(e){return this.toMove(e)},_grep:function(e,t,r,n){var i=[];if($.isArray(e))for(var o=0,a=e.length;o<a;o++)this[n](t+e[o],r)&&i.push(e[o]);return i},grep:function(e,t,r){var n=this._grep(e.mids,"",t,r),i=this._grep(e.tids,this._threadKeyPrefix,t,r);return!(!n[0]&&!i[0])&&{mids:n,tids:i}},label:function(e){var t=new Daria.MOPS.Opinfo,r=e.lid;if(!this._canLabel(r))return t;this._addLid(r);var n=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,r,n),this.isThreadModel()){if(!e.onlyAdd)return this._correctThreadListLabel("label",e)}else{this._shouldAdjustLabelCount(r)&&t.addAdjust(r,1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i,mailboxUid:this.params.mailboxUid});o._addLid(r),o._correctThreadLidCount(r,1)}return t},unlabel:function(e){var t=new Daria.MOPS.Opinfo,r=e.lid;if(!this._canUnlabel(r))return t;this._removeLid(r);var n=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,r,-n),this.isThread())return this._correctThreadListLabel("unlabel",e);this._shouldAdjustLabelCount(r)&&t.addAdjust(r,-1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i,mailboxUid:this.params.mailboxUid});return 0===o._correctThreadLidCount(r,-1)&&o._removeLid(r),t},isPhishing:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPhishingLabel();return Boolean(e)&&this._hasLid(e.lid)},_shouldAdjustLabelCount:function(){return!this.isTrash()&&!this.isSpam()},_hasLid:function(e){var t=_.clone(this.get(".lid"));return!(!e||!t)&&-1!==t.indexOf(e)},_canLabel:function(e){return!this._hasLid(e)||!!this.isThreadModel()&&((this.get(".lid_cnt")||{})[e]||0)!==this.getThreadCount()},_addLid:function(e){if(!this._hasLid(e)){var t=_.clone(this.get(".lid"))||[];t.push(e),this.set(".lid",t)}},_canUnlabel:function(e){return this._hasLid(e)},_removeLid:function(e){if(this._hasLid(e)){var t=_.clone(this.get(".lid"));Jane.Array.remove(t,e),this.set(".lid",t)}},toTemplate:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}),t=this.getFolderId(),r=e.getFolderById(t);return!(!r||!r.user&&!e.isFolder(t,[i.WellKnownFolderSymbol.INBOX]))},mark:function(){var e=new Daria.MOPS.Opinfo,t=this.get(".new");if(t>0){if(this.set(".new",0),this.isThread())return this._correctThreadListMark("mark",-t);this._correctThreadMark("mark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),-t):e.addAdjust(this.getFolderId(),-t),this._adjustLabelsUnreadCounter(e,-t),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},unmark:function(){var e=new Daria.MOPS.Opinfo,t=this.getThreadCount(),r=t-this.get(".new");if(r>0){if(this.set(".new",t),this.isThread())return this._correctThreadListMark("unmark",r);this._correctThreadMark("unmark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),r):e.addAdjust(this.getFolderId(),r),this._adjustLabelsUnreadCounter(e,r),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},toggleMark:function(){var e,t=this.isNew()?"mark":"unmark";return e=this.isThread()?this.getThreadMessagesCheckedModel(!0):this.getMessagesCheckedModel(!0),Daria.MOPS[t](e)},toggleMute:function(){var e=this.isMuted()?"unignore":"ignore";return Daria.MOPS[e]({tids:this.getThreadId()})},_correctThreadMark:function(e){var t=this.getThreadId(),r=this.params.mailboxUid,n=ns.Model.get("message",{ids:t,mailboxUid:r});if(n.data){var i=n.get(".new")||0,o=n.getThreadCount();"mark"===e?i--:i++,i=Math.max(i,0),i=Math.min(i,o),n.setIfChanged(".new",i)}},getThreadMessages:function(e){return _.isUndefined(e)&&(e=this.getThreadId()),ns.Model.get("messages",{thread_id:e,mailboxUid:this.params.mailboxUid})},getThreadMessage:function(e){if(_.isUndefined(e)&&(e=this.getThreadId()),e)return ns.Model.get("message",{ids:e,mailboxUid:this.params.mailboxUid})},_correctThreadListMark:function(e,t){var r=this.getThreadId(),n=this.getThreadMessages(r)[e]();return n.saveUnreadCounter(r,Math.abs(t)),n.saveAffectedMids(),n.checkTidAdjust(t,r),n},_correctThreadListLabel:function(e,t){var r=this.getThreadId(),n=this.getThreadMessages(r)[e](t),i=this.getThreadCount();return this._correctThreadLidCount(t.lid,"label"===e?i:-i),n.getModelsCount()!==i&&n.checkTidAdjust(NaN,r),n},_correctThreadLidCount:function(e,t){var r=this.getThreadCount(),n=this.get(".lid_cnt")||{};if(e){var i=n[e]||0,o=Daria.clamp(i+t,0,r);return n[e]=o,this.set(".lid_cnt",n),o}},_adjustLabelsUnreadCounter:function(e,t){var r=this;t&&ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLidsWithUnreadCounter().map(function(n){r._hasLid(n)&&e.addLabelsUnreadAdjust(n,t)})},_adjustLabelsUnreadCounterByLid:function(e,t,r){r&&(ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLidsWithUnreadCounter().includes(t)&&e.addLabelsUnreadAdjust(t,r))},getAddressField:function(e,t){var r=this.getFieldsByType(e);return Daria.formatContacts(r,t)},getToEmail:function(){if(!this.getData())return"";var e=this.getFieldsByType("to"),t=this.params.mailboxUid,r=Object(s.isSharedMailboxes)()&&t?"address-information":"account-information";return ns.Model.get(r).getAllUserEmails().find(function(t){return e.find(function(e){return e.email.toLowerCase()===t.toLowerCase()})})},getReplyToEmail:function(){return _.get(this.getFieldsByType("reply-to"),"0.email")||""},getReplyToName:function(){return this.getFieldsByType("reply-to")[0].name||""},isReply:function(){return Boolean(this.getReplyToEmail())},getToEmails:function(){var e=this.getFieldsByType("to");return $.map(e,function(e){return e.email||null})},getToNames:function(){var e=this.getFieldsByType("to");return $.map(e,function(e){return e.name||null})},getFromName:function(){var e=this.getFieldsByType("from")[0];return e&&e.name?e.name:""},getFromEmail:function(){var e=this.getFieldsByType("from")[0];return e&&e.email?e.email:""},getSubject:function(e){var t=this.getData();if(!t)return"";var r="";return!e&&t.subject_prefix&&(r=t.subject_prefix+" "),r+t.subject},getDate:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$3.$2.$1"):""},getTime:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$4:$5"):""},getDateTime:function(){return this.getDate()+", "+this.getTime()},getEmailRef:function(e){return this.select('.field[.email=="'+e+'"].ref')[0]},getSelectedInfo:function(e){var t,r,n,i,o=this._readInfo,a=this._countInfo,s=0,l=0;if(e.mids)for(t=0,r=e.mids.length;t<r;t++)i=a[n=e.mids[t]],o[n]&&(s+=i),l+=i;if(e.tids)for(t=0,r=e.tids.length;t<r;t++)i=a[n=this._threadKeyPrefix+e.tids[t]],o[n]&&(s+=i),l+=i;return{read:s,all:l}},isForward:function(){return/^Fwd:/.test(this.getSubject())},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".lid"))),t=e.length;if(t)for(var r=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),n=0;n<t;n++)if(r.isSocial(e[n]))return e[n];return null},COUPON_SERVICE_TYPES:[13,14],isCouponService:function(){var e=this.COUPON_SERVICE_TYPES;return _.intersection(e,this.get(".type")).length===e.length},CALENDAR_SERVICE_TYPE:42,isCalendarService:function(){return this.hasType(this.CALENDAR_SERVICE_TYPE)},isHuman:function(){return this.hasType(4)},hasType:function(e,t){var r=this.get(".type");_.isArray(e)||(e=[e]);var n="all";return t&&(n="any"),r&&_[n](e,function(e){return _.contains(r,e)})},updateThreadsUnreadCount:function(e,t){var r=[];for(var n in t){var i=this._threadKeyPrefix+n,o=this.getCache(i);if(o){var a,s=o.new||0;a="mark"===e?s-t[n].length:s+t[n].length,a=Math.max(0,a),this._readInfo[i]=0===a,a?o.new=a:delete o.new,("mark"===e&&0===a||"unmark"===e&&a>0)&&r.push(n)}}return r},getThreadCount:function(){return this.get(".count")},updateThreadCount:function(e){var t=this.getThreadCount();this.set(".count",t+e)},updateThreadInfo:function(e){if(!this.hasRealData())return!1;if(e.isNew()){var t=this.get(".new");this.set(".new",t+1)}e.isExternalLike()&&this.updateThreadContextInfo(e),this.updateThreadCount(1);var r=e.get(".lid"),n=this.get(".lid");n=_.uniq(n.concat(r)),this.set(".lid",n),!this.isAnswered()||e.isReply()&&e.isOutcomeMessage()||this.unsetAnswered(),this.isForwarded()&&!e.isOutcomeMessage()&&this.unsetForwarded();var i=_.extend({},this.params,{fid:e.get(".fid")}),o=ns.Model.get("message-presentation",i);return o.fill(e),o.ensureOnDestroyBinded(this),!0},updateThreadContextInfo:function(e){this.set(".date",e.get(".date")),Daria.areFoldersTabsEnabled()&&e.getTabId()&&this.set(".tabId",e.getTabId()),this.set(".fid",e.get(".fid")),this.set(".field",e.get(".field")),this.set(".firstline",e.getFirstline()),this.set(".last_mid",e.get(".mid")),this.set(".subject",e.getSubject(!0)),this.set(".subject_prefix",e.get(".subject_prefix")),this.set(".flags.attachment",e.hasAttachment())},uncheckThreadMessages:function(e){if(e=e||ns.Model.get("messages-checked"),this.isThread()){var t=this.getThreadMessages();_.forEach(t.models,function(t){e.isChecked(t)&&e.check(t,!1)})}},getEmails:function(){var e={},t=this.getData();if(t){var r=t.field;$.each(r,function(t,r){var n=e[r.type]={},i=r.name,o=r.email;o&&(n.ref=r.ref,n.email=o),i&&(n.name=i)})}return e},isYaSupport:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelByName("yasupport");return!!e&&this.hasLabel(e.lid)},isBodyAutoExpand:function(){var e=this.getData();if(!e)return!1;var t=e.lid;if(!t||!t.length)return!1;for(var r,n=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),i=0,o=t.length,a=/^(vtnrf0roemru|vtnrf0habrahabr|vtnrf0livejournal)$/;i<o;i++)if((r=n.getLabelById(t[i]))&&a.test(r.name))return!0;return!1},getFieldsByType:function(e){return this.select('.field[.type == "'+e+'"]')},getFirstline:function(){return this.get(".firstline")||""},getMessageLink:function(){return Daria.router.buildUrl("message",{ids:this.get(".mid")})},getMessagesCheckedModel:function(){var e=ns.Model.get("messages-checked",{mailboxUid:this.params.mailboxUid,mid:this.get(".mid")});return e.check(this,!0,{silent:!0}),e},getThreadMessagesCheckedModel:function(){if(this.isThread()){var e="all_"+this.get(".mid"),t=ns.Model.get("messages-checked",{mid:e,mailboxUid:this.params.mailboxUid}),r=this.getThreadMessages();return t.check(this,!0),_.each(r.models,function(e){t.check(e,!0)}),t}return ns.Model.get("messages-checked")},isImportant:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getImportantLID();return this.hasLabel(e)},isPriority:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPriorityLID();return Boolean(e&&this.hasLabel(e))},isPinned:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPinnedLabel();return!!e&&this.hasLabel(e.lid)},isReplyLater:function(){return(this.isPinned()||this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER))&&Boolean(this.getReplyLaterDate())},isReplyLaterFinished:function(){return this.isPinned()&&this.isReplyLater()},isReplyLaterStarted:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER)&&this.isReplyLater()},getReplyLaterDate:function(){var e=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER});return this.isThread()&&this.get(".count")>1?e.getRemindDateByTid(this.getThreadId()):e.getRemindDateByMid(this.getLastMid())},getReplyLaterStickers:function(){var e=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER});return this.isThread()?e.getStickersByTid(this.getThreadId()):[e.getStickerByMid(this.getLastMid())]},getLastMidForReplyLater:function(){var e=this.getLastMid();if(this.isThread()){var t=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER}).getLastStickerByTid(this.getThreadId());e=t?t.mid:e}return e},isDelayed:function(){if(!this.inFolderBySymbol(i.WellKnownFolderSymbol.OUTBOX))return!1;var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getDelayedMessageLabel();return!!e&&(!!this.hasLabel(e.lid)&&!((this.get(".date.ts")||this.get(".date.timestamp"))<Daria.now()))},getDelayedTime:function(){if(this.isDelayed())return this.get(".date.ts")||this.get(".date.timestamp")},move:function(e){var t={current_folder:e.fid,tabId:e.tabId};Daria.isAttachmentsTab()&&this.toSpam(t)?this.remove():this.toMove(t)?this.doMove(t):this.toDelete(t)&&this.remove();var r=new Daria.MOPS.Opinfo;return r.resetAdjust(),r.resetTabsAdjust(),r},moveToDrafts:function(){var e=this.params.ids,t=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).getFidBySymbol(i.WellKnownFolderSymbol.DRAFT);return Daria.Xiva.moveMessageToFolder(e,t)},doMove:function(e){var t,r=e.current_folder,n=e.tabId,o=this,a=this.getThreadId(),s=this.get(".fid"),l=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),u=new Daria.MOPS.Opinfo,c=this.get(".lid"),d=this.getTabId(),f=this.isInTab();n?(this.set(".tabId",n),s!==r&&this.set(".fid",r)):s===r?s="":this.set(".fid",r);var g=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),p=this.inFolderBySymbol([i.WellKnownFolderSymbol.SPAM]),m=this.getThreadMessages(),h=this.isThread();if(h?t=this:(t=ns.Model.get("message",{ids:a,mailboxUid:this.params.mailboxUid})).hasRealData()||(t=this),g&&this.isNew()&&!h&&this.isIntoThread()&&t._correctThreadMark("mark"),m.isValid())if(h)m.models.forEach(function(e){n&&e.set(".tabId",n),e.inFolderBySymbol(i.WellKnownFolderSymbol.SENT)||e.set(".fid",r)});else{var v=t.isPinned();if(f&&s&&d&&!m.hasMessagesFromTab(s,d)&&!v){var b=ns.Model.get("messages",{current_folder:s,tabId:d,threaded:"yes",mailboxUid:this.params.mailboxUid});b.isValid()&&b.remove(t)}if(s&&s!==r&&!m.hasMessagesFromFolder(s)&&!v){var _=ns.Model.get("messages",{current_folder:s,threaded:"yes",mailboxUid:this.params.mailboxUid});_.isValid()&&_.remove(t)}}var y,S=Daria.router.getCurrentParams().current_folder,w=Daria.router.getCurrentParams().tabId,O=Daria.router.getCurrentParams().mailboxUid===this.params.mailboxUid&&ns.Model.get("messages",Daria.router.getCurrentParams()).isUnreadMessagesCollection(),x=this.isNew();(g||p)&&c&&(y={},c.forEach(function(e){y[e]=!0}));var M={};return ns.Model.traverse("messages",function(e){if(e.isValid()&&e.params.mailboxUid===o.params.mailboxUid){if(e.isSearchNotFilter()&&e.params.fid!==r&&e.remove(o),o.isPinned())(p||g)&&e.remove(o);else{var i=e.params.tabId;f&&(i===d||w&&i===w&&d===w&&n!==w)?e.remove(o):n&&i===n?e.insertMessageBySort("yes"===e.params.threaded?t:o):e.params.current_folder===s||S&&e.params.current_folder===S&&r!==S?e.remove(o):e.params.current_folder===r&&("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}var u=e.params.thread_id;if(g&&!h&&u===a)if(e.remove(o)){var m=ns.Model.get("message",{ids:u,mailboxUid:o.params.mailboxUid});m.hasRealData()&&!M[u]&&(m.updateThreadCount(-1),M[u]=!0)}(g||O&&!x)&&(e.isUnreadMessagesCollection()||e.isWithAttachmentMessagesCollection()||e.isImportantMessagesCollection())&&e.remove(o),(g||p)&&c&&e.params.current_label&&y[e.params.current_label]&&e.remove(o),!l||g||h||u!==a||("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}}),ns.Model.invalidateAll("messages-from"),u.resetAdjust(),u.resetTabsAdjust(),u},remove:function(){var e=this;ns.Model.traverse("messages",function(t){t.remove(e)}),this._cleaningModelsAfterAction(),ns.Model.get("message-body",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}).destroy(),this.destroy()},getEmailInfoParams:function(){var e=this.getEmails().from,t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},createMessageCurrentDate:function(){var e=Daria.now(),t=new Date(e),r=Jane.Date.format("%Date_db",e),n=Jane.Date.format("%Date_db_in_HM",e);return{chunks:{date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),month:t.getMonth(),year:t.getFullYear()},timestamp:e,user_timestamp:e,view:{attach:r,list:r,message:n,title:n}}},fromComposeMessage:function(e,t){if(this.isValid())return this;var r=ns.Model.get("message",{ids:t,mailboxUid:this.params.mailboxUid}),n=ns.Model.get("message-body",{ids:t,mailboxUid:this.params.mailboxUid}),i=e.get(".from_mailbox"),o=[{email:i,name:e.get(".from_name"),ref:n.getEmailRef(i),type:"from"}];return o=o.concat(e.formatContacts("to",n),e.formatContacts("cc",n),e.formatContacts("bcc",n)),this.setData({fake:!0,mid:this.params.ids,tid:r.getThreadId()||"t"+this.params.ids,lid:e.get(".lids"),field:o,subject:e.get(".subj"),date:r.createMessageCurrentDate(),types:"4",type:[4],flags:{human:!0},count:1,new:0})},hasRealData:function(){return this.isValid()&&!this.get(".FAKE_THREAD_DATA")},isCheckedInList:function(){return ns.Model.get("messages-checked").isChecked(this)},isInSharedFolder:function(){return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isShared(this.getFolderId())},isInTab:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid});return this.getTabId()&&this.getFolderId()===e.getFidBySymbol(i.WellKnownFolderSymbol.INBOX)},isMuted:function(){if(!this.isThread())return!1;var e=jpath(ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getMuteThreadLabel(),".lid")[0];return this.hasLabel(e)},isMutable:function(){return this.isThread()&&!this.isMuted()&&!this.isInSharedFolder()},isValidForPin:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}),t=this.getFolderId();return!e.isFolder(t,this.INVALID_FOLDERS_SYMBOLS_FOR_PIN)},isReplyLaterAllowed:function(){var e=this.get(".fid");return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isReplyLaterAllowed(e)},isDraggable:function(){var e=this.get(".fid");return!ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(e,[i.WellKnownFolderSymbol.REPLY_LATER])},hasUserLabel:function(){var e=this.get(".lid");if(!Array.isArray(e)||!e.length)return!1;for(var t=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),r=0,n=e.length;r<n;r++){var i=t.getLabelById(e[r]);if(i&&i.user)return!0}return!1},hasLabelInDiff:function(e,t){var r=this.get(".lid");return _().xor(r,t).contains(e)},isAnswered:function(){return Boolean(this.get(".flags.replied"))},setAnswered:function(){this.set(".flags.replied",!0)},unsetAnswered:function(){this.set(".flags.replied",!1)},markAnswered:function(){this.setAnswered();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setAnswered(),new Daria.MOPS.Opinfo},isForwarded:function(){return Boolean(this.get(".flags.forwarded"))},setForwarded:function(){this.set(".flags.forwarded",!0)},unsetForwarded:function(){this.set(".flags.forwarded",!1)},markForwarded:function(){this.setForwarded();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setForwarded(),new Daria.MOPS.Opinfo},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,function(t){return e.isMyEmail(t.email)})},_cleaningModelsAfterAction:function(){var e=ns.Model.get("messages-from-item",this.params);e.isValid()&&ns.Model.traverse("messages-from",function(t){t.remove(e)})},getTrustLevel:function(e){e=e||this.get(".type")||[];var t=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a>=51&&a<=56)return a-50}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return null},getMessagesListWidget:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.LIST_TYPE;return this.select(".widgets.".concat(e,"[0]"))[0]||null},getMessageLinksInfo:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.BODY_TYPE;return this.select(".widgets.".concat(e,'[.info.type == "url_info"].controls[.type == "rich_preview_link"].attributes'))||[]},isSubscriptionMessage:function(){return(this.get(".type")||[]).some(function(e){return-1!==n.a.indexOf(e)})},getSubscriptionType:function(){return(this.get(".type")||[]).find(function(e){return-1!==n.a.indexOf(e)})},getSubscriptionData:function(){return{email:this.getFromEmail(),displayName:this.getFromName(),messageType:this.getSubscriptionType()}},getSender:function(){var e=this.getFieldsByType(this.getMessageFieldName());if(e.length)return e[0]}}})},function(e,t){ns.Model.define("message-presentation",{params:{ids:null,hid:null,fid:null,mailboxUid:null},methods:{fill:function(e){this.setData({flags:e.get(".flags"),field:e.get(".field"),firstline:e.get(".firstline"),subject:e.get(".subject"),subject_prefix:e.get(".subject_prefix")})},ensureOnDestroyBinded:function(e){if(this._isBindedOnDestroy){if(e.key!==this._bindedOnDestroyMessageKey){var t="ensureOnDestroyBinded called more then once: was binded to "+this._bindedOnDestroyMessageKey+", now binding to "+e.key;Jane.ErrorLog.send({errorType:"message-presentation.error",params:JSON.stringify(this.params),errorMessage:t})}}else this._isBindedOnDestroy=!0,this._bindedOnDestroyMessageKey=e.key,this.destroyWith([e])}}},ns.ModelStatic)},function(e,t){ns.Model.define("message-widget-events",{params:{ids:null},methods:{request:function(){return ns.request("message-body",this.params).then(this._onRequestSuccess,this._onRequestError,this)},_onRequestSuccess:function(){var e=ns.Model.get("message-body",this.params);return this.params.inc_hid=e.getCalendarICS(),this.params.stid=e.getSTID(),ns.request("get-event-ics",this.params).then(this._onRequestSuccessEventData,function(e){return this.setData({error:e}),Vow.reject(e)},this)},_onRequestSuccessEventData:function(e){var t=e&&e[0]&&e[0].data;t=t||{},this.setData(t),this.updateEventsData()},updateEventsData:function(){this.getEventKey()&&(this.hasOutdatedLabelOnMessage()&&this.markOutdated(),ns.Model.traverse("message-widget-events",this._onUpdateEventData.bind(this)))},_onUpdateEventData:function(e){if(e.isValid()){var t=this.getEventKey(),r=ns.Model.get("message-body",this.params).get(".info.date.timestamp"),n=ns.Model.get("message-body",e.params).get(".info.date.timestamp");this!==e&&t===e.getEventKey()&&(n<=r||e.hasOutdatedLabelOnMessage()?e.markOutdated():this.markOutdated())}},getEventKey:function(){var e=this.get(".eventInfo.instanceKey");return e&&e[0]},getEventInfo:function(){return this.get(".eventInfo")},markOutdated:function(){this.getOutdatedLID()&&!this.hasOutdatedLabelOnMessage()&&this.setOutdatedLabel(),this.set(".isOutdated",!0)},hasOutdatedLabelOnMessage:function(){var e=this.getOutdatedLID();return!!e&&ns.Model.get("message",this.params).hasLabel(e)},getOutdatedLID:function(){return ns.Model.get("labels").getLIDByName("not_show_widget_event")},setOutdatedLabel:function(){Daria.MOPS.doActionWithMessages([this.params.ids],"label",{lid:this.getOutdatedLID()})},setEventInfo:function(e){this.set(".eventInfo",e),this.set(".isNotOperate",!1)},_onRequestError:function(e){return this.setData({error:e}),Vow.reject(e)},refetchEventIcs:function(){return ns.request("get-event-ics",this.params,{forced:!0}).then(this._onRequestSuccessEventData,function(e){return Vow.reject(e)},this)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337),i=(r.n(n),r(86)),o=r(329),a=r(1412),s=r.n(a);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}ns.Model.define("messages-checked",{params:Daria.params.messagesChecked,paramsRewrite:o.addMailboxUidParamsRewrite,ctor:function(){var e=this;this.touch=s()(this.touch,100,{trailing:!0,leading:!0}),this.bTouch=this.touch.bind(this),this.bChanged=s()(function(){e.trigger("ns-model-changed","")},100,{trailing:!0}),this.bOnMessagesInserted=this.onMessageInserted.bind(this),this.bOnMessagesRemoved=this.onMessageRemoved.bind(this)},events:{"ns-model-init":"_onInit","ns-model-destroyed":"_onDestroy"},methods:{INFOLINE_MESSAGES_COUNT:2,_mMessages:null,_onDestroy:function(){this._resetChecked(),this._mMessages.off("ns-model-insert",this.bOnMessagesInserted).off("ns-model-remove",this.bOnMessagesRemoved)},_onInit:function(){this._resetChecked(),this._mMessages=ns.Model.get("messages",this.params),this._mMessages.on("ns-model-insert",this.bOnMessagesInserted).on("ns-model-remove",this.bOnMessagesRemoved)},_resetChecked:function(){var e=this;_.forIn(this._checked,function(t){t.off("ns-model-touched",e.bTouch),t.off("ns-model-changed",e.bChanged)}),this._checked={},this._folderSelected=!1,this._listSelected=!1,this._tabSelected=!1,Object(i.getTabOrFolderCheckedBridge)().resetSelection({fid:this.params.current_folder,tid:this.params.tabId}),this._lastCheckedMessage=null,this.trigger("ns-model-reset-checked"),this.resetMemoizeAndTouch()},_resetMemoize:function(){Daria.memoizeClearCache(this.getCount)||(this.getCount=_.memoize(this.getCount)),Daria.memoizeClearCache(this.getData)||(this.getData=_.memoize(this.getData))},resetMemoizeAndTouch:function(){this._resetMemoize(),this.touch()},isValid:no.True,onMessageInserted:function(e,t){this.isFolderOrTabSelected()&&_.forEach(t,function(e){this.check(e,!0,{silent:!0})}.bind(this)),this.touch()},onMessageRemoved:function(e,t){_.forEach(t,function(e){this.check(e,!1,{silent:!0})}.bind(this)),this.touch()},resetChecked:function(){this._resetChecked()},getData:function(){return Object.keys(this.getCheckedMessagesHash())},isChecked:function(e){return Boolean(this._checked[e.get(".mid")])},isCheckedByMid:function(e){return Boolean(this._checked[e])},isSearchTopResultByMid:function(e){return this._mMessages.isSearchTopResult(e)},isCheckedByMidFromYate:function(e){var t=yr.nodeset2scalar(e);return this.isCheckedByMid(t)},toggleCheck:function(e){this.check(e,!this.isChecked(e)),this.setLastChecked(e)},check:function(e,t,r){var n=e.get(".mid");if(n||!e.get(".FAKE_THREAD_DATA")){var o=!1;r=_.extend({silent:!1},r),t?this._checked.hasOwnProperty(n)||(this._checked[n]=e,e.on("ns-model-touched",this.bTouch),e.on("ns-model-changed",this.bChanged),o=!0):(this._checked.hasOwnProperty(n)&&(delete this._checked[n],e.off("ns-model-touched",this.bTouch),e.off("ns-model-changed",this.bChanged),o=!0),this._listSelected=!1,this._folderSelected=!1,this._tabSelected=!1,Object(i.getTabOrFolderCheckedBridge)().resetSelection({fid:this.params.current_folder,tid:this.params.tabId})),o&&(this._resetMemoize(),r.silent||(this.touch(),this.triggerToggleCheckedOnMessage(e,r)))}},triggerToggleCheckedOnMessage:function(e,t){e.trigger("ns-model-checked-toggle",t,this.key)},checkByMidInParams:function(){if(this.params.mid){var e=ns.Model.get("message",{ids:this.params.mid,mailboxUid:this.params.mailboxUid});this.check(e,!0)}return this},isOnlyMessageChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length},isEmptyMessagesList:function(){return this._mMessages.isEmptyList()},isPinnedMessagesList:function(){return this._mMessages.hasOnlyPinnedMessages()},isOnlyMessageOrThreadChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length||0===e.ids.length&&1===e.tids.length},getOnlyMessageCheckedMid:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length?e.ids[0]:null},getOnlyCheckedMidOrTid:function(e){return e=e||this.getIds(),_.isEmpty(e.tids)?_.isEmpty(e.ids)?null:_.first(e.ids):_.first(e.tids)},getOnlyNotPinnedMessages:function(){return this._mMessages.models.filter(function(e){return!e.isPinned()})},getLabels:function(){var e=ns.Model.get("labels").getLabelsHash();return _(this.getCheckedMessages()).forEach(function(t){var r=t.get(".count"),n=t.get(".lid"),i=t.get(".lid_cnt");_(n).forEach(function(t){e[t]+=r>1?i[t]||0:r}).value()}).value(),e},getFolders:function(){var e=this,t=ns.Model.get("folders").getFoldersHash();if(this.isFolderSelected()){var r=this.getSelectedFolder();r&&(t[r]=ns.Model.get("folders").getCount(r))}else{var n=this.getIds();n.ids.concat(n.tids).forEach(function(r){var n=e.getCheckedMessagesHash()[r];t[n.getFolderId()]+=n.get(".count")})}return t},getTabs:function(){var e=ns.Model.get("tabs").get(".tabs").reduce(function(e,t){return e[t.id]=0,e},{});if(this.isTabSelected()){var t=this.getSelectedTab();if(t){var r=ns.Model.get("tab",{id:t}).getCount();return e[t]=r,e}}var n=this.getIds(),i=this.getCheckedMessagesHash();return[].concat(l(n.ids),l(n.tids)).reduce(function(e,t){var r=i[t];return r.getTabId()&&(e[r.getTabId()]+=r.get(".count")),e},e)},_getTotalCount:function(e){var t,r=e.tabId,n=e.fid;return r?t=ns.Model.get("tab",{id:r}).getCount():n&&(t=ns.Model.get("folders").getCount(n)),t},getCount:function(){var e=this,t=0;if(this.isFolderOrTabSelected())t=this._getTotalCount({fid:this.params.current_folder,tabId:Daria.router.getCurrentParams().tabId});else{var r=this.getIds();t=r.ids.length,r.tids.forEach(function(r){t+=e.getCheckedMessagesHash()[r].get(".count")})}return t},getPinnedCount:function(){var e=this,t=0;return this.getData().forEach(function(r){ns.Model.get("message",{ids:r,mailboxUid:e.params.mailboxUid}).isPinned()&&(t+=1)}),t},getCheckedMessages:function(){var e=this,t=this.getIds();return _.map(t.tids.concat(t.ids),function(t){return ns.Model.get("message",{ids:t,mailboxUid:e.params.mailboxUid})})},getCheckedMessagesHash:function(){return this._checked},isFolderSelected:function(){return this._folderSelected},isTabSelected:function(){return this._tabSelected},isFolderOrTabSelected:function(){return this.isTabSelected()||this.isFolderSelected()},selectFolder:function(){this._folderSelected||!Boolean(this.params.current_folder)||this.params.tabId||(this._folderSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch(),Object(i.getTabOrFolderCheckedBridge)().selectFolder({fid:this.params.current_folder,tid:this.params.tabId}))},selectTab:function(){!this._tabSelected&&Boolean(this.params.current_folder)&&Boolean(this.params.tabId)&&(this._tabSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch(),Object(i.getTabOrFolderCheckedBridge)().selectTab({fid:this.params.current_folder,tid:this.params.tabId}))},getSelectedFolder:function(){return this._folderSelected?this.params.current_folder:null},getSelectedTab:function(){return this._tabSelected?this.params.tabId:null},selectList:function(){this._listSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch()},isListSelected:function(){return this._listSelected},canShowInfoline:function(){return(this.getCheckedMessages()||[]).length>=this.INFOLINE_MESSAGES_COUNT},shouldSelectAll:function(){return!this.isListSelected()&&!this.isFolderSelected()&&!this.isTabSelected()},toggleSelectAll:function(){this.shouldSelectAll()?this.selectList():this.resetChecked()},_checkAllFromCollection:function(){var e=this._mMessages.isSearch(),t=this._mMessages.isLabeledCollection(),r=this._mMessages.isUnreadMessagesCollection(),o=this._mMessages.isInNoPinsFolder(),a=this._mMessages.isWithAttachmentMessagesCollection();this._mMessages.models.forEach(function(s){var l=this;(Object(n.hasFeature)(n.Features.WEB_SELECT_ALL_PINNED)||!s.isPinned()||e||t||r||o||a)&&(this.check(s,!0),s.data.tid&&Object(i.getExpandedThreadsModel)({threadId:s.data.tid}).isThreadExpanded&&ns.Model.get("messages",{thread_id:s.data.tid,sort_type:"date",mailboxUid:s.params.mailboxUid}).models.forEach(function(e){l.check(e,!0)}))},this)},areAllCheckedInFolderOrTab:function(){var e=this._getTotalCount({fid:Daria.router.getCurrentParams().current_folder,tabId:Daria.router.getCurrentParams().tabId}),t=this.getCount();return this.isFolderOrTabSelected()||t>0&&t>=e},_areAllCheckedRead:function(e){var t,r=Object(o.getMailboxUid)();if(this.isTabSelected())return t=ns.Model.get("tabs",{mailboxUid:r}).getUnreadCount(this.getSelectedTab()),e?!t:t;if(this.isFolderSelected())return t=ns.Model.get("folders",{mailboxUid:r}).getUnreadCount(this.getSelectedFolder()),e?!t:t;var n=this.getCheckedMessagesHash();return!_.isEmpty(n)&&_.every(n,function(t){var r=t.isNew();return e?!r:r})},areAllCheckedRead:function(){return this._areAllCheckedRead(!0)},areAllCheckedPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this.getCheckedMessages().filter(function(e){return e.isPinned()});return!_.difference(e,t).length},hasPinnedCheckedMessage:function(){return this.getCheckedMessages().some(function(e){return e.isPinned()})},hasImportantCheckedMessage:function(){return this.getCheckedMessages().some(function(e){return e.isImportant()})},areAllCheckedNotPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this._mMessages.models;if(e.length===t.length)return!1;var r=this.getCheckedMessages(),n=_.difference(t,r);return 0===_.difference(n,e).length},getIds:function(e,t){var r={threads:[],messages:[]},n=this.getCheckedMessagesHash();for(var i in n){var o=n[i];if(e){var a="to"+Daria.capitalize(e);if(o[a]&&!o[a](t))continue}r[o.isThreadModel()?"threads":"messages"].push(o)}var s={ids:[],tids:[]};return r.threads.forEach(function(e){var t=e.get(".mid");t&&(r.messages=r.messages.filter(function(e){return e.get(".tid")!==t}),s.tids.push(t))}),r.messages.length&&(s.ids=s.ids.concat(r.messages.map(function(e){return e.params.ids}))),s},runAction:function(e,t){var r={action:e,params:t};this.trigger("run-action",r)},runOps:function(e,t){return Daria.MOPS[e](this,t)},runLabelAction:function(e){return this.runAction("label",{lid:e})},getLastChecked:function(){if(Daria.is2pane())return this._lastCheckedMessage||this._mMessages.models[0];var e=Daria.router.getCurrentParams().thread_id||Daria.router.getCurrentParams().ids;return this._lastCheckedMessage||this._mMessages.getMessageByMid(e)||this._mMessages.models[0]},setLastChecked:function(e){var t=this.isChecked(e);if(t)this._lastCheckedMessage=e;else if(t||this._lastCheckedMessage!==e||(this._lastCheckedMessage=null),!this._lastCheckedMessage){var r=this._mMessages.models,n=r.indexOf(e);if(-1===n)return void(this._lastCheckedMessage=null);var i,o,a=null,s=1;do{if(i=r[n+s],o=r[n-s],i&&this.isChecked(i)){a=i;break}if(o&&this.isChecked(o)){a=o;break}s++}while(i||o);this._lastCheckedMessage=a}},getLidsSet:function(){var e=Object(o.getMailboxUid)(),t=this.getIds(),r=[].concat(l(t.ids),l(t.tids)),n=new Set;return r.forEach(function(t){ns.Model.get("message",{ids:t,mailboxUid:e}).get(".lid").forEach(function(e){return n.add(e)})}),n}}},ns.ModelStatic)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(374),i=r(497),o=r(1452),a=r(136),s=(r.n(a),r(511)),l=(r.n(s),r(2)),u=(r.n(l),r(329));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(){function e(e,r,n,i){i=i||Number.POSITIVE_INFINITY;for(var o=[],a=ns.Model.get("folders",{mailboxUid:r}),s=0,l=e.length;s<l;s++){var u=e[s].getData(),c=e[s].isThread();if((c||a.isIncoming(u.fid)&&t(u,n))&&(c?o.push({tid:u.tid}):o.push({mid:u.mid}),o.length>=i))break}return o}function t(e,t){return parseInt(e.size,10)<t}ns.Model.define("messages",{isStrictParams:!0,events:{"ns-model-before-destroyed":"_setRefreshCount","ns-model-insert":"_arrangeTopResultsFirst","ns-model-remove":"_onModelRemove"},params:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({mailboxUid:null,threaded:null,goto:null,filter_ids:null,current_folder:null,current_label:null,thread_id:null,extra_cond:null,page_number:null,sort_type:"date",request:null,datePager:null,mrange:null,excluded:null,search:null,force:null},s.AdvancedSearchParams.reduce(function(e,t){return e[t]=null,e},{}),{tabId:null,first:null,count:null,with_pins:"yes",allow_empty:null,prevent_update:null}),split:{items:".message",model_id:function(){return"message"},params:{ids:".mid",mailboxUid:".mailboxUid"}},paramsRewrite:function(e){return e.thread_id&&e.current_folder&&delete e.thread_id,"only_atta"===e.extra_cond&&delete e.current_folder,Daria.messages.checkUsePinsByParams(e)?e.with_pins="yes":delete e.with_pins,Object(u.addMailboxUidParamsRewrite)(e)},requiredFeatures:["web_search_extra_params"],methods:{SEARCH_PARAMS:["request","scope","unread","from","to","excluded","search","type","attaches","deleted"],_splitModels:function(e){this.params.prevent_update&&_.each(e,function(e){e.__prevent_update=!0});var t=this.super_._splitModels.apply(this,arguments),r=this.params.current_folder;return r&&t.forEach(function(e){if(e.isValid()){var t=_.extend({},e.params,{fid:r}),n=ns.Model.get("message-presentation",t);n.fill(e),n.ensureOnDestroyBinded(e)}}),t},preprocessData:function(e){return"yes"===this.params.threaded&&(e=this._createThreadsFromMessages(e)),_.defer(this.preloadAllMessages.bind(this)),e},getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return this.params.search&&(e.reqid=Daria.React.getSearchSessionId(),this.isSearchNotFilter()&&"count"in e&&(e.count=Math.max(e.count,10))),e.filter_ids&&(e.filter_ids=e.filter_ids.join()),e},_setRefreshCount:function(){this._refreshCount=this.models.length},_unsetRefreshCount:function(){delete this._refreshCount},_hasParamsForRequest:function(){var e=this.params,t="search"===e.search,r=e.deviation,n=e.current_folder,i=e.thread_id,o=e.current_label,a="all"===e.goto;return[t,r,n,i,o,a&&"only_new"===e.extra_cond,a&&"only_atta"===e.extra_cond,e.filter_ids,e.tabId].some(function(e){return e})},_fakeRequest:function(){return this.request=void 0,this.setData({details:{"has-more":!1},message:[]}),Vow.resolve()},getRequest:function(){var e=this;if(this.isFakeMessages())return this.params.allow_empty||Jane.ErrorLog.log({message:"Messages request without params",type:l.ErrorType.NsModel,source:l.ErrorSource.Logic,sourceMethod:l.ErrorSourceMethod.MessagesNoParams,block:l.ErrorBlock.MailModule,method:"getRequest",params:JSON.stringify(_.omit(this.params,"request"))},new Error),this.request=this._fakeRequest,this;if(this.isValid())return this;var t=this.getCount()||this._refreshCount;if(!t)return this;var r=this._getCountForRequest(t),n=ns.Model.get(this.id,$.extend({},this.params,{first:this.params.first||0,count:r}));return n.once("ns-model-changed",function(){e.setData(this.getData()),e._unsetRefreshCount(),ns.Model.destroy(this)}),n},_arrangeTopResultsFirst:function(){var e=this;this.isSearchNotFilter()&&Daria.arrangeMatchingFirstInline(this.models,function(t){return e.isSearchTopResult(t.get(".mid"))})},_onModelRemove:function(e,t){this._updateThreadMetaOnRemove(t),this._updateDetailsForSearch(t)},_updateThreadMetaOnRemove:function(e){var t=this.params.thread_id;if(t){var r=this.params.mailboxUid,n=ns.Model.get("message",{ids:t,mailboxUid:r});if(n.hasRealData()){var i=n.get(".last_mid");-1!==_.findIndex(e,function(e){return e.params.ids===i&&e.get(".date.timestamp")===n.get(".date.timestamp")})&&this.updateThreadMeta(n)}}},_updateDetailsForSearch:function(e){if(void 0!==this.get(".details.total-found")){var t=this.get(".details.total-found")||0,r=e.length;this.set(".details.total-found",Math.max(t-r,0));var n=this.get(".details.top-relevant")||0,i=this.get(".details.topResultsMids"),o=0;i&&(e.forEach(function(e){var t=e.get(".mid"),r=i.indexOf(t);r>-1&&(o++,i.splice(r,1))}),o>0&&(this.set(".details.top-relevant",Math.max(n-o,0)),this.set(".details.topResultsMids",i)))}},_createThreadsFromMessages:function(e){var t=this;return e.message=e.message.map(function(e){return t._createThreadFromMessage(e)}),e},_createThreadFromMessage:function(e){var t=this.params.mailboxUid,r=ns.Model.get("message",{ids:e.mid,mailboxUid:t}).setData(e);if(!Daria.messages.toCreateThread(r))return e;var n=_.cloneDeep(e);n.last_mid=e.mid,n.mid=n.tid;var i=ns.Model.get("messages",{thread_id:n.tid,mailboxUid:t});return i.isValid()||i.setData({details:{"has-more":!1},message:[e]}),n},loadMore:function(e){var t;e&&!this.isValid()?(t=0,this.clear()):t=this.getCount();var r=ns.Model.get("settings").getSetting("messages_per_page"),n=$.extend({},this.params,{first:t,count:r});return ns.request("messages",n).then(function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var r,n=t.get(".details")||{},i=this.get(".details")||{};("topResultsMids"in n||"topResultsMids"in i)&&(r=_.union(i.topResultsMids,n.topResultsMids));var o=$.extend(i,n);r&&(o.topResultsMids=r),this.set(".details",o,{silent:!0});var a=t.models;return this.insert(a),ns.Model.destroy(t),a},this)},refresh:function(){var e=_.assign({},this.params,{first:0,count:this._getCountForRequest(this.getCount())}),t=ns.Model.get(this.id,e),r=this;return t.once("ns-model-changed",function(){r.setData(this.getData())}),ns.request.models([t],{forced:!0}).then(function(){ns.Model.destroy(t)})},_getCountForRequest:function(e){var t=ns.Model.get("settings").getSetting("messages_per_page"),r=e||t;return r=Math.ceil(r/t)*t,r=Math.min(r,200)},canLoadMore:function(){return Boolean(this.get(".details.has-more"))},getCount:function(){return this.models.length},getUnreads:function(){return this.models.filter(function(e){return e.isNew()})},getUnreadCount:function(){return this.getUnreads().length},getPinned:function(){return this.models.filter(function(e){return e.isPinned()})},getTotal:function(){for(var e=0,t=0,r=this.models.length;t<r;t++)e+=this.models[t].get(".count");return e},preloadAllMessages:function(){var e=this.params,t=this.params.mailboxUid,r=ns.Model.get("folders",{mailboxUid:t}),n=e.current_folder;if(!n||!r.spamOrTrash(n)){var i=this.models.map(function(e){var t=e.get(".mid");return e.isThread()?{tid:t}:{mid:t}});Daria.messages.preload(i)}},preloadMessages:function(){var t,r=this.params,n=ns.Model.get("folders",{mailboxUid:r.mailboxUid}),i=r.current_folder;if(i===n.getFidBySymbol(a.WellKnownFolderSymbol.INBOX))t="inbox";else{if(i in n.ids())return!1;t="user_folder"}r.thread_id&&(t="thread");var o=this.getUnreads(),s=o.length;if(0===s)return!1;var l=this.getCount(),u=Math.round(s/l*100),c=[];switch(t){case"user_folder":(l<=10||u<=80)&&(c=e(o,r.mailboxUid,20,10));break;case"thread":default:l<=10||u<=30?c=e(o,r.mailboxUid,50):u<=80&&(c=e(o,r.mailboxUid,50,10))}return Daria.messages.preload(c),!0},getNextPage:function(){return jpath(this.data,".details.pager.next")[0]||null},getPrevPage:function(){return jpath(this.data,".details.pager.prev")[0]||null},deleteMessage:function(e){var t=this.params.mailboxUid,r=ns.Model.get("message",{ids:e,mailboxUid:t});return this.remove(r)},getCountThreadMessageInFolder:function(){return!this.canLoadMore()&&this.select('.message[.fid == "'+Daria.router.getCurrentParams().current_folder+'"]').length},getEmails:function(){var e={};return this.models.forEach(function(t){var r=t.getData(),n={};n.social=t.hasSocialLabels(),n.type=r.type,r.field.forEach(function(e){n[e.type]={ref:e.ref,email:e.email}}),e[r.mid]=n}),e},isFakeMessages:function(){return this.canRequest()&&!this._hasParamsForRequest()},insertMessage:function(e,t){if(!this.isValid())return!1;ns.events.trigger("daria:vContextMenu:close"),t&&this.remove(t);var r=0;return"yes"!==this.params.with_pins||e.isPinned()||(r=this.getPinned().length),this.insert(e,r),!0},insertMessageBySort:function(e){if(!this.isValid())return!1;if(this.isEmptyList())this.insert(e);else{var t,n,i=r[this.params.sort_type];ns.assert(i,"mMessages","invalid sort type");var o=this.models.length,a=this.getPinned().length;e.isPinned()?(n=this.models.slice(0,a),-1===(t=_.findIndex(n,i,e))&&(t=a)):(n=this.models.slice(a),-1===(t=_.findIndex(n,i,e))?t=o:t+=a),(t>=0&&t<o||!this.canLoadMore())&&this.insert(e,t)}},updateThreadMeta:function(e){var t=_.findIndex(this.models,function(e){return e.isExternalLike()});-1===t&&(t=0);var r=this.models[t];r&&e.updateThreadContextInfo(r)},isEmptyList:function(){return this.isValid()&&0===this.getCount()},isSearch:function(){return Object.keys(this.params).some(function(e){return _.include(this.SEARCH_PARAMS,e)},this)},isLabeledCollection:function(){return Boolean(this.params.current_label)},isInNoPinsFolder:function(){var e=this.params.mailboxUid,t=ns.Model.get("folders",{mailboxUid:e}),r=this.params.current_folder;return r&&(t.spamOrTrash(r)||t.draftOrTemplate(r))},isSearchNotFilter:function(){return Boolean(this.params.search)&&(Boolean(this.params.request)||Boolean(this.params.fid)||Boolean(this.params.lid))&&"rpopinfo"!==this.params.scope},isSearchTopResult:function(e){return(this.get(".details.topResultsMids")||[]).indexOf(e)>-1},isUnreadMessagesCollection:function(){return"only_new"===this.params.extra_cond||"yes"===this.params.unread||"unread"===this.params.unread},isWithAttachmentMessagesCollection:function(){return"only_atta"===this.params.extra_cond},isImportantMessagesCollection:function(){var e=this.params.mailboxUid,t=ns.Model.get("labels",{mailboxUid:e});return this.params.current_label===t.getImportantLID()},_doOper:function(e,t){var r=new Daria.MOPS.Opinfo,n=this.models.length;if(!n)return r.resetAdjust(),r;r.setModelsCount(n);for(var i=0;i<n;i++){var o=this.models[i][e](t);r.merge(o)}return r},mark:function(){return this._doOper("mark")},unmark:function(){return this._doOper("unmark")},label:function(e){return this._doOper("label",e)},unlabel:function(e){return this._doOper("unlabel",e)},hasOnlyPinnedMessages:function(){return!this.hasUnpinned()&&!this.canLoadMore()},hasMessageWithLabel:function(e,t){var r=this.models.length;if(!r||r!==t)return null;for(var n=0;n<r;n++)if(this.models[n].hasLabel(e))return!0;return!1},getPrevMessageByMid:function(e){return this.getNearestMessageByMid(e,"prev")},getNextMessageByMid:function(e){return this.getNearestMessageByMid(e,"next")},getNearestMessageByMid:function(e,t){if(!e)return!1;var r=this.params.mailboxUid,n=ns.Model.get("message",{ids:e,mailboxUid:r}),i=this.models,o=i.indexOf(n),a=-1;switch(t){case"prev":a=o-1;break;case"next":a=o+1}return i[a]||!1},getMessageByMid:function(e){return _.find(this.models,"params.ids",e)||null},recalculateIndexesAfterPin:function(e,t){var r=this.params.current_folder,n=this.params.tabId;this.remove(e),e.forEach(function(e){var i=Daria.areFoldersTabsEnabled()&&e.isInTab()&&n===e.getTabId(),o=r===e.getFolderId();(t||!t&&(!n&&o||i))&&this.insertMessageBySort(e)},this)},getLastReplyMessage:function(){for(var e,t=0,r=this.models.length;t<r&&!(e=this.models[t]).canReply();t++);return e},getLastReplyMessageQR:function(){return _.find(this.models,function(e){return e.canReplyQR()})},hasUnpinned:function(){return this.models.some(function(e){return!e.isPinned()})},hasMessagesFromFolder:function(e){return-1!==_.findIndex(this.models,function(t){return t.getFolderId()===e})},hasMessagesFromTab:function(e,t){return-1!==_.findIndex(this.models,function(r){return r.getFolderId()===e&&r.getTabId()===t})},setError:function(){this.scenarioManager.hasActiveScenario(n.c)&&this.scenarioManager.getActiveScenario(n.c).logError(i.d),this.scenarioManager.hasActiveScenario(n.d)&&this.scenarioManager.getActiveScenario(n.d).logError(o.b),ns.Model.prototype.setError.apply(this,arguments)}}},"model-collection-with-scenario-manager-mixin");var r={from:function(e){return e.getFromName().toLowerCase()>this.getFromName().toLowerCase()},from1:function(e){return e.getFromName().toLowerCase()<this.getFromName().toLowerCase()},date:function(e){return e.get(".date.timestamp")<this.get(".date.timestamp")},date1:function(e){return e.get(".date.timestamp")>this.get(".date.timestamp")},size:function(e){return e.get(".length")<this.get(".length")},size1:function(e){return e.get(".length")>this.get(".length")},subject:function(e){return e.getSubject().toLowerCase()>this.getSubject().toLowerCase()},subject1:function(e){return e.getSubject().toLowerCase()<this.getSubject().toLowerCase()}}}()},function(e,t){ns.Model.define("message-head-state",{params:{ids:null,hid:null},events:{"ns-model-init":function(){var e=ns.Model.get("settings"),t=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_SENDER_CLOSE)&&e.isSet(this.SETTING_MSG_HEAD_SENDER_CLOSE)),r=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_RECIEVERS_OPEN)&&e.isSet(this.SETTING_MSG_HEAD_RECIEVERS_OPEN));this.setData({"sender-closed":t,"recievers-opened":r})}},methods:{SETTING_MSG_HEAD_SENDER_CLOSE:"m_head_folded_sender",SETTING_MSG_HEAD_RECIEVERS_OPEN:"m_head_full_edition",toggleSenderOpened:function(){var e=this.get(".sender-closed");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_SENDER_CLOSE,this._onSettingsChangeSuccess.bind(this))),this.set(".sender-closed",!e),!e},setRecieversOpened:function(e){this.set(".recievers-opened",e)},getRecieversOpened:function(){return this.get(".recievers-opened")},toggleRecieversOpened:function(){var e=this.get(".recievers-opened");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_RECIEVERS_OPEN,this._onSettingsChangeSuccess.bind(this))),this.set(".recievers-opened",!e),!e},_onSettingsChangeSuccess:function(){this._lockToggleMessageHead=!1}}},ns.ModelStatic)},function(e,t){ns.Model.define("module-common",{methods:{MODULES:[],request:function(){var e=this;return Jane.Services.runModules(this.MODULES).then(function(){return e.afterRunModules()}).then(function(){return e.finishRequest()})},afterRunModules:function(){},finishRequest:function(){this.setData(!0),ns.Model.get("app-state").set(".".concat(this.id,"-loaded"),!0)}}})},function(e,t){ns.Model.define("module-compose",{methods:{MODULES:["compose.css","compose2.js"]}},"module-common")},function(e,t){ns.Model.define("module-editor",{methods:{MODULES:["ckeditor.js","editor.css"]}},"module-common")},function(e,t){ns.Model.define("module-message",{methods:{MODULES:["message.css","message.js","message.yate"]}},"module-common")},function(e,t){ns.Model.define("module-promo",{methods:{MODULES:["promo.css","promo.js"]}},"module-common")},function(e,t){ns.Model.define("module-setup",{methods:{MODULES:["setup.css","setup.js","setup.yate"]}},"module-common")},function(e,t){ns.Model.define("scroller-common",{methods:{EVENT_NAME:"MUST_BE_DEFINED",HEIGHT_KEY:".height",OFFSET_HEIGHT_KEY:".offset-height",SCROLL_HEIGHT_KEY:".scroll-height",SCROLL_BOTTOM_KEY:".scroll-bottom",SCROLL_TOP_KEY:".scroll-top",_rafTimer:0,_$area:null,init:function(){this.getScroller(),this._onResizeBinded||(this._onResizeBinded=!0,ns.Model.get("dimensions").on("resize",this._onScroll.bind(this)))},_initScroller:function(){var e="scroll."+this.id;this._$area&&(this._$area.off(e),this._$area=null),this._$area=this._getScroller(),this._$area[0]===window?this._$animatedArea=$("body, html"):this._$animatedArea=this._$area,this._$area.on(e,this._onScroll.bind(this))},_getScroller:ns.todo,_onScroll:function(){this._rafTimer||(this.clean(),ns.events.trigger(this.EVENT_NAME))},clean:function(){this.setData({},{silent:!0}),this._rafTimer=0},getScrollOffset:function(){return 0},getNodeTop:function(e){var t=this.getScroller()[0];if(t===window)return e.getBoundingClientRect().top+this.getScrollTop();var r=0,n=e;do{if(r+=n.offsetTop,(n=n.offsetParent)&&n===t)break}while(n);return r},getScroller:function(){var e=this._$area&&this._$area[0];return e&&($.isWindow(e)||document.body.contains(e))||this._initScroller(),this._$area},getHeight:function(){var e=this.get(this.HEIGHT_KEY);return"number"!=typeof e&&(e=this.getScroller().height(),this._setDimension(this.HEIGHT_KEY,e)),e},getScrollHeight:function(e){var t=this.get(this.SCROLL_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("scrollHeight"),this._setDimension(this.SCROLL_HEIGHT_KEY,t)),t},getOffsetHeight:function(e){var t=this.get(this.OFFSET_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("offsetHeight"),this._setDimension(this.OFFSET_HEIGHT_KEY,t)),t},getScrollBottom:function(){var e=this.get(this.SCROLL_BOTTOM_KEY);return"number"!=typeof e&&(e=this.getScrollHeight()-this.getHeight()-this.getScrollTop(),this._setDimension(this.SCROLL_BOTTOM_KEY,e)),e},getScrollTop:function(){var e=this.get(this.SCROLL_TOP_KEY);return"number"!=typeof e&&(e=this.getScroller().scrollTop(),this._setDimension(this.SCROLL_TOP_KEY,e)),e},getVDimensions:function(){var e=this.getScrollTop()+this.getScrollOffset();return{bottom:e+this.getHeight(),top:e}},setScrollTop:function(e,t){if(this._$animatedArea.stop(),t){var r=this;this._rafTimer="ANIMATED",this._$animatedArea.animate({scrollTop:e},{duration:"fast",always:function(){r._rafTimer=null,r._onScroll()}})}else this._$animatedArea.scrollTop(e)},scrollIntoView:function(e,t){var r,n="boolean"==typeof(t=t||{}).alignToTop,i=Number(t.viewTopOffset)||0,o=Number(t.viewBottomOffset)||0,a=$(e),s=t.relative?e.offsetTop:a.offset().top,l=s+a.outerHeight(),u=this.getScrollTop()+Math.abs(i),c=u+this.getHeight()+o;return l>c&&(!1===t.alignToTop||!n)?r=u+(l-c):s<u&&(!0===t.alignToTop||!n)&&(r=s+i),void 0!==r&&(r=Math.max(Math.floor(r),0),this.setScrollTop(r,Boolean(t.animate)),!0)},isRelativeOffset:function(){return!1},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}},ns.ModelStatic)},function(e,t){ns.Model.define("scroller-message",{events:{"ns-model-init":"clean"},methods:{THREAD_HEAD_HEIGHT:47,EVENT_NAME:"daria:vScrollerMessage:scroll",getScrollOffset:function(){return this.THREAD_HEAD_HEIGHT},isRelativeOffset:function(){return Daria.is3pane()},_getScroller:function(){return $(".js-messages-scroll-area")}}},"scroller-common")},function(e,t){ns.Model.define("scroller-messages",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerMessages:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Daria.is2pane()?$(".js-messages-scroll-area"):$(".mail-Layout-Pane-Wrap")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("scroller-compose",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerCompose:scroll",getScrollOffset:function(){return 0},isRelativeOffset:function(){return!1},_getScroller:function(){return Daria.is2pane()?$(window):$(".js-compose-scroller")}}},"scroller-common")},function(e,t){ns.Model.define("scroller-abook-contacts",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerAbookContacts:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Daria.is2pane()?$(window):$(".js-entries-container")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("secret-key")},function(e,t){ns.Model.define("disk-editor-secret-key")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(374),i=r(497);ns.Model.define("email-info-v2",{events:{"ns-model-init":"_onInit"},params:{email:null},methods:{_onInit:function(){this.params.email||this.setData({})},setError:function(){this.scenarioManager.hasActiveScenario(n.c)&&this.scenarioManager.getActiveScenario(n.c).logError(i.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")},function(e,t){ns.Model.define("informer-tanks-news",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){setInterval(function(){ns.Model.invalidate("informer-tanks-news")},18e5)},preprocessData:function(e){if(!_.isEmpty(e))return e.forEach(function(e){e.date&&(e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)),e.firstline&&(e.firstline=$(e.firstline)[0].innerText.trim())}),e}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(337));r.n(i);ns.Model.define("settings-sign",{methods:{SETTINGS_SIGN:{allow_pers_data_autocomplete:"_defaultTrue",browser_notify_blank:"_invert",compose_samples:"_defaultTrue",disable_etickets:"_invert",disable_promo:"_invert",disable_inboxattachs:"_invert",disable_events:"_invert",disable_yabbles:"_invert",enable_imap_auth_plain:"_defaultTrue",notify_message:"_signNotifyMessage",timeline_enable:"_signTimelineEnable",right_column_expanded:"_defaultTrue",show_priority_label:"_defaultTrue",show_priority_stuff:"_signShowPriorityStuff",show_priority_tab:"_defaultTrue",subscribed_folders:"_allFoldersByDefault",subscribed_tabs:"_tabsByDefault",show_widgets_decor:"_defaultTrue",show_widgets_buttons:"_defaultTrue",show_sidebar_with_widgets:"_defaultTrue",liza_minified_header:Object(i.hasFeature)(i.Features.WEB_GLOBALBAR_VERTICAL)?"_defaultTrue":"_invert",show_shared_mailboxes:"_defaultTrue"},getSign:function(e,t){var r=this.getSetting(e,t),n=this.SETTINGS_SIGN[e];return n&&(r=_.method(n,r,e)(this)),r},signToSetting:function(e,t){var r=this.SETTINGS_SIGN[e];return"_invert"===r&&(t=_.method(r,t,e)(this)),t},_invert:function(e){return!e},_defaultTrue:function(e,t){return e=!this.hasSetting(t)||this.getSetting(t),Boolean(e)},_zeroByDefault:function(e,t){return this.hasSetting(t)?Number(this.getSetting(t)):0},_signNotifyMessage:function(e,t){return this.hasSetting(t)||(e=!Daria.IS_CORP),Boolean(e)},_signTimelineEnable:function(){return ns.Model.get("settings").checkTimelineEnable()},_allFoldersByDefault:function(){var e=ns.Model.get("folders"),t=ns.Model.get("settings").getSetting("subscribed_folders");if("string"!=typeof t){var r=e.getInboxFolders().sort();if(Daria.areFoldersTabsEnabled()){var i=ns.Model.get("folders").getFidBySymbol(n.WellKnownFolderSymbol.INBOX);return r.filter(function(e){return e!==i})}return r}var o=[];return"["===t[0]?o=JSON.parse(t.replace(/&quot;/g,'"')):t&&(o=t.split(",")),o.filter(e.isPresentAndNotShared.bind(e))},_tabsByDefault:function(){var e=ns.Model.get("settings").getSetting("subscribed_tabs");if("string"!=typeof e)return Daria.areFoldersTabsEnabled()?["relevant"]:[];var t=[];return"["===e[0]?t=JSON.parse(e.replace(/&quot;/g,'"')):e&&(t=e.split(",")),t},_signShowPriorityStuff:function(e,t){if(this.hasSetting(t))return Boolean(this.getSetting(t));var r=this.getSign("show_priority_label"),n=this.getSign("show_priority_tab");return Boolean(r&&n)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1453);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=["show_external_contact_notification_on_read","show_external_contact_notification_on_compose","friendly_org_users_is_external"],t=[{name:"enable_hotkeys",trueValue:!0}],r={POPULAR_CONTACTS_SETTING_NAME:"compose_samples",getSetting:function(e,r){if(Daria.Config.NO_SETTINGS){var n=_.find(t,"name",e);if(n)return n.trueValue}var i=this.get("."+e);if("json"===r)try{return JSON.parse(decodeURIComponent(i))}catch(e){return{}}return i},hasSetting:function(e){return(this.getData()||{}).hasOwnProperty(e)},isSet:function(e){return!(!Daria.Config.NO_SETTINGS||!_.find(t,"name",e))||Boolean(this.get("."+e))},setSettingOn:function(e,t){if(t=t||Jane.Common.nop,this.isSet(e))t(!0);else{var r={};r[e]=!0,this.setSettings(r,function(e,r){t(e,r)})}},setSettingOff:function(e,t){if(t=t||Jane.Common.nop,this.isSet(e)){var r={};r[e]=!1,this.setSettings(r,function(e,r){t(e,r)})}else t(!0)},toggleSetting:function(e,t){this.isSet(e)?this.setSettingOff(e,t):this.setSettingOn(e,t)},setSettings:function(e,t,r){if("function"==typeof t&&(r=t,t=null),t=t||{},Daria.Config.NO_SETTINGS||$.isEmptyObject(e))return vow.reject("settings not available");r=r||Jane.Common.nop;var o=this._makeSaveRequest(e);if(null===o)return r(!0,[]),vow.resolve();if(o.error)return r(!1,o.error),vow.reject();for(var a in e)this.setIfChanged("."+a,e[a],t);var s=this.id,l=ns.forcedRequest([{id:"do-".concat(s),params:o},{id:s,params:Object.assign({},this.params,{actual:!0,list:o.list})}]).then(function(e){var o=ns.Model.get(s),a=e[1].getData(),l=!1;a&&"object"===i(a)&&Object.keys(a).forEach(function(e){o.setIfChanged("."+e,a[e],t),l=l||Object(n.a)(e)}),l&&Object(n.b)(o.getData()),ns.Model.destroy(e[1]),r(!0,[])},function(){r(!1,[])});return vow.resolve().then(function(){return l})},getMultiSetting:function(e){return this.getSetting(e,"json")||{}},saveMultiSetting:function(e,t){if("object"!==i(t)||null===t)throw new TypeError("Parameter value must be not empty object");var r=$.Deferred(),n={};n[e]=t;var o=this;return this.setSettings(n,function(){r.resolve(o.getData())}),r.promise()}};r.updateSetting=function(e,t,r){if(arguments.length<2)throw new Error(Daria.supplant("updateSettings takes exactly 2 arguments - {argc} given",{argc:arguments.length}));if(!e)throw new Error("Argument `name` must be specified");var n=e.split(".");e=n[0],n.length>1&&(t=function(e,t){_.isString(e)&&(e=e.split("."));var r=_.size(e)-1;return e.reduce(function(e,n,i){var o=i===r?t:{},a=_.last(e)[n]=o;return e.push(a),e},[{}])[0]}(n.slice(1),t));var i,o=this.getSetting(e,"json");return i=$.isPlainObject(t)?_.merge({},o,t):t,this.setSettings(_.zipObject([e],[i]),r)},r.recordAttemptToRegisterMAILTOProtocolHandler=function(e,t){if(t=Boolean(t),!e)return!1;var r=this.getSetting("rph")||"mozilla=0&opera=0&webkit=0",n=e+"="+Number(t);return!_(r).contains(n)&&(r=r.replace(e+"="+Number(!t),n),this.setSettings({rph:r}),!0)},r._checkSName=function(t){if(!t)throw new Error("Parameter namespace is compulsory");if((t=String(t)).length>50&&!e.includes(t))throw new RangeError('Namespace "'+t+'" can not be over than 50 chars');return{name:t}},r._checkSValue=function(e,t){var r=$.type(t);switch(r){case"boolean":case"object":case"array":case"string":case"null":case"undefined":case"number":break;default:throw new TypeError('Invalid type setting "'+e+'" value: '+r)}return{value:t,error:!1}},r._makeSaveRequest=function(e){var t={},r=[],n=[];for(var i in e)if("signs"!==i){var o=this._checkSName(i),a=this._checkSValue(i,e[i]);!1===a.error?(t[o.name]=a.value,r.push(o.name)):n.push(a.error)}else Daria.debug.error('Please, use model "signs"');return n.length?{error:n}:{actual:!0,list:r.join(","),params:JSON.stringify(t)}},r.isNativeEmail=function(){var e=this.getSetting("emails"),t=Daria.email.normalize(this.getSetting("default_email")).toLowerCase();return(e.filter(function(e){return e.native?Daria.email.normalize(e.address).toLowerCase()===t:e.address&&e.address.toLowerCase()===t})[0]||{}).native},r.getValidatedEmails=function(){return this.get(".reply_to")||[]},ns.Model.define("settings-base",{methods:r},"settings-sign")}()},function(e,t,r){"use strict";var n="".concat("stngs",".").concat("1");e.exports={COOKIE_NAME:"stngs",COOKIE_VERSION:"1",COOKIE_SIGN:n,SETTINGS_FALLBACK:[{name:"color_scheme",defaultValue:"colorful"},{name:"layout",defaultValue:0},{name:"messages_avatars",defaultValue:!0},{name:"enable_autosave",defaultValue:!0}],SETTINGS_FALLBACK_KEY:"FALLBACK"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337);r.n(n);ns.Model.define("settings",{params:{list:null,actual:null},events:{"ns-model-changed.color_scheme":"_onColorSchemeChange"},methods:{preprocessData:function(e){return["from_name"].forEach(function(t){e.hasOwnProperty(t)&&(e[t]=_.unescape(e[t]))}),Object(n.hasFeature)(n.Features.WEB_SMART_DISPLAY_NAME)&&(e.from_name=[Daria.Config.name&&Daria.Config.name.last,Daria.Config.name&&Daria.Config.name.first,Daria.Config.name&&Daria.Config.name.middle].filter(Boolean).join(" ")),Modernizr.ios&&(e.enable_richedit=!1),ns.events.trigger("settings-updated"),Object.assign(e,Object(n.getFeatureParams)(n.Features.SETTINGS_OVERRIDE)||{}),e.messages_per_page=30,e},getPromoThemeSettingName:function(e){var t="_shown";return e&&(t="_set"),"promo_theme"+t},withBiggerText:function(){return this.isSet("with_bigger_text")},getCurrentTheme:function(){return this.getSetting("color_scheme")},getEnablePop:function(){return this.getSetting("enable_pop")},_onColorSchemeChange:function(){ns.events.trigger("daria:themes:mail-theme-change",this.getCurrentTheme())},checkTimelineEnable:function(){return Daria.checkTimelineAvailable()&&!this.hasSetting("timeline_enable")||this.isSet("timeline_enable")},isThreaded:function(){return this.isSet("folder_thread_view")},threadedOn:function(){this.isThreaded()||this.setSettingOn("folder_thread_view")},threadedOff:function(){this.isThreaded()&&this.setSettingOff("folder_thread_view")},threadedToggle:function(){this.isThreaded()?this.threadedOff():this.threadedOn()},setLastActive:function(e){this.setSettings({last_active:Daria.now()},e)},setOpenedFolders:function(e){var t=e.join(",");this.setSettings({folders_open:t})}}},"settings-base")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329),i=r(337);r.n(i);ns.Model.define("mailbox-settings",{params:{list:null,actual:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){var t=this;if(["from_name"].forEach(function(t){e.hasOwnProperty(t)&&(e[t]=_.unescape(e[t]))}),Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME))if(this.params.mailboxUid){var r=this._getFromName();r?e.from_name=r:ns.request("ws-userinfo",{mailboxUid:this.params.mailboxUid,fields:"name"}).then(function(){return t._updateFromName()})}else e.from_name=[Daria.Config.name&&Daria.Config.name.last,Daria.Config.name&&Daria.Config.name.first,Daria.Config.name&&Daria.Config.name.middle].filter(Boolean).join(" ");return e},_updateFromName:function(){var e=this._getFromName();e&&this.set(".from_name",e)},_getFromName:function(){var e=ns.Model.get("ws-userinfo",{mailboxUid:this.params.mailboxUid,fields:"name"});if(e.isValid()){var t=e.get(".name");return[t&&t.last,t&&t.first,t&&t.middle].filter(Boolean).join(" ")}}}},"settings")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("label",{events:{"ns-model-changed.count":"_onChangedCount"},params:{lid:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{_onChangedCount:function(){if(this.data&&this.data.hasOwnProperty("unused")){var e=this.get(".count");this.setIfChanged(".unused",!e,{silent:!0})}},getUnreadCount:function(){return this.get(".unreadCount")||0},adjustUnreadCount:function(e){var t=this.getUnreadCount(),r=Math.max(t+e,0);this.setIfChanged(".unreadCount",r)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(539),i=(r.n(n),r(329));!function(){ns.Model.define("labels",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,split:{items:".label",params:{lid:".lid",mailboxUid:".mailboxUid"},model_id:"label"},methods:{_cacheByLid:{},_cacheByName:{},_cacheUserLabelsByName:{},LABEL_PINNED_SYMBOL_NAME:"pinned_label",LABEL_MUTE_SYMBOL_NAME:"mute_label",LABEL_PHISHING_NAME:"73",preprocessData:function(e){return this._cacheByName={},this._cacheUserLabelsByName={},this._cacheByLid={},this.sortLabels(e.label),e.label.forEach(function(e){var t,i=e.name,o=r[i];o?("dating"===o?t=i18n("%Labels_Social_Label_Datingsite"):"groupon"===o?t=i18n("%Labels_Social_Label_Grouponsite"):"yasupport"===o?(t=i18n("%Labels_Social_Label_Yasupport"),e.yaservice=!0):"videoletter"===o?(t=i18n("%Labels_Social_Label_Videoletter"),e.yaservice=!0):"eticket"===o?t=i18n("%Labels_Social_Label_Eticket"):i.indexOf("ya")>-1||"moikrug"===i?(t=i18n("%Labels_Social_Label_Yandex",o),e.yaservice=!0):t=i18n("%Labels_Social_Label",o),e.social=!0,e.title=t):(e.user&&e.name.length>15&&(e.name=e.name.substr(0,15)+"…"),delete e.social),e.symbolicName===n.WellKnownLabels.IMPORTANT&&(e.name=i18n("%Labels_Important")),e.symbolicName===n.WellKnownLabels.REMIND_NO_ANSWER&&(e.name=i18n("%Labels_Жду_ответа"))}),e},sortLabels:function(e){var t=ns.Model.get("settings").getSetting("label_sort");t&&e.sort(o[t])},getSOLabelName:function(t){var r=this.getLabelById(t);return r&&r.name&&0===r.name.indexOf(e)?r.name:null},getImportantLID:function(){var e=this.getLabelBySymbolicName("important_label");return e?e.lid:null},getPriorityLID:function(){var e=this.getLabelBySymbolicName("hamon_label");return e?e.lid:null},getLIDByName:function(e){var t=this.getLabelByName(e);return t?t.lid:null},getLabelById:function(e){var t=this.params.mailboxUid;return ns.Model.get("label",{lid:e,mailboxUid:t}).getData()},getLabelBySymbolicName:function(e){if(!this._cacheByLid.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".symbolicName")===e});t&&(this._cacheByLid[e]=t.getData())}return this._cacheByLid[e]},getLabelByName:function(e){if(!this._cacheByName.hasOwnProperty(e)&&!this._cacheUserLabelsByName.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".name")===e});t&&(this._cacheByName[e]=t.getData())}return this._cacheByName[e]||this._cacheUserLabelsByName[e]},getUserLabelByName:function(e){if(!this._cacheUserLabelsByName.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".user")&&t.get(".name")===e});t&&(this._cacheUserLabelsByName[e]=t.getData())}return this._cacheUserLabelsByName[e]},adjustCounters:function(e){var t=this.params.mailboxUid,r=!1;for(var n in e){var i=this.getLabelById(n);if(i)ns.Model.get("label",{lid:i.lid,mailboxUid:t}).set(".count",i.count+e[n]),r=!0}return r&&this.touch(),r},getLabelsHash:function(){var e={};return this.models.forEach(function(t){var r=t.getData();r.lid&&(r.user||r.default)&&!r.social&&!("deleted"===r.name&&r.default)&&(e[r.lid]=0)}),e},getUserLabelsCount:function(){var e=0;return this.models.forEach(function(t){t.get(".user")&&e++}),e},isSocial:function(e){var t=this.getLabelById(e);return Boolean(t&&"social"in t)},getWaitingForReplyLabel:function(){return this.getLabelBySymbolicName(n.WellKnownLabels.REMIND_NO_ANSWER)},getDelayedMessageLabel:function(){return this.getLabelByName(t)},getPhishingLabel:function(){return this.getLabelByName(this.LABEL_PHISHING_NAME)},getPinnedLabel:function(){return this.getLabelBySymbolicName(this.LABEL_PINNED_SYMBOL_NAME)},canShowEventWidget:function(e){var t=this;return!e.some(function(e){var r=t.getLabelById(e);return r&&"not_show_widget_event"===r.name})},getMuteThreadLabel:function(){return this.getLabelBySymbolicName(this.LABEL_MUTE_SYMBOL_NAME)},hasUnusedUserLabels:function(){return this.models.some(function(e){return e.get(".user")&&e.get(".unused")})},getLidsWithUnreadCounter:function(){return[this.getPriorityLID()].filter(Boolean)},adjustUnreadCounters:function(e){Object.keys(e).forEach(function(t){var r=ns.Model.get("label",{lid:t});r&&r.adjustUnreadCount(e[t])})}}});var e="SystMetkaSO:",t="delayed_message",r={yaru:"Я.ру",yandexfotki:"Яндекс Фотки",yandexvideo:"Яндекс Видео",yadirect:"Яндекс Директ",yacards:"Яндекс Открытки",yamarket:"Яндекс Маркет",yanarod:"Яндекс Народ",yaauto:"Яндекс Авто",yacal:"Яндекс Календарь",yasupport:"yasupport",yamoney:"Яндекс Деньги",yandexmusic:"Яндекс Музыка",yandexwiki:"Яндекс Вики",yasitesearch:"Яндекс Поиск",yaxml:"Яндекс XML",yawebmaster:"Яндекс Вебмастер",yabetatest:"Яндекс Бета",yadisk:"Яндекс Диск",videoletter:"videoletter",moikrug:"Мой Круг",jira:"jira",yandexcom:"Yandex",yandexru:"Яндекс",yandexcomtr:"Yandex",atushka:"atushka",odnoklassniki:"Odnoklassniki.ru",vtnrf0okru:"Odnoklassniki.ru",liveinternet:"Liveinternet.ru",livejournal:"Livejournal.com",vkontakte:"VK.com",vtnrf0vkcom:"VK.com",facebook:"Facebook.com",friendfeed:"Friendfeed.com",habrahabr:"Habrahabr.ru",mirtesen:"Mirtesen.ru",twitter:"Twitter.com",headhunter:"HeadHunter.ru",ozonru:"Ozon.ru",fotostrana:"Fotostrana.ru",subscribe:"Subscribe.ru",mnogoru:"Mnogo.ru",executive:"E-xecutive.ru",myspace:"Myspase.com",youtube:"Youtube.com",professionali:"Professionali.ru",rutube:"Rutube.ru",pingadmin:"Ping-admin.ru",markafoni:"Markafoni.com",yonja:"Yonja.com",formspring:"Formspring.me",oley:"Oley.com",stumbleupon:"Stumbleupon.com",vedomostiru:"Ведомости","yves-rocherru":"yves-rocher.ru",workua:"Work.ua",wordpresscom:"Wordpress",womanjournalru:"wmj.ru",vshtate:"vshtate.ru",vkrugudruzei:"vkrugudruzei",victoriassecretcom:"Victoria's Secret",topshopru:"TOPSHOP",superjob:"SuperJob.ru",smartresponderru:"smartresponder.ru",skyperu:"skype.com",ottoru:"otto.ru",molotokru:"molotok.ru",mcafeecom:"McAfee.com",linkedin:"Linkedin",lamodaru:"lamoda.ru",geometriaru:"Geometria.ru",futuretodayru:"FutureToday.ru",freelance:"Free-lance.ru",evernoteru:"Evernote.com",dissercatcom:"disserCat.com",bookingcom:"Booking.com",b2bcenterru:"B2B-Center.ru",applecom:"Apple.com","24open":"24open",datingsite:"dating",vtnrf0datingsite:"dating",grouponsite:"groupon","4square":"foursquare.com",allegropl:"allegro.pl",darudarorg:"darudar.org",ebaycom:"ebay.com",forum2x2ru:"forum2x2.ru",gideparkru:"gidepark.ru",joobleru:"jooble.ru",justclickru:"JustClick.ru",kolizeoru:"kolizeo.ru",newsprofipostorg:"profi-post.org",newsquickofficecom:"Quickoffice.com",servicegirlsgogamesru:"GirlsgoGames.ru",tradesu:"trade.su",biznesbombaru:"biznesbomba.ru",gate32ru:"gate-32.ru",specservercom:"specserver.com",butikru:"butik.ru",pcdaysru:"pcdays.ru","7yaru":"7ya.ru",info74ru:"info74.ru",floridecorru:"floridecor.ru",allsoftru:"allsoft.ru",forumhouseru:"forumhouse.ru",shopdeluxeru:"shopdeluxe.ru",loccitaneru:"loccitane.ru",emeacom:"ea.com",yarabota:"Яндекс Работа",yarealty:"Яндекс Недвижимость",vtnrf024open:"24open.ru",vtnrf04square:"Foursquare",vtnrf07yaru:"7я.ру",vtnrf0afyru:"AFY.ru",vtnrf0allegropl:"Аллегро",vtnrf0allsoftru:"Allsoft",vtnrf0applecom:"Apple",vtnrf0aukroua:"Aukro.ua",vtnrf0avitoru:"AVITO.ru",vtnrf0b2bcenterru:"В2В-Center",vtnrf0beonru:"BeOn",vtnrf0bigbuzzyru:"groupon",vtnrf0biznesbombaru:"Biznesbomba",vtnrf0bookingcom:"Booking.com",vtnrf0burningmancom:"BurningMan.com",vtnrf0busuucom:"busuu.com",vtnrf0butikru:"Бутик.ру",vtnrf0chocolifeme:"Chocolife.me",vtnrf0crewardscom:"crewards.com",vtnrf0darudarorg:"Дару-дар",vtnrf0dealextremecom:"DealExtreme",vtnrf0diaryru:"Diary.ru",vtnrf0dissercatcom:"DisserCat.com",vtnrf0drimmicom:"Drimmicom",vtnrf0ebaycom:"Ebay",vtnrf0emeacom:"EA.com",vtnrf0emirates:"Emirates",vtnrf0evernoteru:"Evernote",vtnrf0executive:"Executive",vtnrf0facebook:"Facebook",vtnrf0floridecorru:"Флор&Декор",vtnrf0formspring:"Formspring",vtnrf0forum2x2ru:"2x2",vtnrf0forumhouseru:"Хост.ру",vtnrf0freelance:"Freelance",vtnrf0friendfeed:"Friendfeed",vtnrf0futuretodayru:"Futuretoday",vtnrf0gate32ru:"Gate32",vtnrf0geometriaru:"Geometria",vtnrf0getresponsecom:"Getresponse.com",vtnrf0gideparkru:"Гайдпарк",vtnrf0githubcom:"Github.com",vtnrf0googlegroupscom:"Google groups",vtnrf0googlecom:"Google",vtnrf0grouponsite:"groupon",vtnrf0gurboyru:"groupon",vtnrf0habrahabr:"Хабрахабр",vtnrf0headhunter:"HH.ru",vtnrf0imnicamailcom:"Imnica mail",vtnrf0info74ru:"Инфо74",vtnrf0infobonprixde:"Bonprix",vtnrf0internetprosru:"Интернет опрос",vtnrf0iskusnitsaru:"Искусница",vtnrf0jobsmarketru:"Jobsmarket.ru",vtnrf0joobleru:"Joobler.u",vtnrf0justclickru:"Just Click",vtnrf0kolizeoru:"KOLIZEO.ru",vtnrf0lamodaru:"Lamoda.ru",vtnrf0linkedin:"Linkedin",vtnrf0liveinternet:"LiveInternet",vtnrf0livejournal:"Livejournal",vtnrf0loccitaneru:"L'occitane",vtnrf0mailluxaleru:"Luxale",vtnrf0markafoni:"Markafoni",vtnrf0mcafeecom:"McAfee",vtnrf0mirtesen:"Мир Тесен",vtnrf0mnogoru:"MNOGO.ru",vtnrf0moikrug:"Мой Круг",vtnrf0molotokru:"Молоток.ру",vtnrf0myfantru:"groupon",vtnrf0myspace:"MY SPACE ",vtnrf0notifyastrostarru:"Астростар.ру",vtnrf0oley:"Oley",vtnrf0ottoru:"Oтто.ру",vtnrf0ozonru:"Озон.ру",vtnrf0pathcom:"Path.com",vtnrf0paypalcom:"PayPal.com",vtnrf0pcdaysru:"PC Days",vtnrf0pingadmin:"Ping-Admin.Ru",vtnrf0professionali:"Профессионалы",vtnrf0quelleinforu:"Quelle",vtnrf0quickofficecom:"Quickoffice",vtnrf0radiomarketru:"Радио Маркет",vtnrf0rdwru:"Работа для Вас",vtnrf0regru:"reg.ru",vtnrf0rutube:"Rutube",vtnrf0servicegirlsgogamesru:"GirlsgoGames",vtnrf0skyperu:"Skype.ru",vtnrf0smartresponderru:"SmartResponder",vtnrf0specservercom:"specserver.com",vtnrf0sprashivairu:"Спрашивай.ру",vtnrf0stumbleupon:"Stumbleupon",vtnrf0subscribe:"Subscribe",vtnrf0superjob:"Superjob",vtnrf0teszveszhu:"teszves",vtnrf0topshopru:"Топ-Шоп.ру",vtnrf0tradesu:"TRADE.SU",vtnrf0twitter:"twitter",vtnrf0vabankcom:"vabank.com",vtnrf0vedomostiru:"Ведомости",vtnrf0victoriassecretcom:"Victoria's secret",vtnrf0vkrugudruzei:"В кругу друзей ",vtnrf0vshtate:"В Штате",vtnrf0wmjru:"Womanjournal",vtnrf0wordpresscom:"Wordpress",vtnrf0workua:"Work.ua",vtnrf0yangutucom:"Yangutu",vtnrf0yonja:"Yonja",vtnrf0youtube:"Youtube","vtnrf0yves-rocherru":"Yves Rocher",vtnrf07vetrovmskru:"7 Ветров",vtnrf0anketkaru:"Анкетка.ру",vtnrf0askfm:"Ask.fm",vtnrf0aviasalesru:"Aviasales.ru",vtnrf0babyblogru:"БебиБлог",vtnrf0babyru:"бэби.ру",vtnrf0bio4freecom:"Bio4free.com",vtnrf0chingoraclecom:"Chingoracle.com",vtnrf0dotnewsru:"Dotnews.ru",vtnrf0edarlingru:"Edarling.ru",vtnrf0finance1ru:"Finance1.ru",vtnrf0fxcluborg:"Forex club",vtnrf0gamenetru:"GameNet",vtnrf0horoscopofreecom:"Horoscopofree.com",vtnrf0jobru:"Job.ru",vtnrf0kissesru:"Kisses.ru",vtnrf0liststarotaroru:"ТароТаро",vtnrf0liveexpertru:"Liveexpert.ru",vtnrf0livemasterru:"Livemaster.ru",vtnrf0malinaru:"Малина",vtnrf0mamsyru:"Mamsy.ru",vtnrf0meggymallru:"Meggy Mall",vtnrf0mithostru:"Mitinfo.ru",vtnrf0pokerstarscom:"PokerStars.com",vtnrf0prestigeua:"Prestige",vtnrf0probelovnet:"Пробелов.Нет",vtnrf0promenadru:"Promenad",vtnrf0qualitynetua:"Quality.net",vtnrf0rabotaua:"Rabota.ua",vtnrf0rugionru:"RUgion",vtnrf0sapatoru:"Sapato.ru",vtnrf0slandoru:"Slando.ru",vtnrf0softkeyru:"Softkey.ru",vtnrf0stilagoinfo:"Emailvision",vtnrf0taggedmailcom:"Tagged",vtnrf0theboutiqueru:"Boutique.ru",vtnrf0topfacecom:"Topface",vtnrf0torrnadoru:"torrНадо.ru",vtnrf0transportlineru:"TransportLine",vtnrf0trudcom:"Trud.com",vtnrf0westwingru:"Westwing",vtnrf0wildberriesru:"Wildberries",vtnrf0wmmailru:"Wmmail.ru",vtnrf0worldoftanksru:"World of Tanks",vtnrf0yourclotheseu:"Boutique.ru"},o={by_abc:function(e,t){return e instanceof ns.Model&&(e=e.getData()),t instanceof ns.Model&&(t=t.getData()),e.name.toLowerCase().localeCompare(t.name.toLowerCase())||e.user-t.user},by_count:function(e,t){return e instanceof ns.Model&&(e=e.getData()),t instanceof ns.Model&&(t=t.getData()),e.user||t.user?t.count-e.count||o.by_abc(e,t):-1}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(329));function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}ns.Model.define("folder",{params:{fid:null,mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{request:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.request([{id:"folders",params:{mailboxUid:this.params.mailboxUid}}]);case 2:t=e.sent,r=o(t,1),n=r[0],(i=n.get(".folder").find(function(e){return e.fid===a.params.fid}))&&this.setData(i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),preprocessData:function(e){Daria.IS_CORP&&this.data&&(["new","count"].some(function(t){return this.get("."+t)!==e[t]},this)&&this._messagesInvalidate());return e},hasDataChanged:function(e){return!_.isEqual(this.getData(),e)},getRecent:function(){return this.get(".recent")},adjustUnreads:function(e){if(this.isValid()){var t=this.getUnreadsCount(),r=Math.max(t+e,0);r!==t&&(this.set(".new",r),this.setHasUnread(r>0))}},getParent:function(){var e=this.get(".parent_id");return e?ns.Model.get("folder",{fid:e}):null},getUnreadsCount:function(){return this.get(".new")},getSubfolders:function(){return this.get(".subfolder")},hasUnreads:function(){return this.getUnreadsCount()>0},hasUnreadsDeep:function(){return this.get(".has-unread")||this.hasUnreads()},hasNestingToggler:function(){var e=this.getSubfolders();if(!e||!e.length)return!1;var t=!0;if(ns.Model.get("settings").getSetting("hide_empty_folders")&&this.hasUnreads()){var r=!1;e.forEach(function(e){r=r||!ns.Model.get("folders").isIncoming(e)||ns.Model.get("folder",{fid:e}).hasUnreads()}),r||(t=!1)}return t},isFolded:function(){return this.get(".folded")},isOpen:function(){return this.get(".opened")},updateCounts:function(e){if(this.isValid()){var t={};if(_.isNumber(e.count)){var r=this.get(".count"),n=e.count;t.count=n-r,0!==t.count&&this.set(".count",n)}if(_.isNumber(e.new)){var i=this.getUnreadsCount(),o=e.new;if(t.new=o-i,0!==t.new){this.set(".new",o);var a=ns.Model.get("folders");a.spamOrTrash(this.params.fid)||a.adjustAllUnreads(t.new)}}return t}},recalcOpened:function(){var e=ns.Model.get("folders").isFolder(this.get(".fid"),n.WellKnownFolderSymbol.ARCHIVE);if(Daria.areFoldersTabsEnabled()&&e)this.setIfChanged(".opened",!0);else{var t=this.getParent();if(t){var r=!0;t.isFolded()&&(r=!1),t.isOpen()||(r=!1),this.set(".opened",r),this._toggleSubfoldersOpened()}}},setHasUnread:function(e){var t=e||this.hasUnreads();t||this.getSubfolders().forEach(function(e){var r=ns.Model.get("folder",{fid:e}).get(".has-unread");t=t||r}),this.setIfChanged(".has-unread",t);var r=this.getParent();r&&r.get(".symbol")!==n.WellKnownFolderSymbol.INBOX&&r.setHasUnread(e)},setRecent:function(){this.setIfChanged(".recent",!0)},switchFolded:function(e){var t=this.getData(),r=this.get(".fid");if(!this.getSubfolders().length)return!1;var n=ns.Model.get("folders").getOpenedFolders(),i=t.folded;if(_.isBoolean(e)){if(e===i)return i;i=!e}return Jane.Array.remove(n,r),i?(this.set(".folded",!1),n.push(r)):this.set(".folded",!0),ns.Model.get("settings").setOpenedFolders(n),this._toggleSubfoldersOpened(),!i},_toggleSubfoldersOpened:function(){this.getSubfolders().forEach(function(e){ns.Model.get("folder",{fid:e}).recalcOpened()})},_messagesInvalidate:function(){var e=this.params.fid;Daria.router.getCurrentParams().current_folder!==e&&(ns.Model.invalidate("messages",function(t){if(t.params.current_folder===e)return t.models.length&&t.models.forEach(function(e){ns.Model.get("messages",{thread_id:e.get(".tid")}).invalidate()}),!0}),ns.Model.invalidate("messages-item-state",function(t){return t.params.current_folder===e}))}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136),i=(r.n(n),r(329)),o=r(337);r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(){var e,t={},r=(u(e={},n.WellKnownFolderSymbol.INBOX,i18n("%Folder_inbox")),u(e,n.WellKnownFolderSymbol.SENT,i18n("%Folder_sent")),u(e,n.WellKnownFolderSymbol.TRASH,i18n("%Folder_trash")),u(e,n.WellKnownFolderSymbol.SPAM,i18n("%Folder_spam")),u(e,n.WellKnownFolderSymbol.DRAFT,i18n("%Folder_draft")),u(e,n.WellKnownFolderSymbol.OUTBOX,i18n("%Folder_outbox")),u(e,n.WellKnownFolderSymbol.TEMPLATE,i18n("%Folder_templates")),u(e,n.WellKnownFolderSymbol.ARCHIVE,i18n("%Folder_archive")),u(e,n.WellKnownFolderSymbol.RESTORED,i18n("%Folder_restored")),u(e,n.WellKnownFolderSymbol.REPLY_LATER,i18n("%Folder_reply_later")),e);function c(){return n.SystemFolders.slice()}t.getFolderById=function(e){var t=this.params.mailboxUid;return ns.Model.get("folder",{fid:e,mailboxUid:t}).getData()},t.hasFolder=function(e){return"object"===l(this.data)&&this.data.folder.some(function(t){return t.fid===e})},t.getFoldersByName=function(e){var t;return"object"===l(this.data)&&(t=_.find(this.data.folder,function(t){return t.name===e})),[t]},t.getSubfolders=function(e){return jpath(this.data,'.folder[.parent_id == "'+e+'"]')},t.isPresentAndNotShared=function(e){return Boolean(jpath(this.data,'.folder[.fid == "'+e+'" && !.shared ]').length)},t.getSubfoldersFid=function(e){return $.map(this.getSubfolders(e)||[],function(e){return e.fid})},t.getAllSubfoldersFid=function(e){return function e(t){for(var r=this.getSubfoldersFid(t),n=r.length;n--;)r=r.concat(e.call(this,r[n]));return r}.call(this,e)},t.getInboxFolders=function(){var e=this.get(".folder"),t=e[0].fid,r=e.reduce(function(e,t){return e[t.fid]=t,e},{}),n=e.reduce(function(e,t){return e[t.fid]=t.parent_id?function e(t,r){var n=t[r.parent_id];return n.parent_id?e(t,n):n}(r,t).fid:t.fid,e},{});return Object.keys(n).filter(function(e){return n[e]===t&&!r[e].shared})},t.spamOrTrash=function(e){return this.isFolder(e,[n.WellKnownFolderSymbol.TRASH,n.WellKnownFolderSymbol.SPAM])},t.draftOrTemplate=function(e){return this.isFolder(e,[n.WellKnownFolderSymbol.TEMPLATE,n.WellKnownFolderSymbol.DRAFT])},t.isIncoming=function(e){return!this.isFolder(e,n.NotIncoming)},t.isSystemFolder=function(e){var t=this.getFolderById(e);return!!t&&(!t.user&&this.isFolder(e,c()))},t.isSystemFolderChild=function(e,t){var r=this,n=this.getFolderById(e);if(!n||!n.user||this.isSystemFolder(e))return!1;var i=c(),o="function"==typeof t?i.filter(t):i;return!!o.length&&o.some(function(t){return r.hasChildByFid(r.getFidBySymbol(t),e)})},t.getDroppableListFid=function(){var e=this,t=$.grep(this.get(".folder"),function(t){return e.isDroppable(t.fid)});return t=$.map(t,function(e){return e.fid})},t.getMoveFoldersFid=function(e){if(!this.isDraggable(e))return[];var t=this.getDroppableListFid(),r=this.getAllSubfoldersFid(e);return r=r.concat(e),t=$.grep(t,function(e){return-1===$.inArray(e,r)})},t.comparePosition=function(e,t){var r=!e.symbol&&e.user,i=!t.symbol&&t.user,o=e.name.toLowerCase(),a=t.name.toLowerCase(),s=e.folder_options.position,l=t.folder_options.position,u=r?s:1e12+Number(e.order||0),c=i?l:1e12+Number(t.order||0);return e.symbol===n.WellKnownFolderSymbol.INBOX&&(u=-1),t.symbol===n.WellKnownFolderSymbol.INBOX&&(c=-1),u<c?-1:u>c?1:o<a?-1:o>a?1:0},t.getNeighborFids=function(e){var t,r=e&&this.getFolderById(e);return r?((t=r.parent_id?this.getSubfolders(r.parent_id):$.grep(this.get(".folder"),function(e){return!e.parent_id&&e.user&&!e.symbol})).sort(this.comparePosition),$.map(t,function(e){return e.fid})):[]},t.getParentFid=function(e){var t=e&&this.getFolderById(e);return t&&t.parent_id||this.getFolderBySymbol(n.WellKnownFolderSymbol.INBOX).fid},t.getTopParent=function(e){for(var t=this.getFolderById(this.getParentFid(e));t&&!t.symbol;)t=this.getFolderById(this.getParentFid(t.fid));return t},t.isDroppable=function(e){var t=e&&this.getFolderById(e);if(!t)return!1;var r=this.getTopParent(e);return!(!r||r.symbol!==n.WellKnownFolderSymbol.INBOX)&&(t.user&&!t.symbol&&!t.shared||t.symbol===n.WellKnownFolderSymbol.INBOX)},t.isDraggable=function(e){var t=e&&this.getFolderById(e);if(!t)return!1;var r=this.getTopParent(e);return!(!r||r.symbol!==n.WellKnownFolderSymbol.INBOX)&&(t.user&&!t.symbol&&!t.shared)},t.moveIn=function(e,t){var r=$.Deferred();if(e===t)return r.resolve("donot"),r.promise();var i,o=this.getFolderById(e),a=this.getParentFid(e),s=this.getFolderById(t);if(!o||!s)return r.reject("notfound"),r.promise();if(!this.isDraggable(e)||!this.isDroppable(t))return r.reject("noaccess"),r.promise();if(a===t)return r.resolve("donot"),r.promise();i=t?this.getSubfolders(t):$.grep(this.get(".folder"),function(e){return!e.parent_id});for(var l=0;l<i.length;l++)if(i[l].name===o.name)return r.reject("nameduplicate"),r.promise();this.getFolderBySymbol(n.WellKnownFolderSymbol.INBOX).fid===t&&(t=0);var u=this.params.mailboxUid;return ns.forcedRequest([{id:"do-folder-move",params:{fid:e,parent_id:t,mailboxUid:u}},{id:"folders",params:{mailboxUid:u}}]).then(function(){r.resolve("ok")},function(){r.reject("actionerror")}),r.promise()},t.moveAfter=function(e,t){var r=$.Deferred();if(e===t)return r.resolve("donot"),r.promise();var n=this.getFolderById(e);if(!n||!$.isPlainObject(n.folder_options))return r.reject("notfound"),r.promise();if(!this.isDraggable(e))return r.reject("noaccessfid"),r.promise();var i,o=$({}),a=this;if(t){if(!this.isDroppable(t))return r.reject("noaccessover"),r.promise();var s=this.getParentFid(e),l=this.getParentFid(t);if(s!==l)o.queue(function(t){a.moveIn(e,l).done(t).fail(r.reject)});else if(i=this.getNeighborFids(e),$.inArray(e,i)===$.inArray(t,i)+1)return r.resolve("donot"),r.promise()}else if(i=this.getNeighborFids(e),0===$.inArray(e,i))return r.resolve("donot"),r.promise();return o.queue(function(){ns.forcedRequest([{id:"do-folder-set-options",params:{fid:e,prev:t||0}},{id:"folders"}]).then(function(){r.resolve("ok");var n=a.getNeighborFids(t||e),i=$.inArray(e,n),o=$.inArray(t,n);(t&&i!==o+1||!t&&0!==i)&&Jane.ErrorLog.send({event:"folders.move.position",status:"position_error",fid:e+":"+a.getFolderById(e).folder_options.position,overFid:t?t+":"+a.getFolderById(t).folder_options.position:void 0})},function(){r.reject("actionerror")})}),r.promise()},t.moveBefore=function(e,t){var r=$.Deferred(),n=this.getNeighborFids(t),i=n[$.inArray(t,n)-1];if(i)this.moveAfter(e,i).done(r.resolve).fail(r.reject);else{var o=$({}),a=this,s=this.getParentFid(t);o.queue(function(t){a.moveIn(e,s).done(t).fail(r.reject)}),o.queue(function(){a.moveAfter(e,!1).done(r.resolve).fail(r.reject)})}return r.promise()},t.getCount=function(e){var t=this.getFolderById(e);return t?t.count:null},t.getUnreadCount=function(e){var t=e?this.getFolderById(e):this.data;return t?Number(t.new):null},t.getFoldersHash=function(){var e=this.getData(),t={};return e&&$.each(e.folder,function(){t[this.fid]=0}),t},t.isShared=function(e){var t=this.getFolderById(e);return Boolean(t&&t.shared)},t.getDefaultFolderName=function(e){return r[e]},t.setSymbol=function(e,t){var r=this.params.mailboxUid,n=[{id:"do-folder-set-symbol",params:{fid:e,symbol:t,mailboxUid:r}},{id:"folders",params:{mailboxUid:r}}];return ns.forcedRequest(n).then(function(e){var r=Vow.promise(),n=e[1].getFolderBySymbol(t);return n?(ns.events.trigger("daria:mFolders:symbolSet",n),r.fulfill(n)):r.reject(new Error(Daria.supplant("Symbol {symbol} was not set on folder",{symbol:t}))),r})},t.isArchive=function(e){var t=this.getFolderById(e);return!!t&&t.symbol===n.WellKnownFolderSymbol.ARCHIVE},t.getCountUserFolders=function(){return jpath(this.data,".folder[.user]").length},t.createArchiveFolder=function(){var e,t=this,r=t.getFolderBySymbol(n.WellKnownFolderSymbol.ARCHIVE),i=t.getFoldersByName("Archive").shift(),o="Archive"!==i18n("%Folder_archive")?t.getFoldersByName(i18n("%Folder_archive")).shift():null,a=Vow.promise(),s=this.params.mailboxUid;return r||i||o?r||!i&&!o?a.fulfill(r):i?a=t.setSymbol(i.fid,n.WellKnownFolderSymbol.ARCHIVE):o&&(e=[{id:"do-folder-rename",params:{fname:"Archive",fid:o.fid,mailboxUid:s}},{id:"folders",params:{mailboxUid:s}}],a=ns.forcedRequest(e).then(function(){return t.setSymbol(o.fid,n.WellKnownFolderSymbol.ARCHIVE).fail(function(){})})):(e=[{id:"do-folders-add",params:{folder_name:"Archive",mailboxUid:s}},{id:"folders",params:{mailboxUid:s}}],a=ns.forcedRequest(e).then(function(e){var t=Vow.promise(),r=e[1].getFolderByName("Archive");return r&&r.fid?t.fulfill(r):t.reject("New folder has no fid"),t}).then(function(e){return t.setSymbol(e.fid,n.WellKnownFolderSymbol.ARCHIVE).fail(function(){})})),a},t.getHierarchyStructure=function(e,t,r){var i=this,o=this.getFolderById.bind(this),a=this.get(".folder");_.find(a,{symbol:n.WellKnownFolderSymbol.INBOX}).items=u(_.filter(a,function(e){return e.user&&!e.parent_id}));var l=_.filter(a,function(e){return!e.user&&!e.parent_id});function u(t){var r=[];t=t.sort(i.comparePosition);for(var n=0;n<t.length;++n){var a=t[n];_.isFunction(e)&&!e(a)||((a=_.clone(a)).subfolder&&(a.items=u(a.subfolder.map(o))),delete a.subfolder,delete a.parent_id,r.push(a))}return r}var c=u(l);if(t){var d=_.findIndex(c,{symbol:n.WellKnownFolderSymbol.INBOX}),f=c[d].items,g=l.slice(0,d),p=l.slice(d+1);c=r?s(f):[].concat(s(g),s(f),s(p))}return c},t.logDragndropAbility=function(){var e=this.get(".folder");if(e)for(var t=0,r=0,n=e.length;r<n;r++)if(this.isDraggable(e[r].fid)&&++t>1)return void Jane.c("Drag-n-drop","Драгндроп папок","Показ папок в инбоксе (больше 1, драг разрешен)")},ns.Model.define("folders",{isStrictParams:!0,params:{mailboxUid:null,useV2:null,isPop3:null},split:{items:".folder",params:{fid:".fid",mailboxUid:".mailboxUid"},model_id:"folder"},paramsRewrite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object(i.addMailboxUidParamsRewrite)(e);var t=Boolean(ns.Model.get("settings").getEnablePop());return Object(o.hasFeature)(o.Features.WEB_NEW_API_FOLDERS)&&(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{useV2:!0,isPop3:t})),e},methods:$.extend({_ids:{},_symbols:{},_cacheBySymbol:{},preprocessData:function(e){this._hasUserFolders=!1,this._hasNestedFolders=!1;for(var t=Daria.router.getCurrentParams().current_folder,i={},o={},a={},s=e.folder,l={},u=this._getOpenedFolders(e),c=0,d=s.length;c<d;c++){var f=s[c],g=f.fid,p=f.symbol;l[g]=f;var m=t&&g!==t,h=this.getFolderById(g),v=h&&f.count!==h.count;m&&v&&Daria.messages.clearCacheByFID(g),p&&(p in r&&(f.name=r[p]),i[p]=g,o[p]=f,a[g]=p),!this._hasUserFolders&&f.user&&(this._hasUserFolders=!0),this._hasNestedFolders||!f.user&&!f.parent_id||(this._hasNestedFolders=!0),f.subfolder.length>0?f.folded=!_.includes(u,g):f.folded=!1,f.opened=!0;var b=Daria.areFoldersTabsEnabled()&&f.symbol===n.WellKnownFolderSymbol.ARCHIVE;if(f.parent_id&&!b){var y=l[f.parent_id];y.folded&&(f.opened=!1),y.opened||(f.opened=!1)}f.mailboxUid=this.params.mailboxUid}return this._ids=i,this._cacheBySymbol=o,this._symbols=a,this.toggleMarkFolders(e),e},_getOpenedFolders:function(e){return ns.Model.get("settings").hasSetting("folders_open")?this._getOpenedFoldersFromSettings():this._getOpenedFoldersFromData(e)},_getOpenedFoldersFromSettings:function(){var e=ns.Model.get("settings").getSetting("folders_open");return e?e.split(","):[]},_getOpenedFoldersFromData:function(e){var t=[];return e.folder.forEach(function(e){[n.WellKnownFolderSymbol.INBOX,n.WellKnownFolderSymbol.DRAFT].includes(e.symbol)&&t.push(e.fid),e.subfolder.length&&Array.prototype.push.apply(t,e.subfolder)}),_.uniq(t)},getOpenedFolders:function(){return this._getOpenedFolders(this.data)},symbols:function(){return this._ids},ids:function(){return this._symbols},hasUserFolders:function(){return this._hasUserFolders},hasNestedFolders:function(){return this._hasNestedFolders},getFolderByName:function(e,t){var r,i,o=this.getData();o&&(t||(i=this.getFidBySymbol(n.WellKnownFolderSymbol.INBOX)),r=_.find(o.folder,function(r){return r.name===e&&(t?r.parent_id===t:!r.parent_id||r.parent_id===i)}));return r},getFolderBySymbol:function(e){return this._cacheBySymbol[e]},getFidBySymbol:function(e){return this._ids[e]},isFolder:function(e,t){if(!e)return!1;Array.isArray(t)||(t=[t]);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(this._ids.hasOwnProperty(i)&&e===this._ids[i])return!0}return!1},isReplyLaterAllowed:function(e){return Boolean(e&&this.hasFolder(e)&&!this.isFolder(e,n.ReplyLaterDisabledFolders))},isCurrentFolder:function(e){return this.isFolder(Daria.router.getCurrentParams().current_folder,e)},createTemplateFolder:function(){var e,t=Vow.promise(),i=this.getFolderBySymbol(n.WellKnownFolderSymbol.TEMPLATE),o=this.getFidBySymbol(n.WellKnownFolderSymbol.DRAFT),a=this.getSubfolders(o),s=_.find(a,function(e){return"template"===e.name}),l=_.find(a,function(e){return e.name===r.template});return i||s||l?i||!s&&!l?t.fulfill(i):s?t=this.setSymbol(s.fid,n.WellKnownFolderSymbol.TEMPLATE):l&&(e=[{id:"do-folder-rename",params:{fname:"template",fid:l.fid,parent_id:o}},{id:"folders"}],t=ns.forcedRequest(e).then(function(){return this.setSymbol(l.fid,n.WellKnownFolderSymbol.TEMPLATE)}.bind(this))):(e=[{id:"do-folders-add",params:{folder_name:"template",parent_id:o}}],t=ns.forcedRequest(e).then(function(e){var t=e[0];return this.setSymbol(t.getFid(),n.WellKnownFolderSymbol.TEMPLATE)}.bind(this))),t},adjustUnreadCounters:function(e){var t=this.params.mailboxUid,r=!1,i=0;for(var o in e){var a=ns.Model.get("folder",{fid:o,mailboxUid:t});a.adjustUnreads(e[o]),-1===n.UnreadHiddenFoldersShort.indexOf(a.get(".symbol"))&&(i+=e[o],r=!0)}return r&&this.adjustAllUnreads(i),ns.events.trigger("updateMailboxCounters",{unread:i,fresh:0,mailboxUid:this.params.mailboxUid}),r},toggleMarkFolders:function(e){var t={};$.each(jpath(e,".folder[.parent_id && !.subfolders]"),function(r,i){var o,a=0;do{if((i=o?jpath(e,'.folder[.fid == "'+o+'"]')[0]:i).symbol===n.WellKnownFolderSymbol.INBOX)return!0;if(a+=Number(i.new),o in t)return!0;a?(i["has-unread"]=!0,t[i.fid]=1):i["has-unread"]=!1,o=i.parent_id}while(o)})},hasChildByFid:function(e,t){var r=this.getFolderById(e),n=r&&r.subfolder?r.subfolder:[],i=0!==n.length&&n.indexOf(t)>-1,o=this;return _.forEach(n,function(e){i=i||o.hasChildByFid(e,t)}),i},adjustAllUnreads:function(e){var t=this.get(".new"),r=Math.max(t+e,0);t!==r&&this.set(".new",r)}},t)})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}ns.Model.define("tab",{params:{id:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{request:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,n,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.request([{id:"tabs",params:{mailboxUid:this.params.mailboxUid}}]);case 2:t=e.sent,r=i(t,1),n=r[0],(o=n.getTabs().find(function(e){return e.id===a.params.id}))&&this.setData(o);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getUnreadCount:function(){return this.get(".counters.new")||0},getCount:function(){return this.get(".counters.all")},_setUnreadCount:function(e){return this.set(".counters.new",e)},getRecent:function(){return this.get(".counters.recent")},setRecent:function(){this.setIfChanged(".counters.recent",!0)},clearRecent:function(){delete this.getData().counters.recent},adjustUnreadCount:function(e){var t=this.getUnreadCount(),r=Math.max(Number(t)+Number(e),0);t!==r&&this._setUnreadCount(r)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329),i=[{id:"relevant",title:i18n("%Folder_tabs_Inbox"),description:"",iconName:"mail--NewTabs-Default",emptyText:i18n("%Empty_tab_inbox")},{id:"news",title:i18n("%Folder_tabs_News"),description:i18n("%Folder_tabs_News_descr"),iconName:"mail--NewTabs-News",emptyText:i18n("%Empty_tab_maillists")},{id:"social",title:i18n("%Folder_tabs_Social"),description:i18n("%Folder_tabs_Social_descr"),iconName:"mail--NewTabs-Social",emptyText:i18n("%Empty_tab_social")}];ns.Model.define("tabs",{params:{mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,split:{items:".tabs",params:{id:".id"},model_id:"tab"},methods:{preprocessData:function(e){return{tabs:i.map(function(t){return Object.assign({},t,e[t.id])})}},getTab:function(e){var t=Object(n.getMailboxUid)(),r=ns.Model.get("tab",t?{id:e,mailboxUid:t}:{id:e});return r.isValid()?r:null},getTabs:function(){return this.models.slice()},getFoldersTabsList:function(){return this.models.map(function(e){return e.getData()})},getFoldersTabsIds:function(){return i.map(function(e){return e.id})},getUnreadCount:function(e){var t=this.getTab(e);return t?t.getUnreadCount():0},adjustUnreadCounters:function(e){var t=this;return Object.keys(e).reduce(function(r,n){var i=t.getTab(n);if(i){var o=e[n];return i.adjustUnreadCount(o),r+o}return r},0)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3527);r.n(n);!function(){var e={useSSL:!0,useProtocol:"imap",imap:{port:143,tpl:"login@domain",ssl:{port:993}},pop:{port:110,tpl:"login@domain",ssl:{port:995}}};ns.Model.define("collector-settings",{events:{"ns-model-init":function(){this.setData(n.WellKnownCollectorSettings)}},methods:{getDefaultConfig:function(t,r){var n=$.extend({},e);return void 0!==t&&null!==t||(t=n.useProtocol),$.extend(n,n[t]),void 0!==r&&null!==r||(r=n.useSSL),r&&$.extend(n,n[t].ssl||{}),n.useProtocol=t,n.useSSL=r,delete n.imap,delete n.pop,delete n.ssl,n},getByDomain:function(t,r,n){if(!t)return null;for(var i,o=this.getData(),a=0,s=o.length;a<s;a++){var l=o[a];if(l.name&&$.inArray(t,l.name)>-1){i=$.extend(!0,{},e,l);break}}if(!i)return null;if(void 0!==r&&null!==r||(r=i.imap?"imap":"pop"),!i[r])return null;if($.extend(i,i[r]),void 0!==n&&null!==n||(n=i.useSSL),n){if(!i[r].ssl)return null;$.extend(i,i[r].ssl||{})}return i.useProtocol=r,i.useSSL=n,delete i.imap,delete i.pop,delete i.name,delete i.ssl,i},getByServer:function(e){return _.find(this.getData(),function(t){return t.pop&&t.pop.server===e||t.imap&&t.imap.server===e})}}},ns.ModelStatic)}()},function(e,t,r){"use strict";var n,i,o,a,s,l,u,c,d,f,g,p,m,h,v,b,_,y,S,w,O,x,M,P,D,E,T,C,k,A,I,j,F,R,B,L,N,U,H,W,z,q,V,G,K,Y,$,X,Q,J,Z,ee,te,re,ne,ie,oe,ae,se,le,ue,ce,de,fe,ge,pe,me,he,ve,be,_e,ye,Se,we,Oe,xe,Me,Pe,De,Ee,Te,Ce,ke,Ae,Ie,je,Fe,Re,Be,Le,Ne,Ue,He,We,ze,qe,Ve,Ge,Ke,Ye,$e,Xe,Qe,Je,Ze,et,tt,rt,nt,it,ot,at,st,lt,ut,ct;Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownCollectorSettings=void 0;var dt=r(3528);t.WellKnownCollectorSettings=[(n={name:["mail.ru"],useProtocol:dt.Protocols.IMAP},n[dt.Protocols.IMAP]={server:"imap.mail.ru"},n[dt.Protocols.POP]={server:"pop.mail.ru",tpl:"login"},n.teaser="mail",n.help="http://help.mail.ru/mail-support",n.company="mail.ru",n.SSLOnly=!0,n),(i={name:["list.ru"],useProtocol:dt.Protocols.IMAP},i[dt.Protocols.IMAP]={server:"imap.mail.ru"},i[dt.Protocols.POP]={server:"pop.list.ru",tpl:"login"},i.favicon="mail.ru",i.teaser="mail",i.help="http://help.mail.ru/mail-support",i.company="mail.ru",i.SSLOnly=!0,i),(o={name:["bk.ru"],useProtocol:dt.Protocols.IMAP},o[dt.Protocols.IMAP]={server:"imap.mail.ru"},o[dt.Protocols.POP]={server:"pop.bk.ru",tpl:"login"},o.favicon="mail.ru",o.teaser="mail",o.help="http://help.mail.ru/mail-support",o.company="mail.ru",o.SSLOnly=!0,o),(a={name:["inbox.ru"],useProtocol:dt.Protocols.IMAP},a[dt.Protocols.IMAP]={server:"imap.mail.ru"},a[dt.Protocols.POP]={server:"pop.inbox.ru",tpl:"login"},a.favicon="mail.ru",a.teaser="mail",a.help="http://help.mail.ru/mail-support",a.company="mail.ru",a.SSLOnly=!0,a),(s={name:["gmail.com"],useProtocol:dt.Protocols.IMAP},s[dt.Protocols.IMAP]={server:"imap.gmail.com"},s[dt.Protocols.POP]={server:"pop.gmail.com"},s.favicon="mail.google.com",s.teaser="gmail",s.help="http://support.google.com/mail",s.company="gmail.com",s.appPassword=!0,s),(l={name:["km.ru"],useSSL:!1},l[dt.Protocols.IMAP]=null,l[dt.Protocols.POP]={server:"pop.km.ru"},l),(u={name:["bossmail.ru"],useSSL:!1},u[dt.Protocols.IMAP]=null,u[dt.Protocols.POP]={server:"pop.bossmail.ru"},u.favicon="km.ru",u),(c={name:["girlmail.ru"],useSSL:!1},c[dt.Protocols.IMAP]=null,c[dt.Protocols.POP]={server:"pop.girlmail.ru"},c.favicon="km.ru",c),(d={name:["boymail.ru"],useSSL:!1},d[dt.Protocols.IMAP]=null,d[dt.Protocols.POP]={server:"pop.boymail.ru"},d.favicon="km.ru",d),(f={name:["freemail.ru"],useSSL:!1},f[dt.Protocols.IMAP]=null,f[dt.Protocols.POP]={server:"pop.freemail.ru"},f.favicon="km.ru",f),(g={name:["megabox.ru"],useSSL:!1},g[dt.Protocols.IMAP]=null,g[dt.Protocols.POP]={server:"pop.megabox.ru"},g.favicon="km.ru",g),(p={name:["safebox.ru"],useSSL:!1},p[dt.Protocols.IMAP]=null,p[dt.Protocols.POP]={server:"pop.safebox.ru"},p.favicon="km.ru",p),(m={name:["ua.fm"]},m[dt.Protocols.IMAP]=null,m[dt.Protocols.POP]={server:"pop.ua.fm"},m.favicon="i.ua",m),(h={name:["ngs.ru","eml.ru","mosk.ru"]},h[dt.Protocols.IMAP]=null,h[dt.Protocols.POP]={server:"mail.ngs.ru"},h),(v={name:["mtu.ru","mtu-net.ru"],useSSL:!1},v[dt.Protocols.IMAP]=null,v[dt.Protocols.POP]={server:"pop.mtu.ru"},v.favicon="mts.ru",v),(b={name:["umail.ru"]},b[dt.Protocols.IMAP]=null,b[dt.Protocols.POP]={server:"pop.umail.ru",tpl:"login"},b),(_={name:["nic.ru"],useProtocol:dt.Protocols.IMAP},_[dt.Protocols.IMAP]={server:"mail.nic.ru",tpl:"login"},_[dt.Protocols.POP]={server:"mail.nic.ru",tpl:"login"},_),(y={name:["i.ua"]},y[dt.Protocols.IMAP]=null,y[dt.Protocols.POP]={server:"pop.i.ua"},y),(S={name:["yahoo.com","yahoo.co.kr","yahoo.co.nz","yahoo.com.mx","yahoo.com.tr","yahoo.dk","yahoo.gr","yahoo.ie","yahoo.in","yahoo.nl","yahoo.no","yahoo.pl","yahoo.ru","yahoo.se","yahoo.","yahoo.","yahoo.","yahoo."],useProtocol:dt.Protocols.IMAP},S[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},S[dt.Protocols.POP]={server:"pop.mail.yahoo.com"},S.teaser="yahoo",S),(w={name:["yahoo.ca"],useProtocol:dt.Protocols.IMAP},w[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},w[dt.Protocols.POP]={server:"pop.mail.yahoo.ca"},w.teaser="yahoo",w),(O={name:["yahoo.cn"],useProtocol:dt.Protocols.IMAP},O[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},O[dt.Protocols.POP]={server:"pop.mail.yahoo.cn"},O.teaser="yahoo",O),(x={name:["yahoo.co.id"],useProtocol:dt.Protocols.IMAP},x[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},x[dt.Protocols.POP]={server:"pop.mail.yahoo.co.id"},x.teaser="yahoo",x),(M={name:["yahoo.co.in"],useProtocol:dt.Protocols.IMAP},M[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},M[dt.Protocols.POP]={server:"pop.mail.yahoo.co.in"},M.teaser="yahoo",M),(P={name:["yahoo.co.jp"],useProtocol:dt.Protocols.IMAP},P[dt.Protocols.IMAP]={server:"imap.mail.yahoo.co.jp"},P[dt.Protocols.POP]={server:"pop.mail.yahoo.co.jp",tpl:"login"},P.teaser="yahoo",P),(D={name:["yahoo.co.th"],useProtocol:dt.Protocols.IMAP},D[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},D[dt.Protocols.POP]={server:"pop.mail.yahoo.co.th"},D.teaser="yahoo",D),(E={name:["yahoo.co.uk"],useProtocol:dt.Protocols.IMAP},E[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},E[dt.Protocols.POP]={server:"pop.mail.yahoo.co.uk"},E.teaser="yahoo",E),(T={name:["yahoo.com.ar"],useProtocol:dt.Protocols.IMAP},T[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},T[dt.Protocols.POP]={server:"pop.mail.yahoo.com.ar"},T.teaser="yahoo",T),(C={name:["yahoo.com.au"],useProtocol:dt.Protocols.IMAP},C[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},C[dt.Protocols.POP]={server:"pop.mail.yahoo.com.au"},C.teaser="yahoo",C),(k={name:["yahoo.com.br"],useProtocol:dt.Protocols.IMAP},k[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},k[dt.Protocols.POP]={server:"pop.mail.yahoo.com.br"},k.teaser="yahoo",k),(A={name:["yahoo.com.cn"],useProtocol:dt.Protocols.IMAP},A[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},A[dt.Protocols.POP]={server:"pop.mail.yahoo.com.cn"},A.teaser="yahoo",A),(I={name:["yahoo.com.hk"],useProtocol:dt.Protocols.IMAP},I[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},I[dt.Protocols.POP]={server:"pop.mail.yahoo.com.hk"},I.teaser="yahoo",I),(j={name:["yahoo.com.my"],useProtocol:dt.Protocols.IMAP},j[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},j[dt.Protocols.POP]={server:"pop.mail.yahoo.com.my"},j.teaser="yahoo",j),(F={name:["yahoo.com.pe"],useProtocol:dt.Protocols.IMAP},F[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},F[dt.Protocols.POP]={server:"pop.mail.yahoo.com.ar"},F.teaser="yahoo",F),(R={name:["yahoo.com.ph"],useProtocol:dt.Protocols.IMAP},R[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},R[dt.Protocols.POP]={server:"pop.mail.yahoo.com.ph"},R.teaser="yahoo",R),(B={name:["yahoo.com.sg"],useProtocol:dt.Protocols.IMAP},B[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},B[dt.Protocols.POP]={server:"pop.mail.yahoo.com.sg"},B.teaser="yahoo",B),(L={name:["yahoo.com.tw"],useProtocol:dt.Protocols.IMAP},L[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},L[dt.Protocols.POP]={server:"pop.mail.yahoo.com.tw"},L.teaser="yahoo",L),(N={name:["yahoo.com.vn"],useProtocol:dt.Protocols.IMAP},N[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},N[dt.Protocols.POP]={server:"pop.mail.yahoo.com.vn"},N.teaser="yahoo",N),(U={name:["yahoo.de"],useProtocol:dt.Protocols.IMAP},U[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},U[dt.Protocols.POP]={server:"pop.mail.yahoo.de"},U.teaser="yahoo",U),(H={name:["yahoo.es"],useProtocol:dt.Protocols.IMAP},H[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},H[dt.Protocols.POP]={server:"pop.mail.yahoo.es"},H.teaser="yahoo",H),(W={name:["yahoo.fr"],useProtocol:dt.Protocols.IMAP},W[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},W[dt.Protocols.POP]={server:"pop.mail.yahoo.fr"},W.teaser="yahoo",W),(z={name:["yahoo.it"],useProtocol:dt.Protocols.IMAP},z[dt.Protocols.IMAP]={server:"imap.mail.yahoo.com"},z[dt.Protocols.POP]={server:"pop.mail.yahoo.it"},z.teaser="yahoo",z),(q={name:["ameritech.net"]},q[dt.Protocols.IMAP]=null,q[dt.Protocols.POP]={server:"pop.ameritech.yahoo.com"},q.teaser="yahoo",q),(V={name:["flash.net"]},V[dt.Protocols.IMAP]=null,V[dt.Protocols.POP]={server:"pop.flash.yahoo.com"},V.teaser="yahoo",V),(G={name:["nvbell.net"]},G[dt.Protocols.IMAP]=null,G[dt.Protocols.POP]={server:"pop.nvbell.yahoo.com"},G.teaser="yahoo",G),(K={name:["pacbell.net"]},K[dt.Protocols.IMAP]=null,K[dt.Protocols.POP]={server:"pop.pacbell.yahoo.com"},K.teaser="yahoo",K),(Y={name:["prodigy.net"]},Y[dt.Protocols.IMAP]=null,Y[dt.Protocols.POP]={server:"pop.prodigy.yahoo.com"},Y.teaser="yahoo",Y),($={name:["sbcglobal.net"]},$[dt.Protocols.IMAP]=null,$[dt.Protocols.POP]={server:"pop.sbcglobal.yahoo.com"},$.teaser="yahoo",$),(X={name:["snet.net"]},X[dt.Protocols.IMAP]=null,X[dt.Protocols.POP]={server:"pop.snet.yahoo.com"},X.teaser="yahoo",X),(Q={name:["swbell.net"]},Q[dt.Protocols.IMAP]=null,Q[dt.Protocols.POP]={server:"pop.swbell.yahoo.com"},Q.teaser="yahoo",Q),(J={name:["verizon.net"]},J[dt.Protocols.IMAP]=null,J[dt.Protocols.POP]={server:"incoming.yahoo.verizon.net"},J.teaser="yahoo",J),(Z={name:["wans.net"]},Z[dt.Protocols.IMAP]=null,Z[dt.Protocols.POP]={server:"pop.wans.yahoo.com"},Z.teaser="yahoo",Z),(ee={name:["btinternet.com"]},ee[dt.Protocols.IMAP]=null,ee[dt.Protocols.POP]={server:"mail.btinternet.com"},ee.teaser="yahoo",ee),(te={name:["rogers.com","nl.rogers.com"]},te[dt.Protocols.IMAP]=null,te[dt.Protocols.POP]={server:"pop.broadband.rogers.com"},te.teaser="yahoo",te),(re={name:["aol.com"],useSSL:!1,useProtocol:dt.Protocols.IMAP},re[dt.Protocols.IMAP]={server:"imap.aol.com",tpl:"login"},re[dt.Protocols.POP]={server:"pop.aol.com",tpl:"login"},re.favicon="aol.com",re.teaser="aol",re),(ne={name:["wow.com","love.com","game.com"],useSSL:!1,useProtocol:dt.Protocols.IMAP},ne[dt.Protocols.IMAP]={server:"imap.aol.com",tpl:"login"},ne[dt.Protocols.POP]={server:"pop.aol.com",tpl:"login"},ne.teaser="aol",ne),(ie={name:["rol.ru"],useProtocol:dt.Protocols.IMAP},ie[dt.Protocols.IMAP]={server:"imap.rol.ru"},ie[dt.Protocols.POP]={server:"pop.rol.ru"},ie),(oe={name:["ukr.net"],useProtocol:dt.Protocols.IMAP},oe[dt.Protocols.IMAP]={server:"imap.ukr.net"},oe[dt.Protocols.POP]={server:"pop3.ukr.net"},oe),(ae={name:["freemail.ukr.net"]},ae[dt.Protocols.IMAP]=null,ae[dt.Protocols.POP]={server:"freemail.ukr.net"},ae),(se={name:["infobox.ru"]},se[dt.Protocols.IMAP]=null,se[dt.Protocols.POP]={server:"mail.infobox.ru"},se),(le={name:["mtw.ru"],useProtocol:dt.Protocols.IMAP},le[dt.Protocols.IMAP]={server:"imap.mtw.ru",tpl:"login"},le[dt.Protocols.POP]={server:"pop.mtw.ru",tpl:"login"},le),(ue={name:["aaanet.ru"],useSSL:!1},ue[dt.Protocols.IMAP]=null,ue[dt.Protocols.POP]={server:"pop3.aaanet.ru",tpl:"login"},ue),(ce={name:["tochka.ru"]},ce[dt.Protocols.IMAP]=null,ce[dt.Protocols.POP]={server:"pop.tochka.ru",tpl:"login"},ce),(de={name:["mx.kaluga.ru"]},de[dt.Protocols.IMAP]=null,de[dt.Protocols.POP]={server:"mx.kaluga.ru",tpl:"login"},de.favicon="kaluga.ru",de),(fe={name:["permonline.ru"]},fe[dt.Protocols.IMAP]=null,fe[dt.Protocols.POP]={server:"pop.permonline.ru"},fe),(ge={name:["yandex.ru","narod.ru","ya.ru","yandex.com","yandex.com.tr","yandex.ua","yandex.kz","yandex.by","yandex.az","yandex.com.am","yandex.com.ge","yandex.co.il","yandex.kg","yandex.lv","yandex.lt","yandex.md","yandex.tj","yandex.tm","yandex.uz","yandex.fr","yandex.ee","яндекс.рф","aeterna.ru","avril.ru","borda.ru","fotoplenka.ru","fromru.com","front.ru","hotbox.ru","hotmail.ru","justlunch.ru","krovatka.su","land.ru","loveplanet.ru","mail15.com","mail333.com","memori.ru","newmail.ru","nightmail.ru","nm.ru","photofile.ru","pisem.net","pochta.com","pochta.ru","pochtamt.ru","pop3.ru","qip.ru","rbcmail.ru","smtp.ru","webmail.ru","zahvat.ru","ziza.ru","5ballov.ru","e1.ru"],useProtocol:dt.Protocols.IMAP},ge[dt.Protocols.IMAP]={server:"imap.yandex.ru"},ge[dt.Protocols.POP]={server:"pop.yandex.ru"},ge.favicon="mail.yandex.ru",ge.isOwn=!0,ge.teaser="yandex",ge.help="https://yandex.ru/support/mail/web/preferences/collector.html#collector-problems__yes",ge),(pe={name:["mynet.com"]},pe[dt.Protocols.IMAP]=null,pe[dt.Protocols.POP]={server:"pop.mynet.com"},pe.useSSL=!1,pe),(me={name:["superonline.com"]},me[dt.Protocols.IMAP]={server:"mail.superonline.com"},me[dt.Protocols.POP]=null,me.useProtocol=dt.Protocols.IMAP,me.useSSL=!0,me),(he={name:["e-kolay.net"]},he[dt.Protocols.IMAP]={server:"pop3.e-kolay.net"},he[dt.Protocols.POP]=null,he.useProtocol=dt.Protocols.IMAP,he.useSSL=!0,he.favicon="ekolay.net",he),(ve={name:["ttnet.net.tr"]},ve[dt.Protocols.IMAP]={server:"mail.ttnet.net.tr"},ve[dt.Protocols.POP]=null,ve.useProtocol=dt.Protocols.IMAP,ve.useSSL=!0,ve.favicon="ttnet.com.tr",ve),(be={name:["turk.net"]},be[dt.Protocols.IMAP]={server:"pop3.turk.net"},be[dt.Protocols.POP]=null,be.useProtocol=dt.Protocols.IMAP,be.useSSL=!0,be),(_e={name:["mynet.com.tr"]},_e[dt.Protocols.IMAP]=null,_e[dt.Protocols.POP]={server:"pop.mynet.com.tr"},_e.favicon="mynet.com",_e),(ye={name:["74.ru","chelyabinsk.ru","chel.ru","domchel.ru","autochel.ru","chelfin.ru","mychel.ru","2074.ru","cheldiplom.ru"]},ye[dt.Protocols.IMAP]=null,ye[dt.Protocols.POP]={server:"pop3.74.ru"},ye),(Se={name:["t-online.de"],useProtocol:dt.Protocols.IMAP},Se[dt.Protocols.IMAP]={server:"secureimap.t-online.de"},Se[dt.Protocols.POP]={server:"popmail.t-online.de"},Se.teaser="yahoo",Se),(we={name:["alice.fr","aliceadsl.fr"]},we[dt.Protocols.IMAP]=null,we[dt.Protocols.POP]={server:"pop.alice.fr"},we.teaser="yahoo",we),(Oe={name:["arcor.de"],useProtocol:dt.Protocols.IMAP},Oe[dt.Protocols.IMAP]={server:"imap.arcor.de",tpl:"login"},Oe[dt.Protocols.POP]={server:"pop3.arcor.de",tpl:"login"},Oe.teaser="yahoo",Oe),(xe={name:["bbox.fr"],useProtocol:dt.Protocols.IMAP},xe[dt.Protocols.IMAP]={server:"imap.bbox.fr"},xe[dt.Protocols.POP]={server:"pop3.bbox.fr"},xe.teaser="yahoo",xe),(Me={name:["bouygtel.fr"],useProtocol:dt.Protocols.IMAP},Me[dt.Protocols.IMAP]={server:"imap.bouygtel.fr"},Me[dt.Protocols.POP]={server:"pop.bouygtel.fr"},Me.teaser="yahoo",Me),(Pe={name:["caramail.com"]},Pe[dt.Protocols.IMAP]=null,Pe[dt.Protocols.POP]={server:"pop.lycos.co.uk"},Pe.teaser="yahoo",Pe),(De={name:["cegetel.fr","cegetel.net"]},De[dt.Protocols.IMAP]={server:"imap.cegetel.net"},De[dt.Protocols.POP]=null,De.useProtocol=dt.Protocols.IMAP,De.teaser="yahoo",De),(Ee={name:["club-internet.fr","club-internet.net"]},Ee[dt.Protocols.IMAP]=null,Ee[dt.Protocols.POP]={server:"pop3.club-internet.fr"},Ee.teaser="yahoo",Ee),(Te={name:["email.de"]},Te[dt.Protocols.IMAP]=null,Te[dt.Protocols.POP]={server:"pop3.web.de"},Te.teaser="yahoo",Te),(Ce={name:["fastwebnet.it"]},Ce[dt.Protocols.IMAP]=null,Ce[dt.Protocols.POP]={server:"pop.fastwebnet.it"},Ce.teaser="yahoo",Ce),(ke={name:["free.fr"],useProtocol:dt.Protocols.IMAP},ke[dt.Protocols.IMAP]={server:"imap.free.fr",tpl:"login"},ke[dt.Protocols.POP]={server:"pop.free.fr",tpl:"login"},ke.teaser="yahoo",ke),(Ae={name:["freenet.de"],useProtocol:dt.Protocols.IMAP},Ae[dt.Protocols.IMAP]={server:"mx.freenet.de"},Ae[dt.Protocols.POP]={server:"mx.freenet.de"},Ae.teaser="yahoo",Ae),(Ie={name:["gmx.de","gmx.net","gmx.at","gmx.ch","gmx.eu","gmx.biz","gmx.org","gmx.info"],useProtocol:dt.Protocols.IMAP},Ie[dt.Protocols.IMAP]={server:"imap.gmx.net"},Ie[dt.Protocols.POP]={server:"pop.gmx.net"},Ie.teaser="yahoo",Ie),(je={name:["googlemail.com"],useProtocol:dt.Protocols.IMAP},je[dt.Protocols.IMAP]={server:"imap.googlemail.com"},je[dt.Protocols.POP]={server:"pop.googlemail.com"},je.teaser="yahoo",je),(Fe={name:["laposte.net"],useProtocol:dt.Protocols.IMAP},Fe[dt.Protocols.IMAP]={server:"imap.laposte.net",tpl:"login"},Fe[dt.Protocols.POP]={server:"pop.laposte.net",tpl:"login"},Fe.teaser="yahoo",Fe),(Re={name:["libero.it","iol.it","blu.it","inwind.it"],useProtocol:dt.Protocols.IMAP},Re[dt.Protocols.IMAP]={server:"imapmail.libero.it"},Re[dt.Protocols.POP]={server:"popmail.libero.it"},Re.useSSL=!1,Re.teaser="yahoo",Re),(Be={name:["lybertysurf.fr"]},Be[dt.Protocols.IMAP]=null,Be[dt.Protocols.POP]={server:"pop.libertysurf.fr"},Be.teaser="yahoo",Be),(Le={name:["lycos.co.uk"]},Le[dt.Protocols.IMAP]=null,Le[dt.Protocols.POP]={server:"pop.lycos.co.uk",tpl:"login"},Le.teaser="yahoo",Le),(Ne={name:["netcourrier.com"]},Ne[dt.Protocols.IMAP]=null,Ne[dt.Protocols.POP]={server:"mail.netcourrier.com"},Ne.teaser="yahoo",Ne),(Ue={name:["neuf.fr","sfr.fr"],useProtocol:dt.Protocols.IMAP},Ue[dt.Protocols.IMAP]={server:"imap.sfr.fr"},Ue[dt.Protocols.POP]={server:"pop.sfr.fr"},Ue.useSSL=!1,Ue.teaser="yahoo",Ue),(He={name:["noos.fr"]},He[dt.Protocols.IMAP]=null,He[dt.Protocols.POP]={server:"pop.noos.fr"},He.teaser="yahoo",He),(We={name:["o2online.de"]},We[dt.Protocols.IMAP]=null,We[dt.Protocols.POP]={server:"pop.o2online.de"},We.teaser="yahoo",We),(ze={name:["orange.fr"],useProtocol:dt.Protocols.IMAP},ze[dt.Protocols.IMAP]={server:"imap.orange.fr",tpl:"login"},ze[dt.Protocols.POP]={server:"pop.orange.fr",tpl:"login"},ze.useSSL=!1,ze.teaser="yahoo",ze),(qe={name:["wanadoo.fr"],useProtocol:dt.Protocols.IMAP},qe[dt.Protocols.IMAP]={server:"imap.wanadoo.fr"},qe[dt.Protocols.POP]={server:"pop.wanadoo.fr"},qe.teaser="yahoo",qe),(Ve={name:["tele2.fr"]},Ve[dt.Protocols.IMAP]=null,Ve[dt.Protocols.POP]={server:"pop.tele2.fr"},Ve.teaser="yahoo",Ve),(Ge={name:["telefonica.net"]},Ge[dt.Protocols.IMAP]={server:"imap.telefonica.net"},Ge[dt.Protocols.POP]=null,Ge.useProtocol=dt.Protocols.IMAP,Ge.teaser="yahoo",Ge),(Ke={name:["terra.es"],useProtocol:dt.Protocols.IMAP},Ke[dt.Protocols.IMAP]={server:"imap4.terra.es"},Ke[dt.Protocols.POP]={server:"pop3.terra.es"},Ke.useSSL=!1,Ke.teaser="yahoo",Ke),(Ye={name:["tim.it"]},Ye[dt.Protocols.IMAP]={server:"easyimap4.posta.tim.it"},Ye[dt.Protocols.POP]=null,Ye.useProtocol=dt.Protocols.IMAP,Ye.teaser="yahoo",Ye),($e={name:["tin.it"]},$e[dt.Protocols.IMAP]=null,$e[dt.Protocols.POP]={server:"box.tin.it"},$e.teaser="yahoo",$e),(Xe={name:["tiscali.fr"],useProtocol:dt.Protocols.IMAP},Xe[dt.Protocols.IMAP]={server:"imap.tiscali.fr"},Xe[dt.Protocols.POP]={server:"pop.tiscali.fr"},Xe.teaser="yahoo",Xe),(Qe={name:["tiscali.it"],useProtocol:dt.Protocols.IMAP},Qe[dt.Protocols.IMAP]={server:"imap.tiscali.it"},Qe[dt.Protocols.POP]={server:"pop.tiscali.it"},Qe.teaser="yahoo",Qe),(Je={name:["tre.it"]},Je[dt.Protocols.IMAP]={server:"imap.tre.it"},Je[dt.Protocols.POP]=null,Je.useProtocol=dt.Protocols.IMAP,Je.teaser="yahoo",Je),(Ze={name:["virgilio.it"]},Ze[dt.Protocols.IMAP]=null,Ze[dt.Protocols.POP]={server:"in.virgilio.it",tpl:"login"},Ze.teaser="yahoo",Ze),(et={name:["vodafone.de"]},et[dt.Protocols.IMAP]=null,et[dt.Protocols.POP]={server:"pop.email.vodafone.de"},et.teaser="yahoo",et),(tt={name:["vodafone.it"]},tt[dt.Protocols.IMAP]=null,tt[dt.Protocols.POP]={server:"popmail.vodafone.it"},tt.teaser="yahoo",tt),(rt={name:["email.ua"]},rt[dt.Protocols.IMAP]={server:"imap.email.ua"},rt[dt.Protocols.POP]={server:"pop.email.ua"},rt),(nt={name:["3g.ua"]},nt[dt.Protocols.IMAP]=null,nt[dt.Protocols.POP]={server:"pop.3g.ua"},nt),(it={name:["mail.ua"],useProtocol:dt.Protocols.IMAP},it[dt.Protocols.IMAP]={server:"imap.mail.ru"},it[dt.Protocols.POP]={server:"pop.mail.ru"},it.useSSL=!0,it),(ot={name:["a.ua"],useProtocol:dt.Protocols.IMAP},ot[dt.Protocols.IMAP]={server:"imap.a.ua"},ot[dt.Protocols.POP]={server:"pop.a.ua"},ot),(at={name:["ukrpost.net"],useProtocol:dt.Protocols.IMAP},at[dt.Protocols.IMAP]={server:"mail.ukrpost.ua"},at[dt.Protocols.POP]={server:"mail.ukrpost.ua"},at),(st={name:["online.ua"]},st[dt.Protocols.IMAP]=null,st[dt.Protocols.POP]={server:"pop3.online.ua"},st.useSSL=!1,st),(lt={name:["meta.ua"]},lt[dt.Protocols.IMAP]=null,lt[dt.Protocols.POP]={server:"pop.meta.ua"},lt.useSSL=!0,lt),(ut={name:["tut.by"],useProtocol:dt.Protocols.IMAP},ut[dt.Protocols.IMAP]={server:"imap.yandex.ru"},ut[dt.Protocols.POP]={server:"pop.yandex.ru"},ut.useSSL=!0,ut),(ct={name:["rambler.ru","autorambler.ru","myrambler.ru","ro.ru"]},ct[dt.Protocols.IMAP]={server:"imap.rambler.ru"},ct[dt.Protocols.POP]={server:"pop.rambler.ru"},ct.useSSL=!0,ct)]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Protocols=void 0,function(e){e.IMAP="imap",e.POP="pop"}(t.Protocols||(t.Protocols={}))},function(e,t){ns.Model.define("collectors",{params:{no_cache:null},methods:{getMasterRequest:function(){var e=this,t=ns.Model.get(this.id,_.assign({},this.params,{no_cache:1}));return t.destroy(),t.once("ns-model-changed",function(){e.setData(this.getData())}),t},getData:function(){return this.data||[]},exists:function(e){return this.models.some(function(t){return t.get(".email")===e})},getCount:function(){return this.models?this.models.length:0}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-clear",{params:{fid:null,method:null,old_f:null,from_f:null,subj_f:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("do-folder-create-hidden-trash",{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-mark-read",{params:{fid:null,tabId:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-move",{params:{fid:null,parent_id:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("do-folder-purge-hidden-trash",{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-rename",{params:{fname:null,fid:null,parent_id:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-set-options",{params:{fid:null,prev:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-set-symbol",{params:{fid:null,symbol:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folders-add",{params:{folder_name:null,parent_id:null,symbol:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{getFid:function(){return this.get(".body.updated")}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-folder-remove",{params:{fid:null,force:"yes",mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-labels-add",{params:{label_name:null,label_color:null,label_type:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-label-edit",{params:{lid:null,label_name:null,label_color:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-labels-add-by-symbol",{params:{symbol:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-label",{params:{lid:null,ids:null,tids:null,fid:null,tabId:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{getAffectedTids:function(){return this.select('.thread[.lid == "'+this.params.lid+'"].tid')}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-unlabel",{params:{lid:null,ids:null,tids:null,fid:null,tabId:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite,methods:{getAffectedTids:function(){return this.select('.thread[.lid != "'+this.params.lid+'"].tid')}}})},function(e,t){ns.Model.define("messages-filters",{events:{"ns-model-init":"_onInit","ns-model-destroyed":"_onDestroy"},ctor:function(){this._onPageBeforeLoad=this._onPageBeforeLoad.bind(this)},methods:{_onInit:function(){this.setData({}),this._onLoad(Daria.router.getCurrentParams()),ns.events.on("ns-page-before-load",this._onPageBeforeLoad)},_onDestroy:function(){ns.events.off("ns-page-before-load",this._onPageBeforeLoad)},_onPageBeforeLoad:function(e,t){this._onLoad(t[1].params)},_onLoad:function(e){var t,r=ns.Model.get("labels"),n=e.current_label===r.getImportantLID();t=e.important||n?"important":e.attachments?"attachments":e.unread?"unread":"inbox";var i=ns.Model.get("labels").getWaitingForReplyLabel();e.current_label&&e.current_label===i.lid&&(t="wait"),this.setIfChanged(".filter",t)}}},ns.ModelStatic)},function(e,t){ns.Model.define("labels-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({isVisibleUnused:!1})},toggleVisibleUnused:function(){this.set(".isVisibleUnused",!this.isVisibleUnused())},isVisibleUnused:function(){return this.get(".isVisibleUnused")}}},ns.ModelStatic)},function(e,t){ns.Model.define("scroller-left",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerLeft:scroll",_getScroller:function(){return Daria.is2pane()?$(window):$(".js-scroller-left")},getScrollOffset:function(){return 30}}},"scroller-common")},function(e,t){ns.Model.define("left-column-promos",{},ns.ModelStatic)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1454),i=(r.n(n),r(329));function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function l(e,t,r){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i}).apply(null,arguments)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={MAX_LENGTH:"signs.maxlen",MAX_COUNT:"signs.maxcount"},f=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,c(t).call(this))).code=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,s(Error)),t}();f.codes=d,ns.Model.define("signs",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{SignsError:f,preprocessData:function(e){var t=this,r=e.signs;if(!r.length)return e;var n=function(){var e=Object(i.getAddressInformationModelName)();return"address-information"===e?["address-information","mailbox-settings"]:[e]}();return n.every(function(e){return ns.Model.get(e).isValid()})?e.signs=this.filterEmails(r):ns.request(n).then(function(){t.set(".signs",t.filterEmails(t.get(".signs")))}),e},filterEmails:function(e){var t=Object(i.getAddressInformationModelName)(),r=ns.Model.get(t),n=[],o=new Set(r.getAllUserEmails()),a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;d.emails=d.emails.filter(function(e){return o.has(e)}),n.push(d)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return n},getList:function(){return this.get(".signs")||[]},save:function(e){return this._validate(e),e=this._normalize(e),ns.forcedRequest([{id:"do-signs",params:{signs:JSON.stringify(e)}},{id:"signs",params:{actual:!0}}])},_normalize:function(e){return e.map(function(e){var t=e.text,r=e.isDefault,n=e.emails,i=e.userLang,o={text:t,isDefault:Boolean(r),emails:n||[]};return i&&(o.lang=i),o})},_validate:function(e){if(this.get(".FALLBACK"))throw new Error('Can\'t save "signs" model when it is in fallback mode');if(e.find(function(e){return e.text.length>n.SIGNATURE_MAX_LENGTH}))throw new f(d.MAX_LENGTH);if(ns.Model.get("signs").getList().length<=e.length&&e.length>n.SIGNATURES_MAX_COUNT)throw new f(d.MAX_COUNT)}}})},function(e,t){ns.Model.define("do-translate",{params:{text:null,lang:null,format:null},methods:{_canRequest:function(){return!this.retries||this.retries<this.RETRY_LIMIT}}})},function(e,t){ns.Model.define("translate-langs",{methods:{getName:function(e){return _.get(this.data,"langs."+e,"")},getLangs:function(){return _(this.get(".langs")).chain().map(this._getLangsMapIterate).sortBy("name").value()},getRecent:function(){return _(ns.Model.get("settings").getSetting("translateRecent")||"").chain().split(",").uniq().map(this._getRecentMapIterate.bind(this)).compact().slice(0,5).value()},hasRecent:function(){return!_.isEmpty(this.getRecent())},setRecent:function(e){var t=_(this.getRecent()).chain().map(this._setRecentMapIterate).unshift(e).uniq().slice(0,5).join(",").value();ns.Model.get("settings").setSettings({translateRecent:t})},_getLangsMapIterate:function(e,t){return{name:e,lang:t}},_setRecentMapIterate:function(e){return e.lang},_getRecentMapIterate:function(e){var t=e&&this.getName(e);if(t)return{name:t,lang:e}}}})},function(e,t){ns.Model.define("themes-selector",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({opened:!1})},isOpened:function(){return this.get(".opened")},open:function(){this.set(".opened",!0)},close:function(){this.set(".opened",!1)}}},ns.ModelStatic)},function(e,t){!function(){"use strict";var e={getActivePhone:function(){var e=this.getData()||{};return jpath(e,'.phone[.active == "1"]')[0]},getUnconfirmedPhone:function(){},getActiveMaskedNumber:function(){var e=this.getActivePhone();return e&&e.masked_number},getUnconfirmedNumber:function(){},getUnconfirmedIdByNumber:function(){},hasActiveNumber:function(){var e=this.getData();return Boolean(jpath(e,'.phone[.active == "1"]').length)},normalize:function(e){return e=(e||"").replace(/^8/,"+7")},getPhone:function(e){if(!e)throw new ReferenceError("Required parameter phoneNumber is missing");return ns.forcedRequest("userphones").then(function(t){var r=t[0],n=$.makeArray(r.get(".phone")).filter(function(t){return t.number===e});return n.length?n[0]:null})},getAll:function(e){return ns.request.models([this],{forced:!e})}};ns.Model.define("userphones",{methods:e})}()},function(e,t){ns.Model.define("weather",{params:{geoid:null,date:null}})},function(e,t){ns.Model.define("help-link",{events:{"ns-model-init":"_onInit"},methods:{_hrefSuffixMap:{folder:"web/mailbox/folders.html#my-folders",archive:"web/mailbox/folders.html",draft:"web/letter/create.html#drafts",template:"web/letter/create.html#templates",abook:"web/abook.html",unread:"web/mailbox/tags.html",attachments:"web/letter/attachments.html",important:"web/mailbox/tags.html",label:"web/mailbox/tags.html","setup/abook":"web/abook.html","setup/client":"mail-clients.html","setup/journal":"web/security.html#journal","setup/todo":"web/features/to-do.html"},_onInit:function(){this.setData({href:this._getHref({page:Daria.router.getCurrentPage(),params:Daria.router.getCurrentParams()})}),ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))},_onPageBeforeLoad:function(e,t){_.isEqual(t[0],t[1])||this.updateHref(t[1])},updateHref:function(e){this.set(".href",this._getHref(e))},_getHref:function(e){var t=e.page,r=e.params,n=this._getHrefSuffix(t,r);return Daria.Config["help-url"]+(n?"/"+n:"")},_getHrefSuffix:function(e,t){if("messages"===e){if(t.important)return this._hrefSuffixMap.important;if("only_new"===t.extra_cond)return this._hrefSuffixMap.unread;if("only_atta"===t.extra_cond)return this._hrefSuffixMap.attachments}if(t.current_folder){var r=ns.Model.get("folders").getFolderById(t.current_folder);if(r.symbol)return this._hrefSuffixMap[r.symbol]||"";if(r.user)return this._hrefSuffixMap.folder}return t.current_label?this._hrefSuffixMap.label:"setup"===e||"setup-sender"===e?t.tab&&this._hrefSuffixMap["setup/"+t.tab]||"":this._hrefSuffixMap[e]&&this._hrefSuffixMap[e]||""}}},ns.ModelStatic)},function(e,t){ns.Model.define("date-time",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){var e=this;this.setData({local:{date:this.getLocalDate(),time:this.getLocalTime()},server:{date:this.getServerDate(),time:this.getServerTime()},serverDate:this.getServerDate()});var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+1);setTimeout(function(){return e.updateData()},r-t)},getLocalTime:function(){return this._getTime(new Date)},getLocalDate:function(){return this._getDate(new Date)},getServerTime:function(){return this._getTime(new Date(Daria.passportNow()))},getServerDate:function(){return this._getDate(new Date(Daria.passportNow()))},_getTime:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()))},_getDate:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate()))},updateData:function(){var e=this;this.setIfChanged(".local.date",this.getLocalDate()),this.setIfChanged(".local.time",this.getLocalTime()),this.setIfChanged(".server.date",this.getServerDate()),this.setIfChanged(".server.time",this.getServerTime()),this.setIfChanged(".serverDate",this.getServerDate()),setTimeout(function(){return e.updateData()},6e4)}}},ns.ModelStatic)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(511);r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ns.Model.define("search-suggest",{params:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({status:null,limit:null,types:null,twoSteps:null,request:null},n.SearchSuggestParams.reduce(function(e,t){return e[t]=null,e},{}),{reqid:null,history:null,highlight:null,mailboxUid:null}),requiredFeatures:["web_search_extra_params"],methods:{request:function(){return ns.request.fetchModels([this]).then(function(e){ns.request.extractModel(this,e.models[0],e)}.bind(this))}}})},function(e,t){ns.Model.define("filter-search",{params:{mids:null},methods:{preprocessData:function(e){if(Array.isArray(e.envelopes))for(var t=ns.Model.get("labels").get(".label"),r=e.envelopes.length;r--;){var n=e.envelopes[r];if(!n.processed){for(var i=0;i<n.labels.length;i++){var o=_.find(t,{lid:n.labels[i]});if(o&&o.social){n.dlid=o.name.replace(/^vtnrf0/,"");break}}n.processed=!0;var a=ns.Model.get("filter-search",{mids:n.mid});a.select(".envelopes.processed")[0]||a.setData({envelopes:[n]})}}return e},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".envelopes.labels"))),t=e.length;if(t)for(var r=ns.Model.get("labels"),n=0;n<t;n++)if(r.isSocial(e[n]))return e[n];return null}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);r.n(n);ns.Model.define("messages-pager",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){if("all"===this.params.current_folder){var e;if(Daria.IS_CORP)e={year:"2000",month:"1",day:"1"};else{var t=ns.Model.get("account-information").getDataKey("reg_date");t=new Date(t),e={year:String(t.getFullYear()),month:String(t.getMonth()+1),day:"1"}}this.setData(e)}},preprocessData:function(e){var t=Jane.Common.n,r=e.year,i=e.month,o=e.day,a=new Date,s=new Date(r,i-1,o);if(!r||a<=s)return{};for(var l=a.getFullYear(),u=s.getFullYear(),c=a.getMonth()+1,d=[],f=u,g=s.getMonth()+1,p={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0},m=0,h=f>=Daria.Config.messagesMaxDate;f<l||f===l&&g<=c;)if(h&&p.month.push({datePager:t(g)+"."+f,month:g-1,year:f,from:"01."+t(g)+"."+f,to:"01."+t(g<12?g+1:1)+"."+(g<12?f:f+1),id:t(g)+String(f)}),13==++g&&(g=1,h?d.push(p):0===d.length&&d.push({id:f,datePager:f,year:f,old:1}),(h=++f>=Daria.Config.messagesMaxDate)&&(p={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0})),++m>1e3)return Jane.ErrorLog.log({message:"messages-pager: iterations count exceeded limit",type:n.ErrorType.NsModel,source:n.ErrorSource.Logic,sourceMethod:this.id,block:n.ErrorBlock.MailModule,method:"preprocessData",dataYear:r,dataMonth:i,dataDay:o,nowDate:a.toString()}),{};return p.month.length&&d.push(p),{year:d}},getCountMonth:function(){return this.select(".year.month.datePager").length}},params:{current_folder:null,tabId:null}})},function(e,t){ns.Model.define("message-read-mute-fsm",{params:{ids:null,type:null},methods:{start:"",transitions:{toRead:["toMute","toUnread"],toMute:["toUnmute","toUnread","toRead"],toUnmute:["toUnread","toRead"],toUnread:["toRead","toUnmute"]}}},ns.ModelFsm)},function(e,t){ns.Model.define("state-message-thread-item",{params:{ids:null},events:{"ns-model-init":"_onNsModelInit"},methods:{_onNsModelInit:function(){this.setData({isOpened:!1,isFocused:!1,isIgnoreMarkRead:!1,promiseWillBeLoaded:!1,isVisible:!1,shouldBeInViewport:!1,forceMark:!1})},_setChangedData:function(e,t,r){if(e="."+e,this.get(e)!==t){var n=r?{silent:!0}:{};return this.set(e,t,n),!0}return!1},isOpen:function(){return this.get(".isOpened")},setOpen:function(e,t){return this._setChangedData("isOpened",e,t)},setVisible:function(e,t){return this._setChangedData("isVisible",e,t)},setFocus:function(e,t){return this._setChangedData("isFocused",e,t)},setIgnore:function(e,t){return this._setChangedData("isIgnoreMarkRead",e,t)}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-maillists",{params:{emails:null},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-maillists-static",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({emails:null},{silent:!0})},getMaillists:function(e){var t=this,r=this.get(".emails")||{},n=_.difference(e,Object.keys(r)),i=vow.fulfill();if(n.length>0){var o=ns.Model.get("get-maillists",{emails:n.join(",")});i=ns.request.models([o]).then(function(n){var i=n[0].get(".maillists");i.forEach(function(e){r[e]||(r[e]=!0)}),_.difference(e,i).forEach(function(e){r[e]||(r[e]=!1)}),t.set(".emails",r),vow.fulfill()})}return i.then(function(){var t=[];return e.forEach(function(e){!0===r[e]&&t.push(e)}),vow.fulfill(t)})}}},ns.ModelStatic)},function(e,t){ns.Model.define("reset-unvisited",{params:{fid:null,tabId:null},methods:{resetUnvisited:function(){var e=this.params,t=e.fid,r=e.tabId;return(r?ns.Model.get("tab",{id:r}):ns.Model.get("folder",{fid:t})).getRecent()?ns.forcedRequest([this]).then(function(e){return vow.fulfill(e[0].get(".is_reset"))}):vow.fulfill(!0)}}})},function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ns.Model.define("notifications",{isCollection:!0,events:{"ns-model-init":"_onInit"},methods:{_uniqueId:0,DELAY_BEFORE_DELETE:600,MAX_NOTIFICATION_COUNT:10,_onInit:function(){this.setData({queue:[]})},hasNotifications:function(){return 0!==this.models.length},hasNotificationsInQueue:function(){return 0!==this.get(".queue").length},addNotification:function(e){if(ns.Model.get("notifications-state").isExpanded()){var t=this.get(".queue");t=t.concat(e),this.set(".queue",t)}else{var r=this.models[0];if(r&&r.isVIP()&&!e.vip)return;this._addNotification(e),this._tryRemoveLastNotification()}},_addNotification:function(e){var t=this._uniqueId++,i=ns.Model.get("notifications-item",{id:t}).setData(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e,{id:t}));this.insert(i,0)},_tryRemoveLastNotification:function(){if(this.models.length>this.MAX_NOTIFICATION_COUNT){var e=this;_.delay(function(){e.remove(e.models.length-1)},this.DELAY_BEFORE_DELETE)}},insertFromQueue:function(){this.get(".queue").length&&(this._moveVIPtoEndOfQueue(),this._insertFromQueue())},_moveVIPtoEndOfQueue:function(){var e=this.get(".queue");e=e.sort(function(e,t){return e.vip&&!t.vip?1:0}),this.set(".queue",e)},_insertFromQueue:function(){var e=this;this.get(".queue").forEach(function(t){e._addNotification(t),e._tryRemoveLastNotification()}),this.set(".queue",[])}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("notifications-item",{params:{id:null},methods:{isVIP:function(){return Boolean(this.get(".vip"))},isCalendarEvent:function(){return Boolean("calendar"===this.get(".type"))}}},ns.ModelStatic)},function(e,t){ns.Model.define("notifications-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({expanded:!1})},expand:function(){this.set(".expanded",!0)},collapse:function(){this.set(".expanded",!1)},isExpanded:function(){return this.get(".expanded")}}},ns.ModelStatic)},function(e,t){ns.Model.define("disk-secret-key",{methods:{isValid:function(){return this.get(".expirationDate")>=Date.now()}}})},function(e,t){ns.Model.define("thread-info",{params:{thread_id:null},methods:{request:function(){var e=ns.Model.get("message",{ids:this.params.thread_id});return e.get(".FAKE_THREAD_DATA")&&Daria.is3pane()?ns.request.fetchModels([this]).then(function(t){e.get(".FAKE_THREAD_DATA")&&e.setData(t.models[0].data),this.setData({})}.bind(this)):(this.setData({}),Vow.resolve())}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("threads-info",{params:{thread_ids:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("push-vapid",{})},function(e,t){ns.Model.define("push-subscriptions",{params:{clients:null}})},function(e,t){ns.Model.define("do-push-subscribe",{params:{folders:null,tabs:null,subscription:null}})},function(e,t){ns.Model.define("do-push-unsubscribe",{})},function(e,t,r){"use strict";ns.Model.define("versions",{events:{"ns-model-init":"onInit"},ctor:function(){this._timer=null},methods:{TIMEOUT:9e5,onInit:function(){this.setData({u2709:{version:Daria.Config.version}}),this.scheduleVersionUpdate()},request:function(){var e=this,t=Daria.api.versions;return ns.http(t,{model:this.id},{type:"GET"},!0).then(function(t){return e.setData(_.isPlainObject(t)?t:{})}).fail(_.noop)},scheduleVersionUpdate:function(e){var t=this;this._timer&&clearTimeout(this._timer),e||(this._timer=setTimeout(function(){t.request().then(function(){return t._checkNeedPageUpdate()}).fail(function(){return!1}).then(function(e){return t.scheduleVersionUpdate(e)})},this.TIMEOUT))},_checkNeedPageUpdate:function(){if(Daria.Config.dev)return!1;var e=this.get(".u2709.version");return!(!e||e===Daria.Config.version)&&(Jane.Services.setUpdateNeeded(),!0)}}})},function(e,t){ns.Model.define("system-status",{events:{"ns-model-init":"onInit","ns-model-changed":"updateLoop"},methods:{TIMEOUT:Daria.IS_CORP?6e4:6e5,onInit:function(){this._shouldLoad=!0,this._timer=null},updateLoop:function(){Daria.Config["db-status"]=this.getData()["db-status"],this._restartTimer()},getAttachmentsMaxSize:function(){return Math.floor(ns.Model.get("system-status").get(".limits.config.attachmentsMaxSize")/1048576)},request:function(){return this._shouldLoad?ns.request.fetchModels([this]).then(function(e){!1!==ns.request.canProcessResponse(e)?(ns.request.extractModel(this,e.models[0],e),e.models[0].data&&e.models[0].data.limits?(this.set(".limits.config.attachmentsMaxSize",this._getDefaultLimits().config.attachmentsMaxSize),this.set(".limits.config.singleAttachmentMaxSize",this._getDefaultLimits().config.singleAttachmentMaxSize)):this.set(".limits",this._getDefaultLimits()),this._checkNeedPageUpdate()):this._setDefaultData()},this).fail(function(){this._setDefaultData()},this):Vow.resolve()},_restartTimer:function(){this._timer&&clearTimeout(this._timer),this._timer=setTimeout(this._timerRequest,this.TIMEOUT)},_timerRequest:function(){ns.forcedRequest("system-status")},_setDefaultData:function(){this.setData({"db-status":"rw",problem:"",limits:this._getDefaultLimits()})},_getDefaultLimits:function(){return{config:{attachmentsMaxSize:Daria.IS_CORP?41943040:25165824,singleAttachmentMaxSize:Daria.IS_CORP?41943040:25165824,messageMaxSize:41943040,maxDestinations:1e3,maxDestinationsWithMailingLists:100,maxUsers:1e4},undoPaused:!1}},_checkNeedPageUpdate:function(){Daria.timestamp<(Number(this.get(".reload_timestamp"))||0)&&Jane.Services.setUpdateNeeded()}}})},function(e,t){ns.Model.define("recipients",{isStrictParams:!0,params:{recipientsIds:null},methods:{extractData:function(e){return e&&e.error?null:e&&{recipients:e.data}||{recipients:{}}},getRecipients:function(){return this.getData().recipients}}})},function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ns.Model.define("recipient",{params:{name:null,email:null},events:{"ns-model-init":"_onInit"},methods:{_getKey:function(e){var t=e.name,r=e.email;return t||r?t?'"'.concat(t,'" <').concat(r,">"):"<".concat(r,">"):""},_onInit:function(){var e=this,t=this._getKey({name:this.params.name,email:this.params.email});ns.request("recipients",{recipientsIds:[t]}).then(function(o){var a=(i(o,1)[0].getRecipients()||{})[t]||{};e.setData(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},a))}).fail(function(){e.setData({})})}}},ns.ModelStatic)},function(e,t){ns.Model.define("do-hide-subscriptions",{isStrictParams:!0,params:{emails:null,deleteOldLetters:null}})},function(e,t){ns.Model.define("do-trash-messages",{isStrictParams:!0,params:{messageType:null,search:null}})},function(e,t){ns.Model.define("get-active-subscriptions/v1",{params:{}})},function(e,t){ns.Model.define("get-hidden-subscriptions/v1",{params:{},methods:{RETRY_LIMIT:1,isEmpty:function(){return!this.data.subscriptions.length},hasSubscription:function(e){return this.data.subscriptions.some(function(t){return t.email===e})}}})},function(e,t){ns.Model.define("newsletter",{events:{"ns-model-init":"_onInit"},params:{displayName:null,email:null,messageType:null,readFrequency:null},methods:{_onInit:function(){this.setData({})}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-newsletters/v1",{isStrictParams:!0,params:{},split:{items:".newsletters",params:{id:".id"},model_id:"newsletter"},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-subscription-counters/v1",{isStrictParams:!0,params:{optinEnabled:null}})},function(e,t){ns.Model.define("get-pending-subscriptions",{isStrictParams:!0,params:{optinEnabled:null,optinEnabledAt:null,withEmailsInfo:null}})},function(e,t){ns.Model.define("do-review-subscriptions",{isStrictParams:!0,RETRY_LIMIT:1,params:{}})},function(e,t){ns.Model.define("do-update-subscriptions",{isStrictParams:!0,isDo:function(){return!0},params:{optinEnabled:null,subscriptions:[]}})},function(e,t){ns.Model.define("is-user-recently-confirmed-phone",{})},function(e,t){ns.Model.define("is-user-recently-entered-password",{params:{}})},function(e,t){ns.Model.define("products",{methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-domenator-domains-suggest/v1",{params:{limit:null}})},function(e,t){ns.Model.define("get-memories/v1",{RETRY_LIMIT:1,params:{image_size:null}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-labels-delete",{params:{lids:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-filters-delete",{params:{id:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-filters-add",{params:{mailboxUid:null,name:null,letter:null,attachment:null,logic:null,field1:null,field2:null,field3:null,clicker:null,move_label:null,move_folder:null,forward_address:null,notify_address:null,autoanswer:null,order:null,stop:null,password:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-filters-edit",{params:{id:null,name:null,letter:null,attachment:null,logic:null,field1:null,field2:null,field3:null,clicker:null,move_label:null,move_folder:null,forward_address:null,notify_address:null,autoanswer:null,order:null,stop:null,password:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("filters-apply",{params:{id:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-reply-later-create",{params:{ensureFolder:null,mid:null,date:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-reply-later-remove",{params:{mid:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-reply-later-reset",{params:{mid:null,date:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("do-reply-later-update",{params:{mid:null,date:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3604),i=r.n(n),o=r(3608),a=r.n(o),s=r(141);r.n(s);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ns.Model.define("stickers",{params:{type:null},paramsRewrite:function(e){return Object.values(s.StickerType).includes(e.type)||(e.type=s.StickerType.REPLY_LATER),e},methods:{preprocessData:function(e){var t=i()(e.stickers,"tid");return{cacheByMid:e.stickers.reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,u({},t.mid,t))},{}),cacheByTid:t}},getStickersByTid:function(e){return e=e.startsWith("t")?e.substr(1):e,this.data&&this.data.cacheByTid[e]||[]},getLastStickerByTid:function(e){var t=a()(this.getStickersByTid(e),"date");return t.length?t[t.length-1]:void 0},getStickerByMid:function(e){return this.data&&this.data.cacheByMid[e]},getRemindDateByMid:function(e){var t=this.getStickerByMid(e);return t?this._convertStickerDate(t.date):null},getRemindDateByTid:function(e){var t=this.getLastStickerByTid(e);return t?this._convertStickerDate(t.date):null},_convertStickerDate:function(e){return Daria.getPassportDate(new Date(1e3*e))}}})},,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);ns.Model.define("ws-userinfo",{params:{fields:null,mailboxUid:null},paramsRewrite:n.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("save-event-by-ics",{params:{ids:null,hid:null,stid:null,decision:null}},"base-calendar-event")},function(e,t){ns.Model.define("do-handle-reply",{params:{eventId:null,decision:null,ids:null,hid:null,stid:null}},"base-calendar-event")},function(e,t){ns.Model.define("get-link-app",{params:{app:"mail-wpv",phone_full:null,phone_id:null},methods:{}})},function(e,t){ns.Model.define("message-in-reply-to",{params:{mid:null,message_id:null}})},function(e,t){ns.Model.define("messages-item-state",{events:{"ns-model-init":"_onInit"},params:function(e){var t=_.extend({},Daria.router.getCurrentParams(),e),r=ns.Model.getKeyAndParams("messages",t).params;return r.ids=e.ids,r},methods:{STATE:{CLOSE:"close",MESSAGE:"message",THREAD_SHORT:"thread_short",THREAD_FULL:"thread_list"},_onInit:function(){this.setData({state:this.STATE.CLOSE})},destroy:function(){this.close()},setState:function(e){this.setIfChanged(".state",e)},getState:function(){return this.get(".state")},isClosed:function(){return this.get(".state")===this.STATE.CLOSE},close:function(){this.setState(this.STATE.CLOSE)}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-public-id",{params:{email:null}}),ns.Model.define("get-public-id-safe",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){var e=this,t=this.params.email&&this.params.email.trim();if(Daria.IS_CORP||!t)return this._promise={},this.valid=!0,void this.set(".valid",!0);this._promise=ns.request("get-public-id",{email:t}).then(function(t){return e.setData(t[0].data),t[0].data}).always(function(){e.valid=!0,e.set(".valid",!0)})},request:function(){return this._promise},isValid:function(){return this.valid}},params:{email:null},ctor:function(){this._promise=null,this.valid=!1}})},function(e,t){ns.layout.define("common",{app:{"right-box@":{},"browser-notifications-box@":function(){return Daria.hasFeature("web-react-browser-notifications")?{}:{"browser-notifications":{}}}}}),ns.layout.define("common+left+toolbar",{},"common"),ns.layout.define("messages",{},"common+left+toolbar"),ns.layout.define("message",{},"common+left+toolbar"),ns.layout.define("no-message",{},"common"),ns.layout.define("not-found",{},"common")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3622),i=r.n(n),o=r(1453),a=r(329);function s(){function e(){ns.forcedRequest(["do-mail-reset-recent-counter"]).then(function(){ns.forcedRequest(["app-badge-counter"])})}e(),ns.events.on("pageVisible.change",function(){Jane.watcher.get("pageVisible")&&e()})}function l(){ns.events.on("ns-page-before-changed",function(){nb.trigger("popup-close")})}ns.events.on("pageinit",function(){var e=Object(a.getMailboxUid)();ns.request([{id:"filters",params:{mailboxUid:e}}]),ns.request(["signs"]),Daria.IS_CORP||ns.request(["userphones"]),ns.request(["module-compose","module-message"])}),ns.events.on("reset-recent-counter",function(){s()}),ns.events.on("pageinit",function(){s()}),ns.events.on("set-popups-close-listener",function(){l()}),ns.events.on("pageinit",function(){l()}),ns.events.on("pageinit",function(){Daria.Sound.preload("message")}),ns.events.on("pageinit",function(){Daria.Geolocation.monitoring()}),ns.events.on("pageinit",function(){new i.a({cspHost:Daria.Config.cspHost,from:"LIZA",tld:Daria.Config.TLD,reqid:Daria.Config.connection_id}).check()}),ns.events.on("pageinit",function(){Object(o.b)(ns.Model.get("settings").getData())})},,function(e,t){Daria.IS_CORP&&ns.events.on("ns-page-after-load",function(){$.ajax({url:"//center.yandex-team.ru/whistlah",dataType:"jsonp"})}),ns.events.on("ns-page-before-load",function(e,t){var r=t[0],n=t[1];"messages"===r.page&&(r.params.ids||r.params.thread_id)&&(r.params.ids===n.params.ids&&r.params.thread_id===n.params.thread_id||ns.events.trigger("daria:message-will-close"))})},function(e,t,r){r(3625),r(3626),r(3627)},function(e,t){ns.View.define("app",{models:{},events:{},yateModule:"mail",methods:{}})},function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}!function(){"use strict";function e(e){return"on"===e||!0===e}ns.View.define("browser-notifications",{events:{"ns-view-init":"onInit","daria:PushManager:permissionResolved@show":"onPermissionResolved","daria:PushManager:permissionConverted@show":"onPermissionConverted","daria:PushManager:subscriptionUpdated@show":"onSubscriptionUpdated","daria:folder-add-done":"onFolderCreation"},models:{settings:{"ns-model-changed":!1,"ns-model-changed.browser_notify_message":"updateSubscription","ns-model-changed.open-message-list":"updateServiceWorkerSettings","ns-model-changed.folder_thread_view":"updateServiceWorkerSettings","ns-model-changed.browser_notify_blank":"updateServiceWorkerSettings","ns-model-changed.layout":"updateServiceWorkerSettings","ns-model-changed.subscribed_folders":"updateSubscriptions","ns-model-changed.subscribed_tabs":"updateSubscriptions"},folders:!1},yateModule:"mail",methods:{onInit:function(){if(!Daria.Config.NO_SETTINGS){var e=ns.Model.get("checkbox-tree-state"),t=e.syncronizeInboxBetween(Daria.areFoldersTabsEnabled());e.shouldSyncronizeInbox(t)?e.resubscribeOnFoldersTabsNotifications(t):this._checkSubscription(this.isEnabled())}},isEnabled:function(){var e=this.getModel("settings"),t=e.get(".browser_notify_message"),r=e.get(".browser_notify_requested");return t||!r&&Daria.IS_CORP},onSubscriptionUpdated:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getModel("settings"),i=n.getSetting("subscribed_folders")||"",o=n.getSetting("subscribed_tabs")||"",a={},i.replace(/&quot;/g,'"')!==r.folders&&Object.assign(a,{subscribed_folders:r.folders}),o.replace(/&quot;/g,'"')!==r.tabs&&Object.assign(a,{subscribed_tabs:r.tabs}),!Object.keys(a).length){e.next=9;break}return e.next=9,n.setSettings(a,{silent:!0});case 9:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),onPermissionResolved:function(e,t){this.keepValid();var r=this.getModel("settings"),n=this._fillSubscriptionSettings({browser_notify_requested:!0},t),i=!0;r.setSettings(n).catch(function(){return i=!1}).then(function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"requested",saved:i},n))})},onPermissionConverted:function(e,t){this.keepValid();var r=this.getModel("settings"),n=this._fillSubscriptionSettings({browser_notify_converted:!0},t),i=!0;r.setSettings(n).catch(function(){return i=!1}).then(function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"converted",saved:i},n))})},_fillSubscriptionSettings:function(e,t){var r=this.getModel("settings").get(".browser_notify_message"),n=t!==Daria.PushManager.PERMISSION.SKIPPED,i=t===Daria.PushManager.PERMISSION.GRANTED;return n&&!r&&i&&(e.browser_notify_message=i,e.subscribed_folders=JSON.stringify(this._getSubscribedFolders()),e.subscribed_tabs=JSON.stringify(this._getSubscribedTabs())),e},onFolderCreation:function(e,t){var r=this.getModel("folders").getParentFid(t),n=this._getSubscribedFolders();if(_.includes(n,r)){var i=JSON.stringify(n.concat(t).sort());this.getModel("settings").setSettings({subscribed_folders:i})}},updateSubscription:function(t,r,n,i,o){this.keepValid();var a=this.getModel("settings").get(".browser_notify_message");(o=e(o))!==(a=e(a))&&this._checkSubscription(a,!0)},updateServiceWorkerSettings:function(){this.keepValid();var e=this.getModel("settings");return e.getSign("browser_notify_message")?Daria.PushManager.settings({openMessageInList:e.getSign("open-message-list"),folderThreadView:e.getSign("folder_thread_view"),openInNewWindow:e.getSign("browser_notify_blank"),is3pane:e.getSign("layout")>0}):Promise.resolve()},updateSubscriptions:function(){this.isEnabled()&&(Daria.PushManager.resetSubscriptionDatetime(),Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs(),!0))},_checkSubscription:function(e,t){e?Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs()):Daria.PushManager.unsubscribe(t)},_getSubscribedFolders:function(){return ns.Model.get("settings").getSign("subscribed_folders")},_getSubscribedTabs:function(){return ns.Model.get("settings").getSign("subscribed_tabs")}}})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);r.n(n);!function(){var e=null;ns.View.define("disk-widget-save-popup",{yateModule:"mail",methods:{_deferred:null,open:function(t){return this._deferred?null:(this._deferred=new vow.Deferred,this.update({},{execFlag:ns.U.EXEC.PARALLEL}).then(function(){$(t.popup.where).closest(":focusable").focus(),this.nbPopup=nb.block(this.node),this.nbPopup.open(t.popup),Vow.all([ns.request([ns.Model.get("disk-secret-key")]),function(){if(e)return e;var t=new Vow.Promise;return Daria.Libs("DiskWidgetSaveApi",function(){window.WidgetSaveApi.config={dialogUrl:"".concat(Daria.Config["disk-url"],"/save/"),environment:"production",moveUrl:"".concat(Daria.Config["disk-url"],"/save/api/move"),origin:Daria.Config["disk-url"],saveUrl:"".concat(Daria.Config["disk-url"],"/save/api/save")},t.fulfill()}),e=t}()]).then(function(e){var r=e[0][0],i=this._getSaveToDiskWidgetParams(t,r.get(".key"),this.$node.find(".js-container")[0]);i?(this.$node.toggleClass("mail-DiskWidgetSavePopup-Content_Loaded",!0),this.widget=window.WidgetSaveApi.saveAndMove(i,{onClose:this.close.bind(this),onError:function(e){Jane.c(["Attachments","Error while saving on disc",t.countLocationName||"Not set"]),e&&Jane.ErrorLog.log({type:n.ErrorType.Component,source:n.ErrorSource.Logic,sourceMethod:n.ErrorSourceMethod.DiskWidgetSavePopup,block:n.ErrorBlock.DiskWidgetSavePopup,method:"save"},e)},onSuccess:function(){var e=$(".js-container").find("iframe");e.length&&e.focus()}})):this.destroySelf()},function(e){this.close(),Jane.ErrorLog.log({type:n.ErrorType.Component,source:n.ErrorSource.Logic,sourceMethod:n.ErrorSourceMethod.DiskWidgetSavePopup,block:n.ErrorBlock.DiskWidgetSavePopup,method:"open"},e)},this),this.nbPopup.on("nb-closed",this.destroySelf.bind(this))},this),this._deferred)},close:function(){this.nbPopup&&this.nbPopup.close()},destroySelf:function(){var e=this;_.defer(function(){e.nbPopup&&(e.nbPopup.destroy(),e.nbPopup=null),e.widget&&(e.widget.destroy(),e.widget=null),e._deferred&&(e._deferred.resolve(),e._deferred=null),e.destroy()})},_getSaveToDiskWidgetParams:function(e,t,r){var i=e.mid,o=e.hid,a=e.diskDownloadUrl,s=a?"disk-public":"mail",l=a||this._getMailAttachmentSrc(i,o);return l?{source:"copy-widget-yamail",type:s,sourceId:l,uid:ns.Model.get("account-information").get(".uid"),sk:t,container:r}:(Jane.ErrorLog.log({type:n.ErrorType.Component,source:n.ErrorSource.Logic,sourceMethod:n.ErrorSourceMethod.DiskWidgetSavePopup,block:n.ErrorBlock.DiskWidgetSavePopup,method:"_getSaveToDiskWidgetParams",message:"Disk-widget-save-popup: could not generate source id",mid:i,hid:o}),null)},_getMailAttachmentSrc:function(e,t){return e&&t?"/mail/file:"+e+":"+t:null}}})}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(337),i=(r.n(n),r(1348)),o=r(329),a=r(713),s=r(333);yr.externals["is-b2b"]=s.isB2BUser,yr.externals["has-experiment"]=Daria.hasExperiment,yr.externals["has-feature"]=n.hasFeature,yr.externals["get-send-permission"]=a.a,yr.externals["get-feature-params"]=n.getFeatureParams,yr.externals["show-doublesized-contacts"]=Daria.showDoubleSizedContacts,function(){var e,t;function n(t){return i(),e.getFolderById(t)||e.getFolderBySymbol(t)}function i(){e||(e=ns.Model.get("folders"),t=ns.Model.get("labels"))}r(3629),yr.externals["daria-url-attachment"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.attachment.apply(Daria.url,e)},yr.externals["daria-url-attachment-archive"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.archive.apply(Daria.url,e)},yr.externals["get-attach-preview-data"]=function(e,t,r,n){return Daria.getAttachPreviewData(yr.nodeset2data(e),t,r,n)},yr.externals["get-folder-by-fid-or-symbol"]=function(e){return yr.object2nodeset(n(e)||{})},yr.externals["get-folders-by-fids-or-symbols"]=function(e){for(var t=[],r=0;r<e.length;++r){var i=n(e[r].data);i&&t.push(i)}return yr.object2nodeset({folders:t})},yr.externals["get-tab-by-id"]=function(e){var t=ns.Model.get("tabs").getTab(e);return yr.object2nodeset(t?t.getData():{})},yr.externals["get-tabs"]=function(){var e=ns.Model.get("tabs").getFoldersTabsList();return yr.object2nodeset({tabs:e||[]})},yr.externals["get-human-size"]=Jane.getHumanSize,yr.externals["get-label-by-name"]=function(e){return i(),yr.object2nodeset(t.getLabelByName(e)||{})},yr.externals["get-label-by-lid"]=function(e){return i(),yr.object2nodeset(t.getLabelById(e)||{})},yr.externals["get-waiting-for-reply-label"]=function(){return i(),yr.object2nodeset(t.getWaitingForReplyLabel())},yr.externals["get-label-important"]=function(){return i(),yr.object2nodeset(t.getLabelBySymbolicName("important_label")||{})},yr.externals["is-message-imap-deleted"]=function(e){var t=ns.Model.get("message",{ids:e});return t.hasLabelWithSymbolicName("deleted_label")||t.get(".flags.imap-deleted")},yr.externals["get-shortcut-label-for"]=function(e,t,r){return Daria.Shortcuts.getShortcutLabelFor(e,t,r)},yr.externals["get-current-page"]=function(){return Daria.router.getCurrentPage()},yr.externals["get-current-page-params"]=function(){return yr.object2nodeset(Daria.router.getCurrentParams())},yr.externals["get-current-page-param"]=function(e){return Daria.router.getCurrentParams()[e]},yr.externals["is-2pane"]=Daria.is2pane,yr.externals["is-3pane"]=Daria.is3pane,yr.externals["is-folder"]=function(t,r){return!(!t||!r)&&(i(),e.isFolder(t,r))},yr.externals.avatar=function(e){return Daria.Recipients.add(e)},yr.externals["head-avatar"]=function(e){return Daria.Recipients.addHeadAvatar(e)},yr.externals["should-show-checkbox-inside-userpic"]=Daria.UISettings.shouldShowCheckboxInsideUserpic,yr.externals["get-labels-by-lid"]=function(e){i();var r=yr.nodeset2data(e);"string"==typeof r&&(r=[r]);for(var n=[],o=0,a=r.length;o<a;o++){var s=t.getLabelById(r[o]);if(s){var l=yr.object2nodeset(s)[0];l.name="label",n.push(l)}}return n},yr.externals["can-use-pins-by-params"]=function(e){return Daria.messages.checkUsePinsByParams(yr.nodeset2data(e))},yr.externals["can-show-pin-controls-by-params"]=Daria.messages.canShowPinControlsByParams,yr.externals["has-attachment-preview"]=function(e){return function(e){var t=e.url,r=e["preview-supported"]||e["preview-src"],n="image"===e.class,i=_.includes([],e.class);return(!t||r)&&(n&&r||i)}(yr.nodeset2data(e))},yr.externals["get-count-attachments-to-show"]=function(e){var t=yr.nodeset2data(e);return(t=_.isArray(t)?t:[t]).length>3?3:t.length},yr.externals["get-message-presentation-by-fid"]=function(e,t){var r=yr.nodeset2data(e)||{},n={ids:r.mid,fid:t||Daria.router.getCurrentParams().current_folder||r.fid},i=ns.Model.get("message-presentation",n);return i&&i.isValid()&&i.getData()?yr.object2nodeset(i.getData()):null},yr.externals["get-browser-notifications-permission"]=function(){return Daria.PushManager.permission()},yr.externals["has-browser-notifications-support"]=function(){return Daria.PushManager.compatible}}(),yr.externals["show-priority-label"]=function(){return Daria.showPriorityLabel()},yr.externals["repeat-str"]=_.repeat,yr.externals["are-folders-tabs-enabled"]=function(){return Daria.areFoldersTabsEnabled()},yr.externals["is-attachments-line-design"]=function(){return Daria.isAttachmentsLineDesign()},yr.externals["is-compact-messages-list"]=function(){return Daria.CompactMode.isCompactMessagesList()},yr.externals["get-compact-messages-list-value"]=function(){return Daria.CompactMode.getCompactMessagesListValue()},yr.externals["current-theme"]=function(){return ns.Model.get("themes").getCurrentThemeName()},yr.externals["is-priority-on"]=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_priority_stuff")),r=yr.nodeset2data(e),n=ns.Model.get("labels").getPriorityLID();return Boolean(t&&n&&r.lid.includes(n))},yr.externals["get-label-colors"]=function(e){return yr.object2nodeset(Object(i.a)(yr.nodeset2data(e)))},yr.externals["get-new-label-color"]=function(e){return yr.object2nodeset(Object(i.a)({color:yr.nodeset2data(e)}))},yr.externals["is-foreign-mailbox"]=function(){return Boolean(Object(o.getMailboxUid)())}},function(e,t){!function(){yr.externals["url-params"]=function(e,t,r){e||(e=Daria.router.getCurrentParams()),t=$.makeArray(t),r=$.makeArray(r),t.push("threaded");var n=[];for(var i in e)!e.hasOwnProperty(i)||t.length&&-1!==t.indexOf(i)||r.length&&-1===r.indexOf(i)||n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.length?n.join("&")+"&":""},yr.externals["url-content-folder"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"",e.symbol?"#"+e.symbol+t:"#folder/"+e.fid+t},yr.externals["url-content-tab"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"","#tabs/"+e.id+t},yr.externals["url-content-label"]=function(e,t){return e=yr.nodeset2data(e),t=t?e.lid?"?":"&":"",e.lid?"#label/"+e.lid+t:"#messages?goto=all&extra_cond="+e.symbol+t},yr.externals["url-content-message"]=function(e,t){return e=yr.nodeset2data(e),Daria.Page.generateUrl.contentMessage(e,t)},yr.externals["url-content-sort"]=function(e,t){return Array.isArray(e)&&(e=yr.nodeset2scalar(e)),Array.isArray(t)&&(t=yr.nodeset2scalar(t)),function(){var e=Daria.router.getCurrentParams(),t=[];if("only_atta"===e.extra_cond)t.push("#attachments?");else if("only_new"===e.extra_cond)t.push("#unread?");else{var r=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](r,!0))}return t.push(yr.externals["url-params"](e,["current_folder","sort_type","page_number","extra_cond","goto","currentDateId","nextDateId","prevDateId"])),t.join("")}()+"sort_type="+e+("asc"===t?"1":"")+"&"},yr.externals["page-url-prefix"]=function(){return function(){var e=Daria.router.getCurrentParams(),t=[];if(e.tabId){var r=yr.externals["get-tab-by-id"](e.tabId);t.push(yr.externals["url-content-tab"](r,!0))}else if(e.current_folder){var n=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](n,!0))}else if(e.current_label){var i=yr.externals["get-label-by-lid"](e.current_label);t.push(yr.externals["url-content-label"](i,!0))}else e.thread_id?t.push("#thread/"+e.thread_id+"?"):"search"===e.search?t.push("#search?request="+encodeURIComponent(e.request)+"&"):"only_new"===e.extra_cond?t.push("#unread?"):"only_atta"===e.extra_cond?t.push("#attachments?"):"all"===e.goto?t.push("#all?"):t.push("#messages?");return t.join("")}()+function(){var e=Daria.router.getCurrentParams(),t=[];e.current_folder?(t=["ids","thread_id","page_number","current_folder","datePager","mrange","pager_top","currentDateId","prevDateId","nextDateId","tabId"],Daria.is2pane()&&t.push("extra_cond")):t=e.current_label?["ids","thread_id","page_number","current_label"]:e.thread_id?["ids","thread_id","page_number"]:"search"===e.search?["ids","thread_id","page_number","search","request"]:"only_new"===e.extra_cond||"only_atta"===e.extra_cond||"all"===e.goto?["ids","thread_id","page_number","extra_cond","goto"]:["ids","thread_id","page_number","pager_top"];return yr.externals["url-params"](e,t)}()}}()},function(e,t){Daria.markReadFolder=function(e,t){ns.Model.get("folders",{mailboxUid:t}).getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)}),ns.forcedRequest([{id:"do-folder-mark-read",params:{fid:e,mailboxUid:t}}]).fail(function(r){return Daria.MOPS.registerOperationFail("mark",{fid:e,mailboxUid:t},r,"do-folder-mark-read")}),Daria.MOPS.markByFid("mark",e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(135),i=(r.n(n),r(580)),o=r(136);r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s={messageByMid:function(e){return delete e.tid,s.messageById(e)},messageByTid:function(e){return delete e.mid,s.messageById(e)},messageById:function(e){var t=e.tid||e.mid;if(t){var r=ns.Model.get("message",{ids:t});if(r.isValid()){var n={dlid:r.get(".dlid"),dtype:r.get(".dtype"),socialLid:r.getSocialLID()};return e.mid&&(n.fid=r.get(".fid")),n}}},messageBySearchId:function(e){if(e.mid){var t=ns.Model.get("filter-search",{mids:e.mid});return t.isValid()?{fid:t.select(".envelopes.fid")[0],dlid:t.select(".envelopes.dlid")[0],dtype:t.select(".envelopes.dtype")[0],socialLid:t.getSocialLID()}:void 0}}},l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._request=Object(n.debounce)(function(){t._makeRequest()},100),this._extractData=function(e){var r=e[0],i=r.getRecipients();for(var o in i){var a=t._cache[o]||{},s=Object(n.extend)({},a,t._normalizeRecipientData(i[o],a.isGroup,a.isWsContainer));t._cache[o]=s,t._validityCache[t._extractEmail(s.email)]=s.valid}t._updateAvatarsViews(),r.destroy()},this._cache={},this._validityCache={},this._queue=[],this._requested={},this._recipients={},this._shouldUpdate=[],this._retryCount=0}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(e,[{key:"_makeRequest",value:function(){var e=this,t=Object.keys(this._requested),r=this._queue.filter(function(e){return-1===t.indexOf(e)}).slice(0,256);if(!r.length)return vow.resolve();if(this._retryCount<=0)return this._queue=[],vow.reject("no-more-retries");var n=ns.forcedRequest("recipients",{recipientsIds:r}).then(this._extractData).fail(function(){e._retryCount--}).then(function(){if(r.forEach(function(t){delete e._requested[t];var r=e._queue.indexOf(t);-1!==r&&e._queue.splice(r,1)}),e._queue.length)return e._makeRequest()});return r.forEach(function(t){return e._requested[t]=n}),n}},{key:"_resetRetryCount",value:function(){this._retryCount=3}},{key:"_getCacheId",value:function(e,t){return e||t?t?'"'.concat(t,'" <').concat(e,">"):"<".concat(e,">"):""}},{key:"addHeadAvatar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.email,n=e.name,i=e.showUserAvatar,o=void 0===i||i,a=this._cache[this._getCacheId(r,n)],s=this._cache[this._getCacheId(r,r)];return!a&&s&&o&&s.url&&(e.name=r),this.add(e,t)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.name,i=void 0===r?"":r,o=e.email,a=void 0===o?"":o,s=e.size,l=e.id,u=e.className,c=e.target,d=e.title,f=e.isGroup,g=void 0!==f&&f,p=e.isWsContainer,m=void 0!==p&&p,h=e.showUserAvatar,v=void 0===h||h,b=e.href,_=e.mid,y=e.tid,S=e.participantType,w=e.single,O=e.fallbackAvatar;l=l||Object(n.uniqueId)("recipient-"),s=-1!==Daria.Constants.AVATARS.VALID_SIZES.indexOf(parseInt(s,10))?s:Daria.Constants.AVATARS.DEFAULT_SIZE,Array.isArray(a)&&(a=a[0]),Array.isArray(i)&&(i=i[0]),i=i.replace(/"/g,""),g&&(a="".concat(a,"@yamail-group"));var x=this._getCacheId(a,i);if(this._recipients[l])t&&(this._shouldUpdate.push(l),x&&-1===this._queue.indexOf(x)&&this._queue.push(x),this._cache[x]&&delete this._cache[x]);else{var M=this._getMessageInfo({mid:_,tid:y,participantType:S,single:w});if(this._shouldUpdate.push(l),this._recipients[l]=Object(n.extend)({email:a,name:i,size:s,id:l,className:u,cacheId:x,target:c,title:d,showUserAvatar:v,href:b},this._createHref({href:b,message:M,title:d,participantType:S,email:a})),x&&-1===this._queue.indexOf(x)&&!this._cache[x]&&this._queue.push(x),!this._cache[x]||!this._cache[x].normalized){var P=this._normalizeRecipientData(this._cache[x],g,m,O);this._cache[x]=P,this._validityCache[a]=P.valid}}return this._resetRetryCount(),this._request(),this._getAvatarView(l)}},{key:"requestContacts",value:function(e){var t=this,r=!1,n=[];return e.forEach(function(e){var i=t._getCacheId(e.email,e.name),o=-1!==t._queue.indexOf(i),a=t._cache[i],s=t._requested[i],l=a&&t._cache[i].normalized;o||s||l||(t._queue.push(i),r=!0),s&&n.push(t._requested[i])}),r&&(this._resetRetryCount(),n.push(this._makeRequest())),vow.all(n)}},{key:"_normalizeRecipientData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.type,a=e.url;return Object(n.extend)({},e,{fallbackAvatar:i||this._getSocialavatarsUrl(t||r?"group":"person"),shortMono:!!e.mono&&1===e.mono.length,isGroup:t,isWsContainer:r,normalized:!0,url:"icon"===o?this._getSocialavatarsUrl(a):a})}},{key:"_getSocialavatarsUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.Config.socialavatarsUrl,"/v4/").concat(e,".svg").replace(Daria.Constants.HTTP_REG_EX,"")}},{key:"getRecipient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._recipients[e]||{};return"url"in t&&!t.url&&delete t.url,Object(n.extend)({},this._cache[t.cacheId]||{},t)}},{key:"isEmailValid",value:function(e){return this._validityCache[e]}},{key:"getRecipientFromCache",value:function(e,t){return this._cache[this._getCacheId(t,e)]}},{key:"_getAvatarView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ns.renderString(Object(n.extend)({},this.getRecipient(e),{isIE:i.default.isIE()}),"js-avatars","mail")}},{key:"_updateAvatarsViews",value:function(){var e=this,t=this._shouldUpdate.map(function(e){return"#".concat(e)}).join(",");$(t).each(function(t,r){var n=$(r).closest(".js-bubble").get(0);if(n)Daria.BaseBubble.updateBubbleAtNode(n);else{var i=ns.html2node(e._getAvatarView(r.id));i&&r.parentElement.replaceChild(i.firstChild,r)}}),this._shouldUpdate=[],ns.events.trigger("daria:recipients:update")}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].concat(t).forEach(function(t){return e.add(e.getRecipient(t),!0)})}},{key:"cacheRecipient",value:function(e){var t=e.cacheId;delete e.cacheId,e.cacheKey=t,Daria.debug.enabled&&ns.assert(t,"Daria.Recipients.cacheRecipient","cacheId not specified for recipient"),this._cache[t]||(this._cache[t]=e,this._validityCache[this._extractEmail(e.email)]=e.normalized?e.valid:void 0)}},{key:"_getMessageInfo",value:function(e){var t=e.mid,r=e.tid,i=e.single,o=["messageByMid","messageBySearchId","messageByTid"],a={};return"from"===e.participantType&&r&&!i&&(o=o.reverse()),o.some(function(e){return a=s[e]({mid:t,tid:r})}),Object(n.isEmpty)(a)?{}:{fid:a.fid,dlid:a.dlid,dtype:a.dtype,isService:Boolean(a.dlid||a.dtype),serviceName:a.dlid||a.dtype&&a.dtype.name,socialLabel:a.socialLid&&ns.Model.get("labels").getLabelById(a.socialLid)}}},{key:"_createHref",value:function(e){var t,r,i=e.message,a=e.participantType,s=e.email,l=i.socialLabel,u=void 0===l?{}:l,c=i.fid,d=i.dtype,f=e.href,g=e.title;if(!1===f||!i)return{};if(Object(n.isEmpty)(u)){if(d&&d.sender&&24!==Number(d.id))t=Daria.router.buildUrl("messages",{search:"search",type:d.id});else if(a&&c){var p={search:"search",scope:"to"===a?"hdr_to":"hdr_from",request:s};ns.Model.get("folders").isFolder(c,o.RecipientsSpecialFolders)&&(p.scope="hdr_to"),"hdr_to"===p.scope?(p.fid=c,r=i18n("%Все_письма_на_этот_адрес")):r=i18n("%Все_письма_с_этого_адреса"),t=Daria.router.buildUrl("messages",p)}}else t=Daria.router.buildUrl("messages",{current_label:u.lid}),r=u.title;return t&&(f=t),r&&!g&&!1!==g&&(g=r),{href:f,title:g}}},{key:"_extractEmail",value:function(e){var t=Jane.FormValidation.splitContacts(e);return t.length?t[0].email:e}}]),e}();Daria.Recipients=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"renderReactComponent",function(){return C}),r.d(t,"unmountReactBox",function(){return k});var n,i=r(325),o=r(333),a=r(326),s=r.n(a),l=r(3633),u=r(370),c=r(552),d=r(553),f=r(1457),g=r(3646),p=r(3648),m=r(3652),h=r(359),v=r(138),b=r.n(v),_=r(134),y=r.n(_),S=r(368),w=r(362),O=(r.n(w),r(3656)),x=r(3749),M=(r.n(x),r(1467)),P=(r.n(M),r(3874));function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object(i.configure)({enforceActions:Object(o.isDev)()?"observed":"never"}),s.a.defineLocale("tt",l.a);var T=d.a.SEARCH_TRIGGER;Daria.React=Daria.React||{},Daria.React.SEARCH_TRIGGER=T,Daria.React.renderAdvancedSearchBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.a.render(Object(O.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{ref:function(e){Daria.React._advancedSearchRef=e}})),e)};var C=function(e,t,r){Object(S.configureRootTheme)({theme:w.PS_LIGHT,root:t}),b.a.render(function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(h.default,{lang:Object(o.getLocale)()},void 0,y.a.createElement(e,r)),t)},k=Daria.React.unmountReactBox=function(e){b.a.unmountComponentAtNode(e)};Daria.React.toggleSuggestFolded=function(e){Daria.React._searchRef&&Daria.React._searchRef.toggleFolded(e)},Daria.React.setFocusOnInput=function(){Daria.React._searchRef&&Daria.React._searchRef.setFocusOnInput()},Daria.React.showLastSearchQuery=Object(i.action)(function(){var e=Object(c.getSearchService)(),t=Object(u.getSearchStore)();e.syncSearchQuery(),t.searchQuery.currentShowText=t.searchQuery.currentSuggestText}),Daria.React.activateSearch=function(){Object(f.a)().emit("Search:activate")},Daria.React.getSearchBoxIsFolded=function(){return Object(u.getSearchStore)().isFolded},Daria.React.navigateToPage=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(c.getRouterService)().navigateToPage(e,t,r)},Daria.React.openLastPageBeforeSearch=function(){Object(c.getRouterService)().openLastPageBeforeSearch()},Daria.React.logSearchSuggest=function(e,t){var r=Object(c.getSearchLogService)();r.logSearchSuggest(e),t&&(r.suggestWasLogged=!0)},Daria.React.logSearchMessageClick=function(e,t,r,n,i){Object(c.getSearchLogService)().logMessageClick(e,t,r,n,i)},Daria.React.setSearchTrigger=function(e){Object(c.getSearchLogService)().setSearchTrigger(e)},Daria.React.wasSearchRequestSimplified=function(){return Object(u.getSearchStore)().wasSearchRequestSimplified},Daria.React.isAdvancedSearchOpened=function(){return Object(c.getSearchService)().shouldDisplayAdvancedSearch},Daria.React.setSimplifiedParams=Object(i.action)(function(e){Object(u.getSearchStore)().simplifiedParams=e}),Daria.React.startSearch=function(e,t,r){var n=Object(u.getSearchStore)(),i=Object(c.getSearchService)();r&&i.lockSearch(function(){n.searchQuery.reset()}),i.startSearch(e,t)},Daria.React.getSearchParams=function(){return Object(u.getSearchStore)().searchQuery.paramsForSearch},Daria.React.setInitialState=function(){Object(c.getSearchService)().syncSearchQuery()},Daria.React.reactOnAdvancedChange=function(e,t){var r=Object(u.getSearchStore)();return Object(i.reaction)(function(){return r.searchQuery.getAutosearchParams()},t,{name:e})},Daria.React.getSearchSessionId=function(){return Object(u.getSearchStore)().getSearchSessionId()},Daria.React.dropSearchSession=function(){Object(u.getSearchStore)().dropSearchSession()},Daria.React.getSearchId=function(){return Object(u.getSearchStore)().getSearchId()},Daria.React.generateSearchId=function(){Object(u.getSearchStore)().generateSearchId()},Daria.React.saveShowSearchResultsTimestamp=function(){Object(u.getSearchStore)().saveShowSearchResultsTimestamp()},Daria.React.promoPopularContacts=g.a,Daria.React.popupSubscriptions=p.a,Daria.React.yaCollectorEmailInputPopup=m.a,window.ReactClientBridge&&window.ReactClientBridge.getSearchStoreBridge.resolve({toggleFolded:Daria.React.toggleSuggestFolded,setFocusOnInput:Daria.React.setFocusOnInput,showLastSearchQuery:Daria.React.showLastSearchQuery,openLastPageBeforeSearch:Daria.React.openLastPageBeforeSearch,navigateToPage:Daria.React.navigateToPage}),window.ReactClientBridge&&window.ReactClientBridge.openSubscriptionsPopupPromise&&window.ReactClientBridge.openSubscriptionsPopupPromise.resolve(p.a.openPopup),window.ReactClientBridge&&window.ReactClientBridge.getMailSettingsPromise.resolve(x.MailSettings),window.ReactClientBridge&&window.ReactClientBridge.getPromoDataLoaderPromise.resolve(M.PromoDataLoader),window.ReactClientBridge&&window.ReactClientBridge.getSearchContactsSuggestPromise.resolve(P.a)},function(e,t,r){"use strict";t.a={parentLocale:"en",months:["гыйнвар","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthsShort:["гыйнв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],weekdays:["якшәмбе","дүшәмбе","сишәмбе","чәршәмбе","пәнҗешәмбе","җомга","шимбә"],weekdaysShort:["якш","дүш","сиш","чәрш","пәнҗ","җом","шим"],weekdaysMin:["як","дү","си","чә","пә","җо","ши"]}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return o});var i=/^#(search(\?|\/|$)|(contacts))/,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"navigateToMessage",value:function(e,t){var r=Daria.is2pane()?Daria.router.buildUrl("message",{ids:e,tab:"thread"}):Daria.router.buildUrl("messages",{ids:e,current_folder:t});Daria.router.navigate(r)}},{key:"navigateToPage",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r.shouldAddPageParams?Daria.router.getCurrentParams():{},t),i=Daria.router.buildUrl(e,n);Daria.router.navigate(i)}},{key:"openLastPageBeforeSearch",value:function(){var e=ns.page.history.getFirstValidPrevious(function(e){return!i.test(e)})||ns.page.getDefaultUrl();Daria.router.getCurrentUrl()!==e&&Daria.router.navigate(e,"replace")}},{key:"redrawPage",value:function(){Daria.router.navigate()}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return I});var n,i,o=r(134),a=r.n(o),s=r(325),l=r(725),u=(r.n(l),r(3636)),c=r(406),d=r(397),f=r(1057),g=r(135),p=r.n(g),m=r(136),h=(r.n(m),r(331)),v=r(2);r.n(v);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r,n){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function S(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=y(h.default,{loc:"suggest-react/advanced-search-filter-important"}),O=y(h.default,{loc:"suggest-react/advanced-search-filter-priority"}),x=y(h.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),M=y(h.default,{loc:"suggest-react/advanced-search-filter-with-deleted"}),P=y(h.default,{loc:"suggest-react/advanced-search-filter-unread"}),D=y(h.default,{loc:"suggest-react/advanced-search-filter-from"}),E=y(h.default,{loc:"suggest-react/advanced-search-filter-to"}),T=y(h.default,{loc:"suggest-react/advanced-search-filter-from"}),C=y(h.default,{loc:"suggest-react/advanced-search-filter-to"}),k=y(h.default,{loc:"suggest-react/advanced-search-filter-subject"}),A=y(h.default,{loc:"suggest-react/advanced-search-filter-body"}),I=(S((n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._searchSuggest=null,this._isSearchLocked=!1,this._stores=t,this._services=r}return function(e,t,r){t&&_(e.prototype,t),r&&_(e,r)}(e,[{key:"startSuggest",value:function(){var e=this._stores.searchStore;this._suggest.request(e.searchQuery.paramsForSuggest)}},{key:"cleanupSuggest",value:function(){var e=this._stores.searchStore;this._suggest.abortCurrentRequest(),e.setSuggestItems([])}},{key:"removeSuggestItem",value:function(e){this._stores.searchStore.removeSuggestItem(e),c.default.forcedRequest("do-clean-suggest-history",{request:e.data.search_text})}},{key:"resetSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._services.routerService,r=this._stores.searchStore.searchQuery;return r.currentSuggestText.trim()&&!e.forced?(r.currentSuggestText="",!1):(r.currentSuggestText="",e.openPageBeforeSearch&&t.openLastPageBeforeSearch(),!0)}},{key:"startSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._services.searchLogService,n=this._stores.searchStore.searchQuery;try{n.currentSearchText=e,n.currentSuggestText=e,ns.Model.invalidate("history-suggest");var i=n.paramsForSearch;t.extraSearchParams&&Object.assign(i,t.extraSearchParams);var o=Object(s.action)(function(e){n.currentShowText=e,n.currentSuggestText=e});(e||t.force)&&(Daria.MessagesSearch.search(i,{onCorrecting:o,onSuccess:t.onSuccess,onError:t.onError}),r.suggestWasLogged||(r.logSearchSuggest({text:e}),r.suggestWasLogged=!0),r.logSearch(e,i,this.shouldDisplayAdvancedSearch))}finally{r.suggestWasLogged=!1}}},{key:"syncSearchQuery",value:function(){var e=this._stores,t=e.routerStore,r=e.searchStore.searchQuery,n=t.currentPage.params,i=n.request||"";r.currentSearchText=i,r.currentSuggestText=i,r.updateAdvancedParams(this.getInitialAdvancedSearchParams(),n)}},{key:"getInitialAdvancedSearchParams",value:function(){var e=this._stores.routerStore.currentPage.params;if("only_atta"===e.extra_cond&&"all"===e.goto)return{attaches:"yes"};if("only_new"===e.extra_cond&&"all"===e.goto)return{unread:"yes"};if(Daria.messages&&Daria.messages.params4SimpleLabel&&Daria.messages.params4SimpleLabel(e))return{lid:e.current_label};var t=this.getCurrentFolderParam();return t?{fid:t}:{}}},{key:"getCurrentFolderParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._stores,r=t.routerStore,n=t.foldersStore,i=r.currentPage.params;if(Daria.messages.params4SimplePath(i)){var o=i.current_folder,a=n.isFidSymbol(o,m.WellKnownFolderSymbol.INBOX);if(e.returnInbox||!a)return o}var s=r.currentPage.page;return Daria.messages.folder4MessagePage(s,i)}},{key:"lockSearch",value:function(e){if(this._isSearchLocked)Object(l.log)({type:v.ErrorType.Service,source:v.ErrorSource.Logic,sourceMethod:v.ErrorSourceMethod.Search,block:v.ErrorBlock.Search,method:"lockSearch",message:"Search service: search already locked"});else try{this._isSearchLocked=!0,e()}finally{this._isSearchLocked=!1}}},{key:"setMultipleAdvanced",value:function(){var e=this._stores.searchStore.searchQuery;e.setMultipleAdvanced.apply(e,arguments)}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"getAdvanced",value:function(e){return this._stores.searchStore.searchQuery.getAdvanced(e)}},{key:"removeBubbles",value:function(e){var t=this._stores.searchStore.searchQuery,r=this._services.searchLogService,n=this.bubbles.filter(Object(s.action)(function(t){return-1!==e.indexOf(t.id)})).map(Object(s.action)(function(e){return e.type})),i=p.a.flatten(e).map(Object(s.action)(function(e){return{name:e,value:t.defaults[e]}}));t.setMultipleAdvanced.apply(t,b(i)),n.forEach(Object(s.action)(function(e){return r.countBubbleAction(e,"Click on X")}))}},{key:"_suggest",get:function(){var e=this._stores,t=e.settingsStore,r=e.searchStore,n=this._services.searchLogService;return this._searchSuggest||(this._searchSuggest=new u.a(t,r,n)),this._searchSuggest}},{key:"isSearchLocked",get:function(){return this._isSearchLocked}},{key:"shouldDisplayAdvancedSearch",get:function(){var e=this._stores,t=e.searchStore,r=e.routerStore;return t.forceShowAdvancedSearch||r.isSearchResultsPage&&!r.isCurrentPageEmptySearch}},{key:"onlyCurrentFolderFilterEnabled",get:function(){var e=this._stores,t=e.routerStore,r=e.foldersStore,n=e.searchStore;if(!n.searchQuery.hasOnlyFolderParam)return!1;var i=t.currentPage.params.current_folder||t.currentPage.params.fid;return!r.isFidSymbol(i,m.WellKnownFolderSymbol.INBOX)&&i===n.searchQuery.getAdvanced("fid")}},{key:"hasUserBubbles",get:function(){var e=this._stores,t=e.routerStore,r=e.searchStore,n=r.searchQuery;return!!n.isAdvancedDirty&&(!n.hasOnlyFolderParam||(t.currentPage.params.current_folder||t.currentPage.params.fid)!==r.searchQuery.getAdvanced("fid"))}},{key:"bubbles",get:function(){var e=this,t=this._stores,r=t.searchStore.searchQuery,n=t.foldersStore,i=t.labelsStore,o={service:{getFilter:function(){var e=r.getAdvanced("serviceId"),t=(Object(f.a)()||[]).filter(function(t){return t.serviceId===e})[0]||null;return t?t.name:null},id:"serviceId"},label:{getFilter:function(){var e=r.getAdvanced("lid");if(!e)return null;if(e===i.getImportantId())return w;if(e===i.getPriorityId())return O;var t=i.getLabelById(e);return t&&t.data?t.data.name:null},id:"lid"},folder:{getFilter:function(){var t=e.getAdvanced("fid"),r=t?n.getFolderByFid(t):null;return r?r.data.name:null},id:"fid"},attaches:{getFilter:function(){return e.getAdvanced("attaches")?x:null},id:"attaches"},dates:{getFilter:function(){var t=e.getAdvanced("from"),r=e.getAdvanced("to");return t||r?(t=Object(d.getDateInNumericFormat)(t),r=Object(d.getDateInNumericFormat)(r),t&&r?"".concat(t," - ").concat(r):y(h.default,t?{loc:"suggest-react/advanced-search-filter-date-from",params:{date:t}}:{loc:"suggest-react/advanced-search-filter-date-to",params:{date:r}})):null},id:["from","to"]},deleted:{getFilter:function(){return e.getAdvanced("deleted")?M:null},id:"deleted"},unread:{getFilter:function(){return e.getAdvanced("unread")?P:null},id:"unread"},from:{getFilter:function(){var e=r.getAdvanced("hdr_from");if(e)return a.a.createElement(a.a.Fragment,null,D,": ",e)},id:"hdr_from"},to:{getFilter:function(){var e=r.getAdvanced("hdr_to");if(e)return a.a.createElement(a.a.Fragment,null,E,": ",e)},id:"hdr_to"},scope:{getFilter:function(){switch(e.getAdvanced("scope")){case"hdr_from":return T;case"hdr_to":return C;case"hdr_subject":return k;case"body_text":return A;default:return null}},id:"scope"}};return Object.keys(o).map(function(e){return{type:e,id:o[e].id,value:o[e].getFilter()}}).filter(function(e){return e.value}).map(function(e){return{id:e.id,type:e.type,content:e.value}})}}]),e}()).prototype,"startSuggest",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"startSuggest"),n.prototype),S(n.prototype,"resetSearch",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"resetSearch"),n.prototype),S(n.prototype,"startSearch",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"startSearch"),n.prototype),S(n.prototype,"syncSearchQuery",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"syncSearchQuery"),n.prototype),S(n.prototype,"shouldDisplayAdvancedSearch",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"shouldDisplayAdvancedSearch"),n.prototype),S(n.prototype,"onlyCurrentFolderFilterEnabled",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"onlyCurrentFolderFilterEnabled"),n.prototype),S(n.prototype,"hasUserBubbles",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"hasUserBubbles"),n.prototype),S(n.prototype,"bubbles",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"bubbles"),n.prototype),S(n.prototype,"setMultipleAdvanced",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setMultipleAdvanced"),n.prototype),S(n.prototype,"setAdvanced",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setAdvanced"),n.prototype),S(n.prototype,"removeBubbles",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"removeBubbles"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(135),i=r.n(n),o=r(333),a=r(406),s=r(3637),l=r(1080),u=r(86);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=i.a.isEqual,p=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._aborted=!1,this._lastParams=null,this._suggest=new s.a(this._requestSuggest.bind(this),300),this._settingsStore=t,this._searchStore=r,this._searchLogServive=n}return function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(e,[{key:"request",value:function(e){this._aborted=!1,this._suggest.request(e)}},{key:"abortCurrentRequest",value:function(){this._aborted=!0}},{key:"_requestSuggest",value:function(e){var t=this;this._aborted||(this._lastParams=e,window.Apdex.start(["Performance_searchSuggest"],!0),this._requestSuggestPart(e).then(function(r){if(r&&r.status)return t._requestSuggestPart(e,r.status,r.limit)}).catch(i.a.noop))}},{key:"_requestSuggestPart",value:function(e,t,r){var n=this;if(!this._aborted){var i=new vow.Deferred,s=Object.assign({},e,{types:["subject","ql","contact","mail","history"].join(","),twoSteps:1,highlight:1,limit:r||10,reqid:this._searchStore.getSearchSessionId()});t&&(s.status=t);var f=Object(u.getExternalEmailsBridge)();return a.default.forcedRequest("search-suggest",s).then(function(r){if(g(n._lastParams,e)&&!n._aborted){var a=(r.items||[]).map(function(e){return e&&e.email}).filter(Boolean).filter(function(e){return e.includes("@")}),s=(r.items||[]).map(function(e){return new l.a(e)});t?(n._searchStore.setSuggestItems(s,Boolean(t)),i.resolve()):(n._searchStore.setSuggestItems(s),i.resolve({status:r.status,limit:10-s.length})),Object(o.isPDD)()&&f.loadAreExternalEmails(a).then(function(){var e=f.getExternalEmails();s.forEach(function(t){var r=t.data;r&&r.email&&e[r.email]&&t.setData(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{isExternal:!0}))})}),n._searchLogServive.logSuggestResults(e),s.length?window.Apdex.send(["Performance_searchSuggest"]):window.Apdex.delete(["Performance_searchSuggest"])}else i.reject("search suggest: failed update")},function(e){i.reject(e)}),i.promise()}}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(135);var i=r.n(n).a.throttle,o=function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._throttledRequest=function(e){n._request(e)},this._request=t,this.request=i(this._throttledRequest,r,{leading:!1})}},function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n,i,o,a=r(413),s=r.n(a),l=r(325),u=r(773),c=r(396),d=(r.n(c),r(333)),f=r(1455),g=r(337);r.n(g);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(o=i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stores=t}return function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(e,[{key:"setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return ns.Model.get("settings").setSettings(e,t,r)}},{key:"switchOnThreadMode",value:function(){return ns.Model.get("settings").threadedOn()}},{key:"switchOffThreadMode",value:function(){return ns.Model.get("settings").threadedOff()}},{key:"setBiggerText",value:function(){return ns.Model.get("settings").setSettingOn("with_bigger_text")}},{key:"setNormalText",value:function(){return ns.Model.get("settings").setSettingOff("with_bigger_text")}},{key:"setSidebarToggleState",value:function(e){this.setSettings(p({},"is_sidebar_expanded",e?"yes":"no"))}},{key:"setIsHiddenTrashEnabled",value:function(e){return this.setSettings(p({},u.a,e))}},{key:"setLeftColumnProWidgetExpandAt",value:function(e){return this.setSettings(p({},u.b,e))}},{key:"isCompactHeaderMode",get:function(){return!Object(g.hasFeature)(g.Features.WEB_GLOBALBAR_VERTICAL)&&this._stores.settingsStore.isSet(c.Settings.MINIFIED_HEADER)}},{key:"isSidebarExpanded",get:function(){var e=this._stores.settingsStore;if(e.hasSetting("is_sidebar_expanded"))switch(e.getSettingValue("is_sidebar_expanded")){case"yes":return!0;case"no":return!1}return!1}},{key:"isPriorityTabEnabled",get:function(){var e=Boolean(this._stores.labelsStore.getPriorityId()),t=this._stores.settingsStore.getSign(c.Settings.SHOW_PRIORITY_STUFF);return!Object(d.isCorp)()&&(this._stores.settingsStore.getSign(c.Settings.PRIORITY_MAIL)||Object(d.hasSid)(669))&&e&&t}},{key:"isOptInSubscriptionsEnabled",get:function(){return ns.Model.get("settings").isSet(c.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},{key:"isHotkeysEnabled",get:function(){return ns.Model.get("settings").data.enable_hotkeys}}]),e}(),i.instance=s()(function(){return new v(Object(f.a)())}),h((n=o).prototype,"isCompactHeaderMode",[l.computed],Object.getOwnPropertyDescriptor(n.prototype,"isCompactHeaderMode"),n.prototype),h(n.prototype,"isSidebarExpanded",[l.computed],Object.getOwnPropertyDescriptor(n.prototype,"isSidebarExpanded"),n.prototype),h(n.prototype,"isPriorityTabEnabled",[l.computed],Object.getOwnPropertyDescriptor(n.prototype,"isPriorityTabEnabled"),n.prototype),h(n.prototype,"isOptInSubscriptionsEnabled",[l.computed],Object.getOwnPropertyDescriptor(n.prototype,"isOptInSubscriptionsEnabled"),n.prototype),h(n.prototype,"isHotkeysEnabled",[l.computed],Object.getOwnPropertyDescriptor(n.prototype,"isHotkeysEnabled"),n.prototype),n)},function(e,t,r){"use strict";var n=r(135),i=r.n(n),o=r(406);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stores=t}return function(e,t,r){t&&a(e.prototype,t),r&&a(e,r)}(e,[{key:"getContacts",value:function(e){return o.default.forcedRequest("search-suggest",{type:"contact",request:e,limit:5}).then(function(e){return i.a.map(e&&e.items,function(e){return{name:e.display_name,email:e.email}}).filter(function(e){return e.email})}).catch(function(){return[]})}}]),e}();t.a=s},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n,i=r(135),o=r.n(i),a=r(397),s=r(325),l=r(3641),u=r(1057),c=r(511);r.n(c);function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(f((n=function(){function e(t){var r=this,n=t.foldersStore,i=t.labelsStore,s=t.searchStore;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.language=[{keywords:["от","from"],paramName:c.SearchQueryParams.HDR_FROM,canBeEmpty:!0},{keywords:["кому","to"],paramName:c.SearchQueryParams.HDR_TO,canBeEmpty:!0},{keywords:["тема","subject"],paramName:c.SearchQueryParams.HDR_SUBJECT,canBeEmpty:!0},{keywords:["текст","text"],paramName:c.SearchQueryParams.BODY_TEXT,canBeEmpty:!0},{keywords:["с-вложениями","has-attachments"],paramName:c.SearchQueryParams.ATTACHES,stringify:function(){return"да"}},{keywords:["в-удалённых","in-deleted","in-hidden-trash"],paramName:c.SearchQueryParams.DELETED,stringify:function(){return"да"}},{keywords:["с-даты","after","newer","после","новее"],paramName:c.SearchQueryParams.FROM,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["до-даты","before","older","старее"],paramName:c.SearchQueryParams.BEFORE_DATE,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["заканчивая-датой","date-end"],paramName:c.SearchQueryParams.TO,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["папка","folder"],paramName:c.SearchQueryParams.FID,parseValue:function(e){var t=r.foldersStore.getFolderByName(e);return t&&t.data&&t.data.fid},stringify:function(e){var t=r.foldersStore.getFolderByFid(e);return t?t.data.name:e}},{keywords:["непрочитанные","unread"],paramName:c.SearchQueryParams.UNREAD,stringify:function(){return"да"}},{keywords:["метка","label"],paramName:c.SearchQueryParams.LID,parseValue:function(e){var t=r.labelsStore.getLabelByName(e);return t&&t.data&&t.data.lid},stringify:function(e){var t=r.labelsStore.getLabelById(e);return t?t.data.name:e}},{keywords:["от","from"],paramName:c.SearchQueryParams.SERVICE_ID,stringify:function(e){var t=o.a.find(r.services,{serviceId:e});return t?t.email:e},customGetter:function(){var e=r.parsedQuery.hdr_from;if(e&&e.value){var t=o.a.find(r.services,{email:e.value});return t&&t.serviceId||null}return null},customRemover:function(){return r._removeFilterFromQuery("hdr_from")}}],this._parseQuery=function(e){if(!e)return{};var t,n=[],i=0,a=/([^\\]|^)"$/,s=function(e,n){var i=r._languageByParamName[n.type];return n.isEnclosed?(n.value+=e,!!a.test(e)&&(n.value=r._getFilterValueFromString(i,n.value),delete n.isEnclosed,!0)):'"'===e[0]?e.length>1&&a.test(e)?(n.value=r._getFilterValueFromString(i,e),!0):(n.value+=e,n.isEnclosed=!0,t=n,!1):(n.value=r._getFilterValueFromString(i,e),!0)};if(e.split(/( +)/g).forEach(function(e){if(t)t.length+=e.length," "!==e[0]?s(e,t)&&(n.push(t),t=null):t.isEnclosed&&(t.value+=e);else{var a=e.indexOf(":");if(-1!==a){var l=e.substring(0,a),u=l&&o.a.find(r.language,function(e){return o.a.includes(e.keywords,l)});if(u){var c={start:i,type:u.paramName,length:e.length,value:""};if(a!==e.length-1){var d=e.substring(a+1);s(d,c)?n.push(c):t=c}else t=c}}}i+=e.length}),t){var u=r._languageByParamName[t.type];(t.value||u.canBeEmpty)&&(t.length=e.length-t.start,delete t.isEnclosed,t.value=r._getFilterValueFromString(u,t.value),n.push(t))}return Object(l.a)(n,function(e){return e.type})},this.convertFilterToQueryString=function(e,t){if(null==t)return null;var n=r._languageByParamName[e];return n&&(n.stringify&&(t=n.stringify(t)),-1!==(t=t.replace(/"/g,'\\"')).indexOf(" ")&&(t='"'.concat(t,'"')),e=n.keywords[0]),"".concat(e,":").concat(t)},this.getAdvanced=function(e){if(r._languageByParamName[e].customGetter)return r._languageByParamName[e].customGetter();var t=r.parsedQuery[e];return t&&t.value||null},this.foldersStore=n,this.labelsStore=i,this.searchStore=s,this.services=Object(u.a)()}return function(e,t,r){t&&d(e.prototype,t),r&&d(e,r)}(e,[{key:"_removeFilterFromQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._languageByParamName[e].customRemover)return this._languageByParamName[e].customRemover();t=t||this.parsedQuery,r=r||this.searchStore.searchQuery.currentShowText;var n=t[e];return n?(r.substr(0,n.start)+r.substr(n.start+n.length)).replace(/  +/g," ").trim():r}},{key:"_refineValue",value:function(e){return e.replace(/^"(.*)"$/,"$1").replace(/\\"/g,'"')}},{key:"_getFilterValueFromString",value:function(e,t){return t=this._refineValue(t),e.parseValue?e.parseValue(t):t}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=this.searchStore.searchQuery,o=i.currentShowText,a=this._parseQuery(o);r.forEach(Object(s.action)(function(t,n){var i=t.name,s=t.value;if((a[i]||e._languageByParamName[i].customRemover)&&(o=e._removeFilterFromQuery(i,a,o),a=e._parseQuery(o)),s||""===s){o=o.replace(/ *[a-zа-я\-]+\: *$/,"");var l=e.convertFilterToQueryString(i,s);o=o?o.trim()+" "+l:l}o&&(o+=" "),n<r.length-1&&(a=e._parseQuery(o))})),i.currentSuggestText=i.currentShowText=o}},{key:"_languageByParamName",get:function(){return Object(l.a)(this.language,function(e){return e.paramName})}},{key:"parsedQuery",get:function(){return{}}}]),e}()).prototype,"parsedQuery",[s.computed],Object.getOwnPropertyDescriptor(n.prototype,"parsedQuery"),n.prototype),f(n.prototype,"setMultipleAdvanced",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setMultipleAdvanced"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce(function(e,n){return e[t(n)]=r?r(n):n,e},{})}},function(e,t,r){"use strict";var n=r(3643);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(423);r.n(n);function i(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){var r=t.themesStore,n=t.generalThemesBridge;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themesStore=r,this._generalThemesBridge=n}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,[{key:"setTheme",value:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.themesStore.isGeneralThemeExists(t)){e.next=4;break}return e.next=3,this._generalThemesBridge.enableTheme(t);case 3:return e.abrupt("return",Daria.actions.run("trigger-theme-redraw",{themeId:t}));case 4:if(this.themesStore.isThemeExist(t)){e.next=6;break}return e.abrupt("return");case 6:return"colorful"===t&&(r=ns.Model.get("settings"),(i=r.getSetting("colorful-theme-skin"))&&i!==n.DEPRECATED_COLORFUL_SKIN||r.setSettings({"colorful-theme-skin":n.DEFAULT_COLORFUL_SKIN})),e.next=9,Daria.actions.run("change-theme",{themeId:t});case 9:if(!this.themesStore.isGeneralThemeExists(this.themesStore.currentTheme)){e.next=12;break}return e.abrupt("return",this._generalThemesBridge.disableTheme());case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"enableVideoBg",value:function(){return this._generalThemesBridge.enableVideoBg()}},{key:"disableVideoBg",value:function(){return this._generalThemesBridge.disableVideoBg()}},{key:"setScope",value:function(e){var t=ns.Model.get("themes").getCurrentTheme(),r=ns.Model.get("settings");"theme-colorful"===t.id&&r.setSettings({"colorful-theme-skin":e}),"theme-seasons"===t.id&&r.setSettings({currentScope:e}),t.saveScope(e),t.removeSavedSkin(),t.updateCurrentSkin(!0),Daria.router.navigate()}},{key:"isVideoBgEnabled",get:function(){return this._generalThemesBridge.isVideoBgEnabled()}}]),e}()},function(e,t,r){"use strict";var n=r(3645);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function e(t){var r=this,n=t.themesSelectorStore;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openThemeSelector=function(){r.themesSelectorStore.model.open(),Daria.router.navigate()},this.themesSelectorStore=n}},function(e,t,r){"use strict";var n,i=r(134),o=r.n(i),a=r(138),s=r.n(a),l=r(950),u=r(341),c=r(3647);r.n(c);function d(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f={create:function(e){f.create=function(){};var t=document.createElement("div");document.body.appendChild(t),window.addEventListener("mousedown",i);var r=null;return{setAnchor:function(e){r!==e&&(r=e,c(!0),a("показ бабла"))},close:n};function n(){c(!1),window.removeEventListener("mousedown",i),setTimeout(function(){s.a.unmountComponentAtNode(t),document.body.removeChild(t),e()},200)}function i(e){var t=e.target;t&&(a(t.dataset.promoPopularContactsMetrika||"клик вне зоны бабла"),n())}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Jane.c(["Популярные контакты",e])}function c(e){var n={cls:"promo-popular-contacts",theme:"normal",target:"anchor",anchor:r,visible:e,hasTail:!0};s.a.render(o.a.createElement(l.a,n,d("div",{className:"promo-popular-contacts-message","data-promo-popular-contacts-metrika":"клик в бабл"},void 0,d(u.default,{id:"mail--Close16",cls:"promo-popular-contacts-close",data:{"data-promo-popular-contacts-metrika":"клик на крестик бабла"}}),i18n("%Compose_promo_popular_contacts"))),t)}}};t.a=f},function(e,t){},function(e,t,r){"use strict";var n=r(134),i=r.n(n),o=r(138),a=r.n(o),s=r(3649),l=r(513),u=r(477),c=r(333),d=r(554),f=r(396),g=(r.n(f),r(1458)),p=(r.n(g),r(3651)),m=(r.n(p),r(86)),h=r(333),v=r(337);r.n(v);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={openPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,r=e.email,n=document.createElement("div");document.body.appendChild(n);var o=Object(l.isDarkContent)(),_=d.a.instance().isOptInSubscriptionsEnabled,y={isDark:o,onClose:function(){n&&(a.a.unmountComponentAtNode(n),document.body.removeChild(n),n=null,ns.events.trigger("daria:unsubscribe-popup:hide"),Object(m.updateMessagesProcess)())},onReload:function(){g.SubscriptionCountersStore.instance().forceUpdate(),p.PendingSubscriptionsStore.instance().forceUpdate()},page:Object(h.isB2BUser)()||Object(h.isPDD)()||_||!Object(v.hasFeature)(v.Features.WEB_SHOW_PENDING_SUBSCRIPTIONS)?t:"pending",email:r,linkToMailPro:Object(c.getLinkToMailPro)("manage_subscriptions"),onHelp:function(){window.open("".concat(u.helpUrl,"/web/preferences/manage-subscriptions.html#opt-in"),"_blank")},onChoosePlan:function(){},onOptInEnable:function(){d.a.instance().setSettings(b({},f.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,"on")),g.SubscriptionCountersStore.instance().clearData()},onOptInDisable:function(){d.a.instance().setSettings(b({},f.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,""))}};a.a.render(i.a.createElement(s.a,y),n)}};t.a=_},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(957),u=r(3650),c=(r.n(u),r(1059));function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v={CLOSE:"subscriptions.close",READY:"subscriptions.DOMReady",RELOAD:"subscriptions.reload",API_ERROR:"subscriptions.apiError",NETWORK_ERROR:"subscriptions.networkError",CHOOSE_PLAN:"subscriptions.choosePlan",HELP:"subscriptions.help",OPT_IN_ENABLE:"subscriptions.optinEnable",OPT_IN_DISABLE:"subscriptions.optinDisable"},b=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=g(this,(e=p(t)).call.apply(e,[this].concat(i)))).onClose=function(){return r.props.onClose()},r._formFrameListener=function(e){switch(e.data){case v.READY:r._setSubscriptionsConfig();break;case v.RELOAD:r._onSubscriptionFolderReload();break;case v.CLOSE:r._onClose();break;case v.API_ERROR:case v.NETWORK_ERROR:r._onError();break;case v.CHOOSE_PLAN:r._onChoosePlan();break;case v.HELP:r._onHelp();break;case v.OPT_IN_ENABLE:r.props.onOptInEnable&&r.props.onOptInEnable();break;case v.OPT_IN_DISABLE:r.props.onOptInDisable&&r.props.onOptInDisable()}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(t,[{key:"render",value:function(){return h(l.a,{autoclosable:!0,cls:"mail-SubscriptionsPopup",theme:"normal",visible:!0,onClose:this.onClose},void 0,h("div",{className:"mail-SubscriptionsPopup_dialog"},void 0,h("iframe",{className:"js-subscriptions-frame",frameBorder:"0",src:["/subs/".concat(this.props.page||""),this.props.email?"/".concat(this.props.email):"","?platform=web","&locale=".concat(Daria.locale),"&noHistory=1","&optinExp=".concat(Object(c.isOptInSubscriptionsVisible)()?1:0),"&connectionId=".concat(Daria.Config.connection_id),Daria.Config.uid?"&uid=".concat(Daria.Config.uid):"",this.props.isDark?"&darkTheme=1":""].join("")})))}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._formFrameListener),$.Shortcuts.modalListOn("subscriptions-popup"),ns.events.on("daria:unsubscribe-popup:hide",this._onClose.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._formFrameListener),$.Shortcuts.modalListOff("subscriptions-popup"),ns.events.off("daria:unsubscribe-popup:hide",this._onClose)}},{key:"_setSubscriptionsConfig",value:function(){var e={uid:Daria.uid,client:"liza",choosePlanUrl:this.props.linkToMailPro};$(".js-subscriptions-frame")[0].contentWindow.subscriptions.setConfig(e)}},{key:"_onSubscriptionFolderReload",value:function(){this.props.onReload()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onError",value:function(){this.props.onClose()}},{key:"_onChoosePlan",value:function(){this.props.onChoosePlan&&this.props.onChoosePlan()}},{key:"_onHelp",value:function(){this.props.onHelp&&this.props.onHelp()}}]),t}();b.propTypes={isDark:s.a.bool.isRequired,onClose:s.a.func.isRequired,onReload:s.a.func.isRequired,linkToMailPro:s.a.string.isRequired,onChoosePlan:s.a.func,onHelp:s.a.func,onOptInEnable:s.a.func,onOptInDisable:s.a.func,page:s.a.oneOf(["pending","active","hidden"]),email:s.a.string}},function(e,t){},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PendingSubscriptionsStore=void 0;var a=r(135),s=o(r(373)),l=o(r(406)),u=r(325),c=r(370),d=r(479),f="get-pending-subscriptions",g=function(e){function t(t){var r=e.call(this)||this;return r.settingsStore=t,r.lastUpdate=Date.now(),r.setSubscriptionsData=function(e){r.subscriptions=e},r._addModelSubscription(f,{optinEnabled:r.optinEnabled,withEmailsInfo:!0},{onChanged:r.setSubscriptionsData}),d.addNsEventListener("xiva.mail.update",function(){return r.update()}),d.addNsEventListener("xiva.mail.insert",function(){return r.update()}),d.addNsEventListener("xiva.mail.move",function(){return r.update()}),d.addNsEventListener("fake-loader",function(){return r.forceUpdate()}),r}return n(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optinReviewedAt",{get:function(){return Math.max(this.settingsStore.optInSubscriptionsReviewedAt)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},t.prototype.waitForData=function(){var e=this.getRequestParams();return e.optinEnabled?(this.requestDataPromise||(this.requestDataPromise=this._requestModelData(f,e).then(this.setSubscriptionsData)),this.requestDataPromise):Promise.resolve()},t.prototype.forceUpdate=function(){var e=this.getRequestParams();e.optinEnabled&&l.default.forcedRequest(f,e)},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled,withEmailsInfo:!0}},t.instance=a.memoize(function(){return new t(c.getSettingsStore())}),i([u.observable],t.prototype,"subscriptions",void 0),i([u.computed],t.prototype,"optinEnabled",null),i([u.computed],t.prototype,"optinReviewedAt",null),i([u.action],t.prototype,"setSubscriptionsData",void 0),t}(s.default);t.PendingSubscriptionsStore=g},function(e,t,r){"use strict";var n=r(134),i=r.n(n),o=r(138),a=r.n(o),s=r(3653);t.a={openPopup:function(e){var t=e.onOk,r=document.createElement("div");document.body.appendChild(r);var n={onOk:t,onClose:function(){r&&(a.a.unmountComponentAtNode(r),document.body.removeChild(r),r=null)}};a.a.render(i.a.createElement(s.a,n),r)}}},function(e,t,r){"use strict";var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(957),u=r(698),c=r(372),d=r(359),f=r(333),g=r(3654),p=(r.n(g),r(3655)),m=r.n(p),h=r(331);function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M="mail-YaCollectorEmailInputPopup",P="mail-YaCollectorEmailInputPopup_Content",D="mail-YaCollectorEmailInputPopup_Header",E="mail-YaCollectorEmailInputPopup_EmailInputWrapper",T="mail-YaCollectorEmailInputPopup_ControlPanel",C="mail-YaCollectorEmailInputPopup_ErrorIcon",k="mail-YaCollectorEmailInputPopup_ErrorText",A=x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_requiredField"}),I=x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_invalidEmail"}),j=x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_title"}),F=x("label",{},void 0,x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_emailField"})),R=x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_ok"}),B=x(h.default,{loc:"common-react/YaCollectorEmailInputPopup_cancel"}),L=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=S(this,(e=w(t)).call.apply(e,[this].concat(i)))).state={email:"",errorMessage:null},r.emailInputRef=o.a.createRef(),r.setEmailInputRef=function(e){return r.emailInputRef.current=e},r.onEmailChange=function(e){return r.setState({email:e})},r.onOk=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){_(o,n,i,a,s,"next",e)}function s(e){_(o,n,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.email){e.next=4;break}return r.setState({errorMessage:A}),e.abrupt("return");case 4:return e.next=6,r.isYandexUser(t);case 6:if(e.sent){e.next=9;break}return r.setState({errorMessage:I}),e.abrupt("return");case 9:r.props.onOk({email:t}),r.props.onClose();case 11:case"end":return e.stop()}},e)})),r.isYandexUser=function(e){return ns.request("is-yandex-user",{email:e}).then(function(e){return"yes"===b(e,1)[0].get(".y")})},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),function(e,t,r){t&&y(e.prototype,t),r&&y(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.emailInputRef.current&&e.emailInputRef.current.focus()},0)}},{key:"renderErrorMessage",value:function(){var e=this.state.errorMessage;return e?x("div",{},void 0,x("img",{className:C,src:m.a}),x("div",{className:k},void 0,e)):null}},{key:"render",value:function(){var e=this.props.onClose,t=this.state.email;return x(d.default,{lang:Object(f.getLocale)()},void 0,x(l.a,{cls:M,autoclosable:!0,visible:!0,theme:"normal",onClose:e},void 0,x("div",{className:P},void 0,x("div",{className:D},void 0,j),x("div",{},void 0,x("div",{className:E},void 0,F,x(u.a,{innerRef:this.setEmailInputRef,theme:"normal",size:"xs",onChange:this.onEmailChange,text:t}),this.renderErrorMessage()),x("div",{className:T},void 0,x(c.a,{theme:"normal",size:"xs",onClick:this.onOk},void 0,R),x(c.a,{theme:"normal",size:"xs",onClick:e},void 0,B))))))}}]),t}();L.propTypes={onOk:s.a.func.isRequired,onClose:s.a.func.isRequired},t.a=L},function(e,t){},function(e,t,r){e.exports=r.p+"_/bf5cdd356233d8b8688ad3c30f8835d7-error.svg"},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,i=r(134),o=r.n(i),a=r(324),s=r.n(a),l=r(3657),u=r(3729),c=r(327),d=r(370),f=r(552),g=r(369),p=(r.n(g),r(1062)),m=(r.n(p),r(1457));function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,r=v(e,["className"]),n=Object(d.getSearchStore)(),i=Object(p.useThemes)(),a={foldersStore:Object(d.getFoldersStore)(),labelsStore:Object(d.getLabelsStore)(),routerStore:Object(d.getRouterStore)(),searchStore:n,settingsStore:Object(d.getSettingsStore)(),routerService:Object(f.getRouterService)(),searchService:Object(f.getSearchService)(),searchLogService:Object(f.getSearchLogService)(),settingsService:Object(f.getSettingsService)(),queryLanguageService:Object(f.getQueryLanguageService)(),shortcuts:Object(m.a)(),scenarioManager:f.scenarioManager};return o.a.createElement(c.Provider,a,b(g.ThemesContext.Provider,{value:i},void 0,b("div",{className:s()("mail-Search",t),role:"search"},void 0,o.a.createElement(l.a,h({},r,{ref:function(e){Daria.React._searchRef=e}})))))},y=function(e){var t={foldersStore:Object(d.getFoldersStore)(),labelsStore:Object(d.getLabelsStore)(),routerStore:Object(d.getRouterStore)(),searchStore:Object(d.getSearchStore)(),settingsStore:Object(d.getSettingsStore)(),avatarsService:Object(f.getAvatarsService)(),contactsSuggestService:Object(f.getContactsSuggestService)(),routerService:Object(f.getRouterService)(),searchService:Object(f.getSearchService)(),searchLogService:Object(f.getSearchLogService)(),settingsService:Object(f.getSettingsService)(),queryLanguageService:Object(f.getQueryLanguageService)(),shortcuts:Object(m.a)(),scenarioManager:f.scenarioManager};return o.a.createElement(c.Provider,t,o.a.createElement(u.a,e))};window.ReactClientBridge&&(window.ReactClientBridge.getSearchContainerPromise.resolve(_),window.ReactClientBridge.getAdvancedSearchContainerPromise.resolve(y))},function(e,t,r){"use strict";var n=r(3658);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";var n,i,o,a,s,l,u,c,d,f=r(134),g=r.n(f),p=r(322),m=r.n(p),h=r(657),v=r.n(h),b=r(333),_=r(324),y=r.n(_),S=r(325),w=r(327),O=r(359),x=r(677),M=r(678),P=r(553),D=r(554),E=r(747),T=r(337),C=(r.n(T),r(3659)),k=(r.n(C),r(136));r.n(k);function A(e){"@babel/helpers - typeof";return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function L(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var N=P.a.SEARCH_TRIGGER,U=r(3660).default,H=Object(w.inject)("foldersStore","searchStore","searchService","searchLogService","settingsService","routerService")(n=Object(w.observer)((c=u=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(F(n=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?F(e):t}(this,j(t).call(this,e,r))),"_selectItem",o,F(n)),n._logSelectSuggestItem=function(e){var t=n.props,r=t.searchStore,i=t.searchLogService,o=e.data,a=r.getItemPosition(e)+1,s={text:r.searchQuery.currentShowText,suggestUsed:!0,target:o.target,show_text:o.show_text,search_text:o.search_text,itemPos:a};i.logSearchSuggest(s),i.suggestWasLogged=!0},B(F(n),"_handleMessageClick",a,F(n)),B(F(n),"_handleQueryLanguageClick",s,F(n)),B(F(n),"_setAdvancedOption",l,F(n)),n._getContainerClass=n._getContainerClass.bind(F(n)),n._searchViaEnterPress=n._searchViaEnterPress.bind(F(n)),n._searchViaButton=n._searchViaButton.bind(F(n)),n._startSuggest=n._startSuggest.bind(F(n)),n._activateSearchViaShortcut=n._activateSearchViaShortcut.bind(F(n)),n._suggestWrapper=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,g.a.Component),function(e,t,r){t&&I(e.prototype,t),r&&I(e,r)}(t,[{key:"componentDidMount",value:function(){this.props.searchLogService.setSuggestTrigger()}},{key:"_getItemShowText",value:function(e){var t=e.data;switch(t.target){case"mail":return t.show_text;default:return t.search_text}}},{key:"_searchViaEnterPress",value:function(){var e=this.props.searchLogService;e.setSearchTrigger(N.ENTER),e.endSuggestScenario(N.ENTER),this._startSearch({force:!0})}},{key:"_searchViaButton",value:function(){var e=this.props,t=e.searchLogService;e.searchStore.isFolded||(t.setSearchTrigger(N.BUTTON),t.endSuggestScenario(N.BUTTON),this._startSearch({force:!0}))}},{key:"_activateSearchViaShortcut",value:function(){this._startSuggest(v.a.HOTKEY),this.setFocusOnInput()}},{key:"_startSearch",value:function(e){var t=this.props,r=t.searchStore,n=t.searchService;r.showSuggest=!1,n.startSearch(r.searchQuery.currentShowText,e)}},{key:"setFocusOnInput",value:function(e,t){this._suggestWrapper&&this._suggestWrapper.focusInput(e,t)}},{key:"toggleFolded",value:function(e){this._suggestWrapper&&this._suggestWrapper.toggleFolded(e)}},{key:"_startSuggest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a.CLICK,t=this.props,r=t.foldersStore,n=t.searchStore,i=t.searchService,o=t.searchLogService,a=n.searchQuery;if(i.startSuggest(),Object(b.emitSuggestOpened)(e),n.isFolded&&Object(b.isCorp)()&&!i.getAdvanced("fid")){var s=r.getFolderBySymbol(k.WellKnownFolderSymbol.INBOX);s&&s.data.fid&&i.setAdvanced("fid",s.data.fid)}o.setSuggestTrigger(e),o.logSuggestActivation({suggestWithEmptyRequest:!a.currentSearchText})}},{key:"_getContainerClass",value:function(){var e=this.props.settingsService;return y()({"mail-SearchContainer":!0,"is-in-compact-header":e.isCompactHeaderMode||Object(T.hasFeature)(T.Features.WEB_GLOBALBAR_VERTICAL),hasGlobalBar:Object(T.hasFeature)(T.Features.WEB_GLOBALBAR_VERTICAL)})}},{key:"render",value:function(){var e=this,t=this.props,r=t.toneDefault,n=t.toneActive,i=t.searchStore,o=t.settingsService,a=t.placeholder,s={searchQuery:i.searchQuery},l={toneDefault:r,toneActive:n,placeholder:a,isCompact:o.isCompactHeaderMode,getContainerClass:this._getContainerClass,getItemShowText:this._getItemShowText,startSuggest:this._startSuggest,searchViaButton:this._searchViaButton,searchViaEnterPress:this._searchViaEnterPress,selectItem:this._selectItem,ref:function(t){e._suggestWrapper=t}};return function(e,t,r,n){d||(d="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:d,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(O.default,{lang:Daria.locale},void 0,g.a.createElement(w.Provider,s,g.a.createElement(U,l)))}}]),t}(),u.propTypes={foldersStore:m.a.instanceOf(x.a).isRequired,searchStore:m.a.instanceOf(M.a).isRequired,searchService:m.a.instanceOf(P.b).isRequired,searchLogService:m.a.instanceOf(P.a).isRequired,settingsService:m.a.instanceOf(D.a).isRequired,routerService:m.a.instanceOf(E.a).isRequired,toneDefault:m.a.string,toneActive:m.a.string,className:m.a.string,placeholder:m.a.string},L((i=c).prototype,"_startSearch",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_startSearch"),i.prototype),o=L(i.prototype,"_selectItem",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!0},n=e.props,i=n.searchStore,o=n.searchService,a=n.searchLogService,s=t.data,l=!1,u=!1;switch(e._logSelectSuggestItem(t),a.setSearchTrigger(N.SUGGEST),i.showSuggest=!1,s.target){case"mail":u=l=e._handleMessageClick(s);break;case"ql":e._handleQueryLanguageClick(s),l=!0,u=void 0;break;case"folder":l=e._setAdvancedOption("fid",s.fid);break;case"label":case"important":l=e._setAdvancedOption("lid",s.lid);break;case"unread":l=e._setAdvancedOption("unread",!0)}return l||(i.searchQuery.currentShowText=s.search_text,o.startSearch(s.search_text,r)),window.Apdex.start(["Performance_searchResult"],!0),u}}}),a=L(i.prototype,"_handleMessageClick",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=e.props.routerService;return!!t.mid&&(r.navigateToMessage(t.mid,t.fid),!0)}}}),s=L(i.prototype,"_handleQueryLanguageClick",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=e.props.searchStore.searchQuery;r.currentSearchText=t.search_text,r.currentSuggestText=t.search_text,r.currentShowText=t.search_text,e.setFocusOnInput()}}}),l=L(i.prototype,"_setAdvancedOption",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var n=e.props,i=n.searchStore.searchQuery,o=n.searchService;return!!r&&(o.setAdvanced(t,r),i.currentSearchText="",i.currentSuggestText="",i.currentShowText="",!0)}}}),n=i))||n)||n;t.a=H},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,a,s,l,u,c=r(134),d=r.n(c),f=r(322),g=r.n(f),p=r(325),m=r(327),h=r(333),v=r(657),b=r.n(v),_=r(678),y=r(772),S=r(677),w=r(747),O=r(554),x=r(1058),M=r(553),P=r(3661),D=r(3662),E=r(3663),T=r(372),C=r(949),k=r(1459),A=r(1060),I=r(3681),j=r(741),F=r(580),R=r(3727),B=r(351),L=r.n(B),N=r(337),U=(r.n(N),r(3728));function H(e){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t,r,n){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:u,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Y(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var $=k.a.SEARCH_TRIGGER,X=k.a.FOLD_SOURCE,Q=i18n("%ServiceTabs__Search_Button"),J=i18n("%Toolbar_Mobile_SearchMessages"),Z=i18n("%Search_Bubble_Remove"),ee=(G(l={},X.SHORTCUT,b.a.HOTKEY),G(l,X.CLOSE_CLICK,b.a.CLICK),G(l,X.RIGHT_CONTENT_CLICK,b.a.CLICK),G(l,X.BG_CLICK,b.a.BG_CLICK),l),te=K(U.a,{"aria-hidden":"true"}),re=K(R.a,{"aria-hidden":"true"}),ne=K(C.a,{}),ie=Object(m.inject)("searchStore","routerStore","foldersStore","routerService","searchService","searchLogService","settingsService","queryLanguageService")(n=Object(m.observer)((s=a=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(q(n=function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?q(e):t}(this,z(t).call(this,e,r))),"_changeQuery",o,q(n)),n._onActionClick=function(){n._foldSuggest()},n._renderItem=function(e){return K(I.a,{item:e,onActionClick:n._onActionClick})},n._suggest=null,n._isSuggestVisible=n._isSuggestVisible.bind(q(n)),n._foldSuggest=n._foldSuggest.bind(q(n)),n._unfoldSuggest=n._unfoldSuggest.bind(q(n)),n._changeQuery=n._changeQuery.bind(q(n)),n._onClearClick=n._onClearClick.bind(q(n)),n._onCloseClick=n._onCloseClick.bind(q(n)),n._onFoldedChanged=n._onFoldedChanged.bind(q(n)),n._onSearchFinish=n._onSearchFinish.bind(q(n)),n._onSubmit=n._onSubmit.bind(q(n)),n._onSuggestStateChanged=n._onSuggestStateChanged.bind(q(n)),n._shouldFoldOnEsc=n._shouldFoldOnEsc.bind(q(n)),n._showAdvancedSearch=n._showAdvancedSearch.bind(q(n)),n._onKeyDownA11y=n._onKeyDownA11y.bind(q(n)),n._updateSuggestWithA11y=n._updateSuggestWithA11y.bind(q(n)),n._onBubblesRemove=n._onBubblesRemove.bind(q(n)),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,d.a.Component),function(e,t,r){t&&W(e.prototype,t),r&&W(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchStore,r=e.routerStore,n=e.searchService,i=e.settingsService,o=e.queryLanguageService;this._navigationSearchReaction=new E.a({routerStore:r,searchStore:t},{searchService:n,settingsService:i},{fold:this._foldSuggest,unfold:this._unfoldSuggest}),this._searchSuggestReaction=new P.a(t,n,this._isSuggestVisible),this._searchReaction=new D.a({searchStore:t,routerStore:r},{searchService:n,queryLanguageService:o}),window.addEventListener("keydown",this._onKeyDownA11y,!0)}},{key:"componentWillUnmount",value:function(){this._navigationSearchReaction.cancel(),this._searchSuggestReaction.cancel(),this._searchReaction.cancel(),window.removeEventListener("keydown",this._onKeyDownA11y)}},{key:"focusInput",value:function(){var e;this._suggest&&(e=this._suggest).focusInput.apply(e,arguments)}},{key:"toggleFolded",value:function(e){e?this._foldSuggest():this._unfoldSuggest()}},{key:"_isSuggestVisible",value:function(){return Boolean(this._suggest&&this._suggest.isSuggestVisible())}},{key:"_onFoldedChanged",value:function(e){var t=this.props,r=t.searchStore,n=t.searchService,i=t.searchLogService,o=t.isCompact;r.isFolded=e,e?(n.resetSearch(),n.cleanupSuggest(),r.dropSearchSession(),o&&Object(h.toolbarRestruct)()):i.countSearchActivation(),Object(h.toggleSearchAppMode)(!e),this._updateSuggestWithA11y()}},{key:"_onSuggestStateChanged",value:function(e){this.setState({suggestState:e})}},{key:"_onSearchFinish",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.props,n=r.routerService,i=r.searchLogService;i.logSearchFinish(ee[e]),i.endSuggestScenario(ee[e]),t&&n.openLastPageBeforeSearch()}},{key:"_shouldFoldOnEsc",value:function(){return!Object(N.hasFeature)(N.Features.WEB_GLOBALBAR_VERTICAL)&&!this.props.routerStore.isSearchResultsPage}},{key:"_getItemType",value:function(e){return e.data.target}},{key:"_onSubmit",value:function(e){var t=this.props,r=t.searchViaButton,n=t.searchViaEnterPress;e===$.ENTER_PRESS?n():r(),window.Apdex.start(["Performance_searchResult"],!0)}},{key:"_onClearClick",value:function(){var e=this.props.searchLogService;e.countTextCleared(),e.logSuggestClear()}},{key:"_onCloseClick",value:function(){var e=this.props,t=e.searchLogService,r=e.searchStore.searchQuery;r.isAdvancedDirty?(r.reset(),this.focusInput()):Object(N.hasFeature)(N.Features.WEB_GLOBALBAR_VERTICAL)&&(this._foldSuggest(),this.props.routerService.openLastPageBeforeSearch()),t.countSuggestClose()}},{key:"_showAdvancedSearch",value:function(){var e=this.props,t=e.searchService,r=e.searchStore,n=r.searchQuery;n.currentShowText&&n.currentShowText!==n.currentSearchText?this._onSubmit():t.shouldDisplayAdvancedSearch||r.setForceShowAdvancedSearch(!0),this._unfoldSuggest()}},{key:"_maybeRenderAdvancedSearchButton",value:function(){var e=this.props,t=e.searchService,r=e.searchStore;return!t.shouldDisplayAdvancedSearch||this.state.suggestState===A.b.UNFOLDED_ACTIVE&&r.suggestItems.length?K(T.a,{theme:"normal",view:"default",tone:"mail-suggest-themed",size:"n",cls:"search-input__advanced-button",icon:Object(N.hasFeature)(N.Features.WEB_GLOBALBAR_VERTICAL)?te:re,title:i18n("%Search_Advanced_Search"),onClick:this._showAdvancedSearch}):null}},{key:"_renderRocksSuggest",value:function(){var e=this,t=this.props,r=t.searchStore,n=t.toneActive,i=t.isCompact,o=t.selectItem,a=t.startSuggest,s=t.getItemShowText,l=t.searchService,u=t.placeholder;this._logShowDefaultSuggest();var c=!!Object(N.hasFeature)(N.Features.WEB_GLOBALBAR_VERTICAL)||l.hasUserBubbles;return d.a.createElement(k.a,{ref:function(t){e._suggest=t},suggestQuery:r.searchQuery.currentShowText,isNarrow:!0,isMobile:!1,isCompact:i,toneDefault:"mail-suggest-themed",toneActive:n,maxLength:j.d,clsActivator:"mail-GhostButton",runsInIE:F.default.isIE(),iconPosition:"right",bubbles:l.bubbles,onBubblesRemove:this._onBubblesRemove,placeholderDefault:u||J,placeholderCustom:u||J,suggestItems:r.suggestItems,keepExpanded:c,shouldNotDeactivateOnClose:r.searchQuery.isAdvancedDirty,renderItem:this._renderItem,showClose:!0,removeSearchBubbleTitle:Z,searchButtonText:Q,getShowText:s,getItemType:this._getItemType,handleItemSelect:o,shouldFoldOnEsc:this._shouldFoldOnEsc,startSuggest:a,onTextChange:this._changeQuery,onClearClick:this._onClearClick,onFoldedChanged:this._onFoldedChanged,onStateChanged:this._onSuggestStateChanged,onSubmit:this._onSubmit,onCloseClick:this._onCloseClick,onActiveChange:h.toggleVerticalScrollBar,onSearchFinish:this._onSearchFinish,advancedButton:this._maybeRenderAdvancedSearchButton(),cls:"js-a11y-suggest"})}},{key:"_logShowDefaultSuggest",value:function(){var e=this.props,t=e.searchStore,r=e.searchLogService;this._isSuggestVisible()&&t.searchQuery.isDefaultSuggest&&t.hasSuggestItems&&r.logSearchSuggest({suggestWithEmptyRequest:!0})}},{key:"_foldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!0,this._suggest.fold())}},{key:"_unfoldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!1,this._suggest.unfold())}},{key:"_updateSuggestWithA11y",value:function(){var e=document.querySelector(".js-a11y-suggest");if(e){e.querySelectorAll(".ufo-icon").forEach(function(e){e.setAttribute("aria-hidden","true")});var t=e.querySelector(".search-input__advanced-button");t&&t.setAttribute("aria-label",i18n("%Search_Advanced_Search"));var r=e.querySelector(".search-input__narrow-close-button");r&&r.setAttribute("aria-label",i18n("%Отменить"))}}},{key:"_onKeyDownA11y",value:function(e){var t=document.querySelector(".js-a11y-suggest");if(this._isSuggestVisible()&&t){var r=e.keyCode===L.a.TAB,n=t.querySelector(".search-input__form-button");r&&!this._suggest._inputFocused&&n===document.activeElement&&this._suggest._deactivate(X.SHORTCUT)}}},{key:"_onBubblesRemove",value:function(e){var t=this,r=this.props.searchService,n=this._suggest;r.removeBubbles(e),n&&n._inputRef&&setTimeout(function(){t.focusInput(),n._inputRef&&n._inputRef.setFocus("end")},0)}},{key:"render",value:function(){return K("div",{className:(0,this.props.getContainerClass)()},void 0,this._renderRocksSuggest(),ne)}}]),t}(),a.propTypes={searchStore:g.a.instanceOf(_.a).isRequired,routerStore:g.a.instanceOf(y.a).isRequired,foldersStore:g.a.instanceOf(S.a).isRequired,routerService:g.a.instanceOf(w.a).isRequired,searchService:g.a.instanceOf(M.b).isRequired,searchLogService:g.a.instanceOf(M.a).isRequired,settingsService:g.a.instanceOf(O.a).isRequired,queryLanguageService:g.a.instanceOf(x.a).isRequired,toneActive:g.a.string,placeholder:g.a.string,isCompact:g.a.bool.isRequired,getContainerClass:g.a.func.isRequired,getItemShowText:g.a.func.isRequired,startSuggest:g.a.func.isRequired,searchViaButton:g.a.func.isRequired,searchViaEnterPress:g.a.func.isRequired,selectItem:g.a.func.isRequired},o=Y((i=s).prototype,"_changeQuery",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=e.props.searchStore.searchQuery;r.currentSuggestText=t,r.currentShowText=t}}}),Y(i.prototype,"_onFoldedChanged",[p.action],Object.getOwnPropertyDescriptor(i.prototype,"_onFoldedChanged"),i.prototype),Y(i.prototype,"_onCloseClick",[p.action],Object.getOwnPropertyDescriptor(i.prototype,"_onCloseClick"),i.prototype),Y(i.prototype,"_foldSuggest",[p.action],Object.getOwnPropertyDescriptor(i.prototype,"_foldSuggest"),i.prototype),Y(i.prototype,"_unfoldSuggest",[p.action],Object.getOwnPropertyDescriptor(i.prototype,"_unfoldSuggest"),i.prototype),n=i))||n)||n;t.default=ie},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(668);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,r,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).call(this,function(){return e.searchQuery.paramsForSuggest},function(){n()&&r.startSuggest()}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(668),i=r(135),o=r.n(i);function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,r){var n=e.searchStore,i=e.routerStore,a=r.searchService;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this,function(){return n.searchQuery.getAutosearchParams()},function(){var e=!i.isMessagesListPage,t=i.isNavigatingToMessageInList,r=n.isFolded&&!n.forceShowAdvancedSearch,o=a.isSearchLocked;e||t||r||o||a.startSearch(n.searchQuery.currentShowText,{force:!0})},{equals:function(e,t){return o.a.isEqual(e,t)}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,n["a"]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(668);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,r,n){var i=e.routerStore,s=e.searchStore,l=r.searchService,u=r.settingsService,c=n.fold,d=n.unfold;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).call(this,function(){return{page:i.currentPage.page,params:i.currentPage.params}},function(){var e=i.isSearchResultsPage,t=i.isCollectorSearch();if(s.forceShowAdvancedSearch&&s.setForceShowAdvancedSearch(!1),!s.wasSearchRequestSimplified||!e&&!t){if(t)return c(),void s.searchQuery.reset();l.syncSearchQuery();var r=!u.isCompactHeaderMode||!i.currentPage.params.ids;s.searchQuery.currentShowText=r?s.searchQuery.currentSuggestText:"";var n=s.searchQuery.isAdvancedDirty||Boolean(s.searchQuery.currentSearchText);s.isFolded&&e&&n&&r?d():s.isFolded||e||c()}},{fireImmediately:!0}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,n["a"]),t}()},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",function(){return F});var n,i,o,a,s=r(134),l=r.n(s),u=r(322),c=r.n(u),d=r(327),f=r(773),g=r(553),p=r(725),m=(r.n(p),r(2)),h=(r.n(m),r(3682)),v=r(3685),b=r(3716),_=r(3717),y=r(3718),S=r(3719),w=r(3720),O=r(3721),x=r(3722),M=r(3723),P=r(3724),D=r(3725),E=(r.n(D),r(3726));r.n(E);function T(e){"@babel/helpers - typeof";return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var F=Object(d.inject)("settingsStore","searchService","searchLogService")(n=Object(d.observer)((o=i=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=k(this,(e=A(t)).call.apply(e,[this].concat(i))))._onClickRemove=function(){var e=r.props,t=e.item,n=e.searchService,i=e.searchLogService;n.removeSuggestItem(t),i.countSuggestAction("Delete history item"),i.logSuggestHistoryItemRemove()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,l.a.PureComponent),function(e,t,r){t&&C(e.prototype,t),r&&C(e,r)}(t,[{key:"_isAttach",value:function(){var e=this.props.item.data,t=e.scopes,r=void 0===t?[]:t,n=e.attachments,i=void 0===n?[]:n;return 1===r.length&&"attachment"===r[0]&&i.length>0}},{key:"render",value:function(){var e=this.props,t=e.item,r=e.settingsStore,n=e.onActionClick,i=t.data;switch(i.target){case"history":return j(h.a,{itemData:i,onRemove:this._onClickRemove});case"subject":return j(w.a,{itemData:i});case"ql":return j(O.a,{itemData:i});case"contact":return j(v.a,{itemData:i,onActionClick:n});case"mail":return this._isAttach()?j(_.a,{itemData:i,isBiggerText:r.isBiggerText}):j(b.a,{itemData:i});case"show-all-results":return j(S.a,{itemData:i});case"folder":return j(y.a,{itemData:i});case"label":return j(x.a,{itemData:i});case"important":return j(M.a,{itemData:i});case"unread":return j(P.a,{itemData:i});default:return Object(p.log)({type:m.ErrorType.Render,source:m.ErrorSource.Logic,sourceMethod:m.ErrorSourceMethod.Search,block:m.ErrorBlock.Search,method:"SearchSuggestRocksItem.render",message:"Unsupported target",additional:{target:i.target}}),null}}}]),t}(),i.propTypes={settingsStore:c.a.instanceOf(f.c).isRequired,searchService:c.a.instanceOf(g.b).isRequired,searchLogService:c.a.instanceOf(g.a).isRequired,item:c.a.object.isRequired,onActionClick:c.a.func},n=o))||n)||n},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(421),u=r(341),c=r(372);function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=i18n("%Search_Suggest_RemoveItemTitle"),b=h("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,h(u.default,{id:"mail--SearchSuggest-History_2",cls:"mail-IconContainer"})),_=h(u.default,{id:"mail--SearchSuggest-Close"}),y=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=g(this,(e=p(t)).call.apply(e,[this].concat(i)))).onRemoveClick=function(e){e.stopPropagation(),(0,r.props.onRemove)()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),function(e,t,r){t&&f(e.prototype,t),r&&f(e,r)}(t,[{key:"render",value:function(){var e=this.props.itemData;return h("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-History"},void 0,b,h("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,h(l.a,{htmlText:e.show_text_highlighted})),h(c.a,{theme:"clear",size:"m",cls:"mail-SuggestItem-Rocks-History-Remove",onClick:this.onRemoveClick,title:v,controlAttrs:{"aria-label":v}},void 0,_))}}]),t}();y.propTypes={itemData:s.a.object.isRequired,onRemove:s.a.func.isRequired},y.defaultProps={onRemove:function(){}}},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(324),l=r.n(s),u=r(3684);r.n(u);function c(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t=e.text,r=e.htmlText,n=e.cls,i=void 0===n?"":n;if(!t&&!r)return null;var o=l()(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({"mail-LimitLongText":!0},i,!0));return t?c("span",{className:o},void 0,t):c("span",{className:o,dangerouslySetInnerHTML:{__html:r}})};d.propTypes={text:a.a.string,htmlText:a.a.string,cls:a.a.string},t.a=d},function(e,t){},function(e,t,r){"use strict";var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(335),u=r(421),c=r(3686),d=r(1038),f=(r.n(d),r(324)),g=r.n(f),p=r(1062),m=(r.n(p),r(551)),h=(r.n(m),r(368)),v=r(362);r.n(v);function b(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=b("span",{className:"mail-SuggestItem-Rocks-Divider"},void 0,"•"),y=function(e){var t=e.itemData,r=e.onActionClick,n=Object(i.useMemo)(function(){var e=b(c.a,{email:t.email,name:t.display_name,className:"mail-IconContainer"});return b(d.AvatarTooltip,{contact:{email:t.email,name:t.display_name},avatar:e,onActionClick:r,scope:"inplace"})},[t]),a=Object(p.useThemes)().currentTheme,s=g()("mail-SuggestItem-Rocks-ExternalBadge",a===m.ThemeName.GeneralGrass?Object(h.cnTheme)(v.PS_LIGHT):null);return b("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Contact"},void 0,b("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,n),b("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,b("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,b(u.a,{htmlText:t.display_name_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Name"})),b("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,b(u.a,{htmlText:t.email_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Email"}),t.isExternal&&o.a.createElement(o.a.Fragment,null,_,b("div",{className:s},void 0,Object(l.default)("contact-card/externalContactShort"))))))};y.propTypes={itemData:s.a.object.isRequired,onActionClick:s.a.func},t.a=y},function(e,t,r){"use strict";var n=r(3687);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(719);function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&c(e.prototype,t),r&&c(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.cls,r=e.email,i={email:r,name:e.name||r,size:30,href:!1,mode:"MessageSnippet-Item_userpic"};return function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:t,dangerouslySetInnerHTML:{__html:Object(l.a)(i)}})}}]),t}();p.propTypes={email:s.a.string.isRequired,name:s.a.string,cls:s.a.string}},function(e,t,r){"use strict";var n,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=t.getSettingsObject=t.refreshPage=void 0;var l=r(134),u=r(396),c=r(513),d=r(480),f=r(971);function g(){return o(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return[4,d.goPage()];case 1:return e.sent(),f.customDispatchEvent(window,"resize"),[2]}})})}t.refreshPage=g;var p=((n={})[u.Settings.LAYOUT]=function(){return d.forceReload()},n[u.Settings.MINIFIED_HEADER]=g,n[u.Settings.MINIFIED_MAIL_LIST]=g,n[u.Settings.SHOW_FOLDERS_TABS]=g,n[u.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=g,n[u.Settings.DISABLE_INBOX_ATTACH]=g,n[u.Settings.TIMELINE_ENABLED]=function(){},n);function m(){var e,t;return(e={})[u.Settings.MINIFIED_MAIL_LIST]=c.getSign(u.Settings.MINIFIED_MAIL_LIST),e[u.Settings.MINIFIED_HEADER]=c.getSign(u.Settings.MINIFIED_HEADER),e[u.Settings.SHOW_FOLDERS_TABS]=c.getSign(u.Settings.SHOW_FOLDERS_TABS),e[u.Settings.WITH_BIGGER_TEXT]=c.getSign(u.Settings.WITH_BIGGER_TEXT),e[u.Settings.FOLDER_THREAD_VIEW]=c.getSign(u.Settings.FOLDER_THREAD_VIEW),e[u.Settings.DISABLE_INBOX_ATTACH]=c.getSign(u.Settings.DISABLE_INBOX_ATTACH),e[u.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=c.getSign(u.Settings.SHOW_SIDEBAR_WITH_WIDGETS),e[u.Settings.HIDE_EMPTY_FOLDERS]=c.getSign(u.Settings.HIDE_EMPTY_FOLDERS),e[u.Settings.TIMELINE_ENABLED]=c.getSign(u.Settings.TIMELINE_ENABLED),e[u.Settings.DISABLE_PROMO]=Boolean(c.getSetting(u.Settings.DISABLE_PROMO)),e[u.Settings.LAYOUT]=null!==(t=c.getSetting(u.Settings.LAYOUT))&&void 0!==t?t:u.LayoutTypes.Pane2,e[u.Settings.COLOR_SCHEME]=c.getSetting(u.Settings.COLOR_SCHEME),e[u.Settings.COLORFUL_THEME_SKIN]=c.getSetting(u.Settings.COLORFUL_THEME_SKIN),e[u.Settings.OVERRIDEN_THEME]=c.getSetting(u.Settings.OVERRIDEN_THEME),e[u.Settings.SEASONS_MODIFIER]=c.getSetting(u.Settings.SEASONS_MODIFIER),e[u.Settings.SELECTED_SCOPE]=c.getSetting(u.Settings.SELECTED_SCOPE),e[u.Settings.GEO_ID]=c.getSetting(u.Settings.GEO_ID),e[u.Settings.MAIL_INBOXGPT_ENABLED]=Boolean(c.getSetting(u.Settings.MAIL_INBOXGPT_ENABLED)),e}t.getSettingsObject=m;var h=[u.Settings.MINIFIED_MAIL_LIST,u.Settings.MINIFIED_HEADER,u.Settings.SHOW_FOLDERS_TABS,u.Settings.WITH_BIGGER_TEXT,u.Settings.FOLDER_THREAD_VIEW,u.Settings.DISABLE_INBOX_ATTACH,u.Settings.SHOW_SIDEBAR_WITH_WIDGETS,u.Settings.HIDE_EMPTY_FOLDERS,u.Settings.TIMELINE_ENABLED];t.useSettings=function(){var e=this,t=s(l.useState(m()),2),r=t[0],n=t[1],u=l.useCallback(function(e){return h.includes(e)},[]),d=l.useCallback(function(){return n(i({},m()))},[]),f=l.useCallback(function(t,r){return o(e,void 0,void 0,function(){var e,n;return a(this,function(i){return(e=Object.keys(t)).length&&(e.forEach(function(e){var r=e;u(r)&&(t[r]=c.signToSetting(r,t[r]))}),n=c.setSettings(t,r),e.forEach(function(e){e in p&&n.then(p[e])})),[2]})})},[u]);return l.useEffect(function(){return c.registerChangeSettingsHandler(d),function(){return c.unregisterChangeSettingsHandler(d)}},[d]),{settings:r,setSettings:f}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemes=t.GENERAL_THEMES=t.GENERAL_THEMES_SELECTORS=void 0;var s=r(134),l=r(551),u=r(333),c=r(1050),d=a(r(3690)),f=r(552),g=r(412),p=r(1465),m=r(692),h=r(1051),v=r(675),b=function(){return u.logMetric([g.YANDEX_HEADER_PREFIX,g.HEADER_METRIKA_RIGHT,g.HEADER_METRIKA_SETTINGS,g.HEADER_METRIKA_CHANGE_THEME])},_=function(e){return u.logMetric([g.YANDEX_HEADER_PREFIX,g.HEADER_METRIKA_RIGHT,g.HEADER_METRIKA_SETTINGS,g.HEADER_METRIKA_TOGGLE_VIDEO_BG,e?g.STATE_ON:g.STATE_OFF])},y=function(e){return function(t){return t?{isGeneral:e,isDark:Boolean(t.page_is_dark&&t.content_is_dark&&t.aside_is_dark),name:t.name,isDefault:e&&t.name===l.ThemeName.GeneralDefault}:{isGeneral:e,isDark:!1,name:l.ThemeName.GeneralDefault,isDefault:!1}}};t.GENERAL_THEMES_SELECTORS=[{theme:l.ThemeName.GeneralDefault,displayed:!0},{theme:l.ThemeName.GeneralNewYear2024,displayed:h.isThemeAvailable(l.ThemeName.GeneralNewYear2024,new Date(u.promoNow()))},{theme:l.ThemeName.GeneralFlow,displayed:!0},{theme:l.ThemeName.GeneralDarkflow,displayed:!0},{theme:l.ThemeName.GeneralGrass,displayed:!0}],t.GENERAL_THEMES=t.GENERAL_THEMES_SELECTORS.filter(function(e){return e.displayed}).map(function(e){return e.theme}),t.useThemes=function(){var e=this,r=m.ThemesStore.instance(),a=f.getThemesService(),l=d.default.Instance(),g=r.themesData,h=s.useMemo(function(){return t.GENERAL_THEMES.map(function(e){return r.generalThemes.find(function(t){return t.name===e})}).filter(v.isDefined).map(y(!0))},[r.generalThemes]),S=s.useMemo(function(){return r.orderedThemes.filter(function(e){return"u2709"!==e.name}).map(y(!1))},[r.orderedThemes]),w=r.currentTheme,O=r.isContentDark,x=o(s.useState(w),2),M=x[0],P=x[1],D=o(s.useState(a.isVideoBgEnabled),2),E=D[0],T=D[1];s.useEffect(function(){P(w)},[w]);var C=s.useCallback(function(t){return n(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t!==p.WeatherThemeName?[3,2]:(P(t),[4,l.waitForData()]);case 1:e.sent(),e.label=2;case 2:return[4,a.setTheme(t)];case 3:return e.sent(),b(),[2]}})})},[l,a]),k=s.useCallback(function(e){a.setScope(e),b()},[a]),A=s.useCallback(function(){var e=!a.isVideoBgEnabled;_(e),T(e),a.isVideoBgEnabled?a.disableVideoBg():a.enableVideoBg()},[a,T]);return{themes:g,generalThemes:h,orderedThemes:S,currentTheme:M,currentThemeProps:y(!1)(g[M]),setTheme:C,setScope:k,getThemeThumbnail:c.getThemeThumbnail,autocompleter:u.getRegionAutocompleter(),themeWeatherStore:l,isDark:O,isVideoBgEnabled:E,toggleVideoBg:A,preloadTheme:c.runTheme}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(325),s=o(r(373)),l=r(135),u=r(1050),c=function(e){function t(){var t=e.call(this)||this;return t.weatherData=null,t._addModelSubscription("theme-weather",{},{onChanged:function(e){var r;t.weatherData=null!==(r=e.weather)&&void 0!==r?r:null},onDestroyed:function(){t.weatherData=null}}),t}return n(t,e),Object.defineProperty(t.prototype,"weather",{get:function(){return this.weatherData},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){var e;return this.loadPromise||((null===(e=this.weatherData)||void 0===e?void 0:e.city)||this.error?this.loadPromise=Promise.resolve():this.loadPromise=this.getWeather()),this.loadPromise},Object.defineProperty(t.prototype,"error",{get:function(){return u.getThemeWeather().getWeatherError()},enumerable:!1,configurable:!0}),t.prototype.getWeather=function(){return u.getThemeWeather().getWeather()},t.Instance=l.memoize(function(){return new t}),i([a.observable],t.prototype,"weatherData",void 0),i([a.computed],t.prototype,"weather",null),t}(s.default);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_OFF=t.STATE_ON=t.PROMO_BEAUTIFUL_EMAIL=t.FREE_USER=t.PAID_USER=t.PREMIUM_USER=t.ONBOARDING_BEAUTIFUL_EMAIL_METRIKA=t.OPT_IN_SUBSCRIPTIONS_METRIKA=t.BUY_PRO_BUTTON=t.HEADER_METRIKA_LOGO_360=t.HEADER_METRIKA_LOGO_SERVICE=t.HEADER_METRIKA_LOGO_BASE=t.HEADER_METRIKA_LOGO=t.SHOW=t.CLICK=t.HEADER_METRIKA_USER_MENU_SWITCH_USER=t.HEADER_METRIKA_USER_MENU=t.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER=t.HEADER_METRIKA_USER_MESSAGES_COUNT=t.HEADER_METRIKA_USER_NO_MESSAGES=t.HEADER_METRIKA_USER_HAS_MESSAGES=t.HEADER_METRIKA_USER_POPUP=t.HEADER_METRIKA_TOGGLE_VIDEO_BG=t.HEADER_METRIKA_CHANGE_THEME=t.HEADER_METRIKA_HIDE_ALL_THEMES=t.HEADER_METRIKA_SHOW_ALL_THEMES=t.HEADER_METRIKA_CHANGE_LAYOUT=t.HEADER_METRIKA_MAIN_SETTING=t.HEADER_METRIKA_SETTINGS_ALL=t.HEADER_METRIKA_SETTINGS_OPEN=t.HEADER_METRIKA_SETTINGS=t.HEADER_METRIKA_NAV_NAMES=t.HEADER_METRIKA_EXTRA_NAMES=t.HEADER_METRIKA_SIMPLE_SERVICES=t.HEADER_METRIKA_SERVICES=t.HEADER_METRIKA_RIGHT=t.HEADER_METRIKA_LEFT=t.YANDEX_HEADER_PREFIX=void 0,t.YANDEX_HEADER_PREFIX="Yandex header PRO",t.HEADER_METRIKA_LEFT="Login header.Left part",t.HEADER_METRIKA_RIGHT="Login header.Right part",t.HEADER_METRIKA_SERVICES="Portal navigation/Services",t.HEADER_METRIKA_SIMPLE_SERVICES="Services",t.HEADER_METRIKA_EXTRA_NAMES={all:"All services",calendar:"Calendar",disk:"Disk",mail:"Mail PRO",notes:"Notes",concept:"Concept",telemost:"Telemost",staff:"Staff"},t.HEADER_METRIKA_NAV_NAMES={inbox:"Inbox",contacts:"Contacts"},t.HEADER_METRIKA_SETTINGS="Settings",t.HEADER_METRIKA_SETTINGS_OPEN="Opening settings popup",t.HEADER_METRIKA_SETTINGS_ALL="Click on 'All settings'",t.HEADER_METRIKA_MAIN_SETTING="Click on one of main settings",t.HEADER_METRIKA_CHANGE_LAYOUT="Change layout",t.HEADER_METRIKA_SHOW_ALL_THEMES="Show all themes",t.HEADER_METRIKA_HIDE_ALL_THEMES="Hide all themes",t.HEADER_METRIKA_CHANGE_THEME="Change theme",t.HEADER_METRIKA_TOGGLE_VIDEO_BG="Video background",t.HEADER_METRIKA_USER_POPUP="Menu behind login",t.HEADER_METRIKA_USER_HAS_MESSAGES="Has new messages",t.HEADER_METRIKA_USER_NO_MESSAGES="No new messages",t.HEADER_METRIKA_USER_MESSAGES_COUNT="Messages count",t.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER=" messages",t.HEADER_METRIKA_USER_MENU={"add-account":"Add user",passport:"Account settings","change-password":"Change password","footer-help":"Help and feedback",exit:"Sign out of Yandex services",homepage:"Yandex home page",plus:"Yandex Plus",staff:"Staff",hiring:"Hiring"},t.HEADER_METRIKA_USER_MENU_SWITCH_USER="Switch user",t.CLICK="Click",t.SHOW="Show",t.HEADER_METRIKA_LOGO="Logo",t.HEADER_METRIKA_LOGO_BASE='Click on "Yandex"',t.HEADER_METRIKA_LOGO_SERVICE='Click on "Mail"',t.HEADER_METRIKA_LOGO_360='Click on "360"',t.BUY_PRO_BUTTON="Buy PRO button",t.OPT_IN_SUBSCRIPTIONS_METRIKA="Opt-in subscriptions",t.ONBOARDING_BEAUTIFUL_EMAIL_METRIKA="Onboarding beautiful email",t.PREMIUM_USER="premium user",t.PAID_USER="paid user",t.FREE_USER="free user",t.PROMO_BEAUTIFUL_EMAIL="Promo Beautiful Email",t.STATE_ON="on",t.STATE_OFF="off"},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeContainer=void 0;var i=n(r(134)),o=n(r(324)),a=r(369),s=n(r(3696)),l=n(r(3697));t.ThemeScopeContainer=function(e){var t,r,n=e.selectedIndex,u=e.isVisible,c=e.children,d=a.useThemesContext(),f=d.currentTheme,g=d.isDark;return i.default.createElement("div",{className:o.default(l.default.container,(t={},t[l.default.isVisible]=u,t[l.default.dark]=g,t))},i.default.createElement(s.default,{"aria-hidden":!0,className:o.default(l.default.selected,(r={},r[l.default.weather]="weather"===f&&3!==n,r[l.default.one]=0===n,r[l.default.two]=1===n,r[l.default.three]=2===n,r[l.default.four]=3===n,r))}),i.default.createElement("div",{className:o.default(l.default.content)},c))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsContext=t.SettingsContext=void 0;var a=o(r(134));t.SettingsContext=a.default.createContext({});t.useSettingsContext=function(){return a.useContext(t.SettingsContext)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemesContext=t.ThemesContext=void 0;var a=o(r(134));t.ThemesContext=a.default.createContext({});t.useThemesContext=function(){return a.useContext(t.ThemesContext)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromoContext=t.PromoContext=t.PromoType=void 0;var a=o(r(134)),s=r(135);!function(e){e.BEAUTIFUL_EMAIL="setup-beautiful-email",e.SUBSCRIPTIONS="setup-unsubscribe-filters"}(t.PromoType||(t.PromoType={})),t.PromoContext=a.default.createContext({beautifulEmail:"",openSubscribesSettings:s.noop,optinEnabled:!1,promos:{},markPromoViewed:s.noop});t.usePromoContext=function(){return a.useContext(t.PromoContext)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("defs",{},void 0,a("linearGradient",{id:"tail_x_svg__a",x1:0,x2:1},void 0,a("stop",{offset:"0%",stopColor:"var(--tooltip-tail-bg-start-color)"}),a("stop",{offset:"100%",stopColor:"var(--tooltip-tail-bg-end-color)"}))),l=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0C8 0 5.5 7 0 7h22c-5.5 0-8-7-11-7z",fill:"url(#tail_x_svg__a)"});t.default=function(e){return i.createElement("svg",o({width:22,height:7,viewBox:"0 0 22 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l)}},function(e,t){e.exports={container:"ThemeScopeContainer__container--2dj8n",isVisible:"ThemeScopeContainer__isVisible--3snJG",content:"ThemeScopeContainer__content--37bOp",selected:"ThemeScopeContainer__selected--1dq4i",one:"ThemeScopeContainer__one--1Fi4r",two:"ThemeScopeContainer__two--SinFt",three:"ThemeScopeContainer__three--3hil6",four:"ThemeScopeContainer__four--yvhYZ",weather:"ThemeScopeContainer__weather--UeFqB"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeColorful=t.ColorfulThemeName=void 0;var s=o(r(134)),l=a(r(324)),u=r(396),c=r(369),d=a(r(3699)),f=a(r(3700));t.ColorfulThemeName="colorful";t.ThemeScopeColorful=function(){var e=c.useThemesContext(),r=e.themes,n=e.setScope,i=c.useSettingsContext().settings,o=s.useMemo(function(){return Object.keys(r[t.ColorfulThemeName].skins.scopes||{})},[r]),a=s.useCallback(function(e){n(e)},[n]),g=s.useCallback(function(e){return i[u.Settings.COLORFUL_THEME_SKIN]===e},[i]);return s.default.createElement("div",{className:d.default.container,role:"radiogroup"},o.map(function(e){var t,r=g(e);return s.default.createElement("div",{key:e,className:l.default(d.default.item,d.default[e],(t={},t[d.default.checked]=r,t)),onClick:function(){return a(e)},role:"radio","aria-checked":r,"aria-label":e,tabIndex:0,"data-testid":"theme-scope-colorful_item"},g(e)&&s.default.createElement("div",{className:d.default.check},s.default.createElement(f.default,null)))}))}},function(e,t){e.exports={container:"ThemeScopeColorful__container--1pvdM",item:"ThemeScopeColorful__item--2tTyW",checked:"ThemeScopeColorful__checked--9SV3Z",check:"ThemeScopeColorful__check--ve9wv",blue:"ThemeScopeColorful__blue--1G6SM",lightblue:"ThemeScopeColorful__lightblue--3xcWQ",green:"ThemeScopeColorful__green--pkLMO",grass_green:"ThemeScopeColorful__grass_green--3tPcD",turquoise:"ThemeScopeColorful__turquoise--2alqd",yellow:"ThemeScopeColorful__yellow--I_Cft",orange:"ThemeScopeColorful__orange--1t4QB",red:"ThemeScopeColorful__red--2IacW",pink:"ThemeScopeColorful__pink--33nxF",violet:"ThemeScopeColorful__violet--GaiTE",white:"ThemeScopeColorful__white--3_Spx",gray:"ThemeScopeColorful__gray--2o8MM",black:"ThemeScopeColorful__black--1pn9E","sea-wave":"ThemeScopeColorful__sea-wave--OnJaT","pink-navy-sand":"ThemeScopeColorful__pink-navy-sand--2RfwO","plum-navy":"ThemeScopeColorful__plum-navy--3AgNH","teal-orange":"ThemeScopeColorful__teal-orange--3LkwW","terra-salad":"ThemeScopeColorful__terra-salad--QRM3a"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{d:"M6.442 11.538l-2.699-3.11a1 1 0 00-1.486 1.338l3.5 4a1 1 0 001.534-.057l6.5-9a1 1 0 10-1.582-1.223l-5.767 8.052z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeWeather=t.WeatherThemeName=void 0;var l=o(r(134)),u=r(174),c=r(327),d=r(396),f=r(137),g=r(369),p=s(r(3702));t.WeatherThemeName="weather";var m=function(e){var t=e.weather,r=g.useThemesContext(),n=r.autocompleter,i=r.themeWeatherStore,o=g.useSettingsContext().setSettings,s=a(l.useState(""),2),c=s[0],m=s[1],h=l.useRef(null),v=l.useCallback(function(e){return m(e.target.value)},[m]);l.useEffect(function(){m(t.city||"")},[t.city]);var b=l.useCallback(function(){if(h.current){var e=h.current;e.style.padding="0 8px",n.bindField({field:e,focus:1}),n.setOptions({width:320}),n.sections[0].onselect=function(){return e.blur()},n.sections[0].onresult=function(t){var r;e.value=t.name_short,o(((r={})[d.Settings.GEO_ID]=t.geoid,r)),i.getWeather()}}},[n,o,i]),_=l.useCallback(function(){m(t.city||"")},[t.city]),y=l.useMemo(function(){var e=t.now.temperature;return(e>0?"+":"")+e+"°"},[t.now.temperature]),S=l.useMemo(function(){return t.now.image},[t.now.image]);return l.default.createElement("div",{className:p.default.container},l.default.createElement("div",{className:p.default.control},l.default.createElement(u.Textinput,{className:p.default.input,value:c,controlRef:h,onInput:v,view:"default",size:"s",inputMode:"text",type:"text",maxLength:70,onFocus:b,onBlur:_}),l.default.createElement(f.Text,{typography:"subheader-xl",weight:"medium",color:"inverse"},y),S&&l.default.createElement("img",{className:p.default.forecastIcon,"aria-hidden":"true",src:S,alt:""})))};t.ThemeScopeWeather=c.observer(function(){var e,t=g.useThemesContext().themeWeatherStore;return(null===(e=t.weather)||void 0===e?void 0:e.city)?l.default.createElement(m,{weather:t.weather}):null})},function(e,t){e.exports={container:"ThemeScopeWeather__container--70_fY",control:"ThemeScopeWeather__control--1iZQJ",input:"ThemeScopeWeather__input--3Yo4c",forecastIcon:"ThemeScopeWeather__forecastIcon--uzlvs"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeSeasons=t.SeasonsThemeName=void 0;var s=o(r(134)),l=r(396),u=a(r(341)),c=a(r(331)),d=r(369),f=r(674),g=r(1466),p=a(r(335)),m=a(r(3706)),h=a(r(3707));t.SeasonsThemeName="seasons";t.ThemeScopeSeasons=function(){var e=d.useThemesContext(),r=e.themes,n=e.setScope,i=d.useSettingsContext().settings,o=s.useMemo(function(){return r[t.SeasonsThemeName].skins.scopes||{}},[r]),a=s.useMemo(function(){return Object.keys(o)},[o]),v=s.useCallback(function(e){n(e)},[n]),b=s.useCallback(function(e){return!i[l.Settings.SELECTED_SCOPE]&&""===e||i[l.Settings.SELECTED_SCOPE]===e},[i]);return s.default.createElement("div",{className:h.default.container,role:"radiogroup"},a.map(function(e){return s.default.createElement(g.ThemeScopeItem,{key:e,selected:b(e),onClick:function(){return v(e)},icon:s.default.createElement(u.default,{id:"mail--Themes-Seasons_"+e}),label:s.default.createElement(c.default,{loc:f.SEASONS_LOCALES[e]}),"aria-label":p.default(f.SEASONS_LOCALES[e]),role:"radio",tabIndex:0,"aria-checked":b(e)})}),s.default.createElement(g.ThemeScopeItem,{selected:b(""),onClick:function(){return v("")},icon:s.default.createElement(m.default,null),label:s.default.createElement(c.default,{loc:"settings-popup-react/seasonsChange"}),"aria-label":p.default("settings-popup-react/seasonsChange"),role:"radio",className:"qa-ThemeScope-SeasonsChange",tabIndex:0,"aria-checked":b("")}))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var a=o(r(134)),s=o(r(324)),l=r(137),u=o(r(3705));t.ThemeScopeItem=function(e){var t,r=e.className,o=e.selected,c=e.icon,d=e.label,f=i(e,["className","selected","icon","label"]);return a.default.createElement(l.Text,n({className:s.default(u.default.item,(t={},t[u.default.selected]=o,t),r),color:"secondary",typography:"caption-m"},f),c,a.default.createElement("div",{className:u.default.label},d))}},function(e,t){e.exports={item:"ThemeScopeItem__item--zf-1A",selected:"ThemeScopeItem__selected--1dOte",label:"ThemeScopeItem__label--32iEr"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.3 2a1 1 0 00-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 00-.945.945c-.218.407-.334.811-.334 1.926v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.115 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 00-.945-.945c-.381-.204-.76-.319-1.721-.333V3a1 1 0 10-2 0v1h-8V3a1 1 0 00-1-1zm-2 6v9.675c0 .469.019.763.049.933a.413.413 0 00.049.148.29.29 0 00.124.137c.06.035.073.04.134.053.155.033.422.054.849.054H18.09c.426 0 .694-.02.849-.054a.332.332 0 00.134-.053.29.29 0 00.124-.137.413.413 0 00.049-.148c.03-.17.049-.464.049-.933L19.3 8h-14zm1 2.75a.75.75 0 01.75-.75h10.5a.75.75 0 01.75.75v.5a.75.75 0 01-.75.75H7.05a.75.75 0 01-.75-.75v-.5z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={container:"ThemeScopeSeasons__container--29oJh"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.useDarkThemes=void 0;var s=o(r(134)),l=a(r(331)),u=r(369),c=r(674),d=r(1466),f=a(r(3709)),g=a(r(3710)),p=a(r(3711)),m=a(r(3712)),h=a(r(335)),v=function(e){switch(e.scope){case"lamp":return s.default.createElement(f.default,null);case"cosmos":return s.default.createElement(g.default,null);case"zverushki":return s.default.createElement(p.default,null);default:return null}};function b(){var e=u.useThemesContext().orderedThemes;return s.useMemo(function(){return e.filter(function(e){return e.isDark})},[e])}t.useDarkThemes=b;t.ThemeScopeDark=function(){var e=u.useThemesContext(),t=e.setTheme,r=e.currentTheme,n=e.preloadTheme,i=b(),o=s.useCallback(function(e){t(e)},[t]);return s.default.createElement("div",{className:m.default.container,role:"radiogroup"},i.map(function(e){return s.default.createElement(d.ThemeScopeItem,{key:e.name,selected:r===e.name,onClick:function(){return o(e.name)},icon:s.default.createElement(v,{scope:e.name}),label:s.default.createElement(l.default,{loc:c.THEME_LOCALES[e.name]}),onMouseEnter:function(){return n(e.name)},"aria-label":h.default(c.THEME_LOCALES[e.name]),role:"radio",tabIndex:0,"aria-checked":r===e.name})}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.07 17.898c2.437 3.059 7.033 4.626 10.867 3.595 5.282-1.42 8.418-6.857 7.005-12.145-1.026-3.84-4.68-7.041-8.544-7.624a.992.992 0 00-1.02 1.45c1.868 3.48 2.02 6.456.526 9.047-1.495 2.592-4.146 3.948-8.09 4.067a.992.992 0 00-.745 1.61zm15.96-8.036c1.13 4.23-1.38 8.58-5.604 9.717-2.41.647-5.68.004-7.74-1.497 3.438-.551 6.384-2.185 7.932-4.87 1.549-2.684 1.482-6.049.24-9.306 2.328 1.036 4.527 3.543 5.172 5.956z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("circle",{cx:12.5,cy:12,r:8,stroke:"currentColor",strokeWidth:2}),l=a("path",{d:"M18.106 5.283c2.568-.636 4.489-.512 5.083.518 1.106 1.914-2.79 6.233-8.701 9.645C8.577 18.86 2.889 20.074 1.784 18.16c-.671-1.163.365-2.965 2.714-5.16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19a.5.5 0 00-.5.5v.5H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V21h.5a.5.5 0 000-1h-.5v-.5a.5.5 0 00-.5-.5zM10 9a.5.5 0 00-.5.5v.5H9a.5.5 0 000 1h.5v.5a.5.5 0 001 0V11h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0010 9zM17.497 1a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336v-.333A.333.333 0 0017.497 1zM4.497 22a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H4.83v-.333A.333.333 0 004.497 22z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("path",{d:"M12.5 9c.333-.834 1.4-2.7 3-3.5 1-.5 1.5 4.5 0 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),l=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 1a.5.5 0 00-.5.5V2H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V3h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0021 1zM16.497 0a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336V.333A.333.333 0 0016.497 0zM1.497 4a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H1.83v-.333A.333.333 0 001.497 4z",fill:"currentColor"}),u=a("path",{d:"M8 1l3.5 6.5s1.5 0 1.5-1C13 6.444 8 1 8 1z",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"}),c=a("path",{d:"M12.5 9C12 11.334 5 15.5 2 9c1-.333 3.277-.207 5-1.5 2-1.5 4-1 4-1M10.529 14.152c.43.082 1.408.017 1.88-.897M6 13c-.5.667-1.8 2.3-3 3.5-1.5 1.5 1.5 4 4.5 3 1.5-.5 2-1 2-1 1.334.667 4.4 1.3 6-1.5.4 0 1.167 4 1.5 6M17.5 10.5c1 .333 3.5 2.5 5.5 8.5M17.5 7c2.5.5 5.5 2 6.5 5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c)}},function(e,t){e.exports={container:"ThemeScopeDark__container--3YwUu"}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromo=void 0;var i=r(134),o=r(333),a=r(405),s=r(1458),l=r(369),u=r(3714),c=r(370),d=r(552),f=r(378);function g(e){return e.substring(0,u.MAX_SETTING_NAME_LENGTH-2)+"_s"}t.usePromo=function(){var e,t=c.getSettingsStore(),r=a.BeautifulEmailStore.instance(),u=o.isCorp()?null:s.SubscriptionCountersStore.instance(),p=d.getSettingsService();i.useEffect(function(){null===u||void 0===u||u.waitForData()},[u]);var m=i.useCallback(function(e){return o.emitUnsubscribePopupShow(e)},[]),h=i.useMemo(function(){return function(e){var t=[];return t.push(l.PromoType.SUBSCRIPTIONS),f.isAvailable()&&!o.isPDD()&&t.push(l.PromoType.BEAUTIFUL_EMAIL),t.reduce(function(t,r){var i;return n(n({},t),((i={})[r]={isNew:!e.isSet(g(r))},i))},{})}(t)},[t]),v=i.useCallback(function(e){var t;return p.setSettings(((t={})[g(e)]="on",t))},[p]);return{beautifulEmail:r.email,optinEnabled:null!==(e=null===u||void 0===u?void 0:u.optinEnabled)&&void 0!==e&&e,subscriptionCounters:null===u||void 0===u?void 0:u.counters,openSubscribesSettings:m,promos:h,markPromoViewed:v}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_SETTING_NAME_LENGTH=void 0,t.MAX_SETTING_NAME_LENGTH=30},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=void 0;var i=r(134),o=r(370);t.useSettingsPopupStore=function(){var e=o.getMailSettingsPopupStore(),t=n(i.useState(e.visible),2),r=t[0],a=t[1],s=n(i.useState(e.showAllThemes),2),l=s[0],u=s[1];return i.useEffect(function(){a(e.visible),u(e.showAllThemes)},[e.visible,e.showAllThemes]),{isPopupVisible:r,setPopupVisible:i.useCallback(function(t){e.toggle(t)},[e]),isAllThemesVisible:l,setAllThemesVisible:i.useCallback(function(t){e.toggleAllThemes(t)},[e])}}},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421),l=r(341),u=r(397);function c(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=c("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,c(l.default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),f=function(e){var t=e.itemData;return c("div",{className:"mail-SuggestItem-Rocks"},void 0,d,c("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,c("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,c(s.a,{htmlText:t.display_name_highlighted||t.display_name,cls:"mail-SuggestItem-Rocks-Mail-From"}),c("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(u.getMessagesListDate)(t.received_date))),c("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,c(s.a,{htmlText:t.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Mail-Subject"}))))};f.propTypes={itemData:a.a.object.isRequired},t.a=f},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(397),u=r(1029),c=r(341),d=r(421);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b={normalText:{font:"13px Arial, sans-serif",width:180},bigText:{font:"15px Arial, sans-serif",width:210}},_=v("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,v(c.default,{id:"mail--SearchSuggest-Attach",cls:"mail-IconContainer"})),y=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=p(this,(e=m(t)).call.apply(e,[this].concat(i))))._renderAttach=function(e){var t=r.props.isBiggerText?b.bigText:b.normalText,n=e.fileext&&"."===e.fileext[0]?e.fileext.substr(1):e.fileext;return v("li",{className:"mail-SuggestItem-Rocks-Attach-FilesItem mail-File_type_".concat(n),tabIndex:"0"},e.hid,v("span",{className:"mail-SuggestItem-Rocks-Attach-Extension mail-File-Extension"},void 0,n),v(u.default,{text:e.filename,className:"mail-SuggestItem-Rocks-Attach-FileName",font:t.font,width:t.width}))},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(t,[{key:"_maybeRenderMoreAttachesButton",value:function(e){return e.length<3?null:v("li",{className:"mail-SuggestItem-Rocks-Attach-Total"},void 0,i18n("%Search_Suggest_TotalAttaches",e.length))}},{key:"render",value:function(){var e=this.props.itemData;return v("div",{className:"mail-SuggestItem-Rocks"},void 0,_,v("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,v("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,v(d.a,{htmlText:e.display_name_highlighted||e.display_name,cls:"mail-SuggestItem-Rocks-Attach-From"}),v(d.a,{htmlText:e.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Attach-Subject"}),v("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(l.getMessagesListDate)(e.received_date))),v("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,v("ul",{className:"mail-SuggestItem-Rocks-Attach-Files"},void 0,e.attachments.slice(0,2).map(this._renderAttach),this._maybeRenderMoreAttachesButton(e.attachments)))))}}]),t}();y.propTypes={isBiggerText:s.a.bool.isRequired,itemData:s.a.object.isRequired}},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421);function l(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=l("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,l(r(341).default,{id:"mail--SearchSuggest-Folder",cls:"mail-IconContainer"})),c=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem-Rocks"},void 0,u,l("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,l(s.a,{htmlText:t.show_text_highlighted})))};c.propTypes={itemData:a.a.object.isRequired},t.a=c},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421),l=r(341),u=r(135),c=r.n(u);function d(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=d("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,d(l.default,{id:"mail--Header-Search",cls:"mail-IconContainer"}));function g(e){var t=e.itemData;return d("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-AllResults"},void 0,f,d("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,d(s.a,{htmlText:i18n("%Search_Suggest_ShowAllResults",'<span class="mail-SuggestItem-Rocks__search-term">'.concat(c.a.escape(t.search_text),"</span>"))})))}g.propTypes={itemData:a.a.object.isRequired},t.a=g},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421);function l(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=l("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,l(r(341).default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),c=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Subject"},void 0,u,l("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,l(s.a,{htmlText:t.show_text_highlighted})))};t.a=c,c.propTypes={itemData:a.a.object.isRequired}},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421);function l(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=l(r(341).default,{id:"mail--SearchSuggest-Ql",cls:"mail-IconContainer"}),c=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,u,l(s.a,{htmlText:t.show_text_highlighted||t.show_text}))};c.propTypes={itemData:a.a.object.isRequired},t.a=c},function(e,t,r){"use strict";r.d(t,"a",function(){return M});var n,i,o,a,s=r(134),l=r.n(s),u=r(322),c=r.n(u),d=r(723),f=(r.n(d),r(421)),g=r(341),p=r(327),m=r(771),h=r(725),v=(r.n(h),r(741)),b=r(2);r.n(b);function _(e){"@babel/helpers - typeof";return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=Object(p.inject)("labelsStore")(n=Object(p.observer)((o=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,w(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,l.a.PureComponent),function(e,t,r){t&&y(e.prototype,t),r&&y(e,r)}(t,[{key:"_getLabelColor",value:function(){var e=this.props,t=e.labelsStore,r=e.itemData,n=t.getLabelById(r.lid);return n?Object(d.getLabelColors)(n.data.color).background:(Object(h.log)({type:b.ErrorType.Render,source:b.ErrorSource.Logic,sourceMethod:b.ErrorSourceMethod.Search,block:b.ErrorBlock.Search,method:"_getLabelColor",message:"Search suggest unknown label",lid:r.lid}),v.e)}},{key:"render",value:function(){var e=this.props.itemData;return x("div",{className:"mail-SuggestItem"},void 0,x(g.default,{id:"mail--SearchSuggest-Label",color:this._getLabelColor(),cls:"mail-IconContainer"}),x(f.a,{htmlText:e.show_text_highlighted}))}}]),t}(),i.propTypes={labelsStore:c.a.instanceOf(m.a).isRequired,itemData:c.a.object.isRequired},n=o))||n)||n},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421);function l(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=l(r(341).default,{id:"mail--SearchSuggest-Important",cls:"mail-IconContainer"}),c=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,u,l(s.a,{htmlText:t.show_text_highlighted}))};c.propTypes={itemData:a.a.object.isRequired},t.a=c},function(e,t,r){"use strict";var n,i=r(134),o=(r.n(i),r(322)),a=r.n(o),s=r(421);function l(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=l(r(341).default,{id:"mail--SearchSuggest-Unread",cls:"mail-IconContainer"}),c=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,u,l(s.a,{htmlText:t.show_text_highlighted}))};c.propTypes={itemData:a.a.object.isRequired},t.a=c},function(e,t){},function(e,t){},,function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,i=r(134),o=(r.n(i),r(555));function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{fill:"currentColor",d:"M5.752 8.002q.224.003.42.016c.286.02.625.065.976.21a3 3 0 0 1 1.623 1.624c.146.35.192.69.211.975q.014.198.016.423H16v1.5H8.998q-.003.226-.016.423c-.02.285-.065.624-.21.975a3 3 0 0 1-1.624 1.624c-.35.145-.69.19-.975.21C5.912 16 5.605 16 5.29 16h-.58c-.315 0-.622 0-.883-.018a3 3 0 0 1-.975-.21 3 3 0 0 1-1.623-1.624 3 3 0 0 1-.211-.975l-.016-.423H0v-1.5h1.002q.003-.226.016-.423c.02-.285.065-.624.21-.975a3 3 0 0 1 1.624-1.623c.35-.146.69-.192.975-.211C4.088 8 4.395 8 4.71 8h.58zM4.75 9.5c-.612 0-.956 0-1.217.076q-.056.017-.107.038a1.5 1.5 0 0 0-.812.812c-.083.2-.106.44-.112.824q-.002.215-.002.499v.502q0 .284.002.499c.006.384.03.624.112.824a1.5 1.5 0 0 0 .92.85c.26.076.604.076 1.216.076h.5c.699 0 1.049 0 1.324-.114a1.5 1.5 0 0 0 .812-.812c.083-.2.106-.44.112-.824q.002-.216.002-.5v-.5q0-.284-.002-.5c-.005-.336-.024-.562-.084-.747l-.028-.077a1.5 1.5 0 0 0-.812-.812c-.194-.08-.424-.104-.787-.111l-.41-.003zM11.752.002q.223.003.42.016c.286.02.625.065.976.21a3 3 0 0 1 1.624 1.624c.145.35.19.69.21.975q.014.198.016.423H16v1.5h-1.002q-.003.226-.016.423c-.02.285-.065.624-.21.975a3 3 0 0 1-1.624 1.623c-.35.146-.69.192-.975.211C11.912 8 11.605 8 11.29 8h-.58c-.315 0-.622 0-.883-.018a3 3 0 0 1-.975-.21 3 3 0 0 1-1.623-1.624 3 3 0 0 1-.211-.975l-.016-.423H0v-1.5h7.002q.003-.226.016-.423c.02-.285.065-.624.21-.975A3 3 0 0 1 8.853.229c.35-.146.69-.192.975-.211.26-.018.567-.018.882-.018h.58zM10.75 1.5c-.699 0-1.049 0-1.324.114a1.5 1.5 0 0 0-.812.812c-.083.2-.106.44-.112.824q-.002.216-.002.5v.5q0 .284.002.5c.005.336.024.562.084.747q.012.04.028.077a1.5 1.5 0 0 0 .812.812c.258.107.582.114 1.197.114h.627c.611 0 .956 0 1.217-.076q.056-.017.107-.038a1.5 1.5 0 0 0 .812-.812c.083-.2.106-.44.112-.824q.003-.215.002-.499v-.502q0-.284-.002-.499c-.006-.384-.03-.624-.112-.824a1.5 1.5 0 0 0-.92-.85c-.195-.057-.438-.071-.805-.075L11.25 1.5z"}),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),function(e,t,r){t&&s(e.prototype,t),r&&s(e,r)}(t,[{key:"getContentSVG",value:function(){return d}}]),t}()},function(e,t,r){"use strict";var n=r(3730),i=r(521),o=(r.n(i),r(423)),a=(r.n(o),Object(i.withPsTheme)({source:o.DarkSource.Content})(n.a));t.a=a},function(e,t,r){"use strict";r.d(t,"a",function(){return pe});var n,i,o,a,s,l=r(134),u=r.n(l),c=r(322),d=r.n(c),f=r(327),g=r(325),p=r(324),m=r.n(p),h=r(678),v=r(677),b=r(771),_=r(553),y=r(554),S=r(724),w=r(1058),O=r(372),x=r(375),M=r.n(x),P=r(144),D=(r.n(P),r(341)),E=r(359),T=r(668),C=r(333),k=r(135),A=r.n(k),I=r(3731),j=r(3734),F=r(3737),R=r(3740),B=r(3743),L=r(3748),N=(r.n(L),r(1057)),U=r(331),H=r(337);r.n(H);function W(e){"@babel/helpers - typeof";return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var a=new Array(o),l=0;l<o;l++)a[l]=arguments[l+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Y=function(){return M()()("mail-AdvancedSearch")},$=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_service_iconostasis"}),X=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_service"}),Q=K(U.default,{loc:"suggest-react/advanced-search-filter-services"}),J=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_attach_iconostasis"}),Z=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_attach"}),ee=K(U.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),te=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_calendar_iconostasis"}),re=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_calendar"}),ne=K(U.default,{loc:"suggest-react/advanced-search-label-date"}),ie=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_folder_iconostasis"}),oe=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_folder"}),ae=K(U.default,{loc:"suggest-react/advanced-search-label-folder"}),se=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_user_iconostasis"}),le=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_from"}),ue=K(U.default,{loc:"suggest-react/advanced-search-filter-from"}),ce=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_user_iconostasis"}),de=K(D.default,{ariaHidden:!0,id:"mail--AdvancedSearch_to"}),fe=K(U.default,{loc:"suggest-react/advanced-search-filter-to"}),ge=K(U.default,{loc:"suggest-react/advanced-search-label-more"}),pe=Object(f.inject)("searchStore","foldersStore","labelsStore","searchService","searchLogService","settingsService","queryLanguageService")(n=Object(f.observer)((a=o=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?V(e):t}(this,q(t).call(this,e)))._logAction=r._logAction.bind(V(r)),r._onDateSelected=r._onDateSelected.bind(V(r)),r._onFolderSelected=r._onFolderSelected.bind(V(r)),r._onServiceSelected=r._onServiceSelected.bind(V(r)),r._toggleImportantFilterValue=r._toggleImportantFilterValue.bind(V(r)),r._onPopupOutsideClick=r._onPopupOutsideClick.bind(V(r)),r._onScopeSelected=r._onScopeSelected.bind(V(r)),r._toggleUnreadFilterValue=r._toggleUnreadFilterValue.bind(V(r)),r._toggleAttachesFilterValue=r._toggleAttachesFilterValue.bind(V(r)),r._togglePopup=r._togglePopup.bind(V(r)),r._hidePopupOnWindowScroll=r._hidePopupOnWindowScroll.bind(V(r)),r._toggleScopeFilterValue=r._toggleScopeFilterValue.bind(V(r)),r._servicesButton=u.a.createRef(),r._datesButton=u.a.createRef(),r._foldersButton=u.a.createRef(),r._fromButton=u.a.createRef(),r._toButton=u.a.createRef(),r._moreButton=u.a.createRef(),r._showHideReaction=new T.a(function(){return e.searchService.shouldDisplayAdvancedSearch},function(){Object(C.toggleAdvancedSearchAppMode)(e.searchService.shouldDisplayAdvancedSearch),Object(C.changeRightColumSize)(),r.setState({displayedPopup:null})}),r.state={buttonKey:"firstButtonKey"},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,u.a.PureComponent),function(e,t,r){t&&z(e.prototype,t),r&&z(e,r)}(t,[{key:"componentDidMount",value:function(){Object(C.toggleAdvancedSearchAppMode)(this.props.searchService.shouldDisplayAdvancedSearch),window.addEventListener("scroll",this._hidePopupOnWindowScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._hidePopupOnWindowScroll),this._showHideReaction.cancel()}},{key:"_toggleAttachesFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("attaches");e.setAdvanced("attaches",t),this._logAction("Attaches button",t)}},{key:"_onDateSelected",value:function(e){var t=e.from,r=e.to;this.props.searchService.setMultipleAdvanced({name:"from",value:t},{name:"to",value:r}),this.setState({displayedPopup:null})}},{key:"_onFolderSelected",value:function(e){this.props.searchService.setAdvanced("fid",e),this.setState({displayedPopup:null}),this._logAction("Folder item",Boolean(e))}},{key:"_onServiceSelected",value:function(e){this.props.searchService.setAdvanced("serviceId",e),this.setState({displayedPopup:null}),this._logAction("Service item",Boolean(e))}},{key:"_onScopeSelected",value:function(e){this._toggleScopeFilterValue(e),this.setState({displayedPopup:null})}},{key:"_toggleImportantFilterValue",value:function(){var e=this.props,t=e.searchService,r=e.labelsStore.getImportantId(),n=r===t.getAdvanced("lid")?null:r;t.setAdvanced("lid",n),this.setState({displayedPopup:null}),this._logAction("Important item",Boolean(n))}},{key:"_toggleUnreadFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("unread");e.setAdvanced("unread",t),this.setState({displayedPopup:null}),this._logAction("Unread item",t)}},{key:"_onContactSelected",value:function(e,t){var r=this.props.searchService;e&&r.setAdvanced("hdr_"+t,e.email),this._logAction("".concat(A.a.capitalize(t)," item"),!0),this._togglePopup()}},{key:"_togglePopup",value:function(e){this.state.displayedPopup===e?this.setState({displayedPopup:null}):this.setState({displayedPopup:e})}},{key:"_hidePopupOnWindowScroll",value:function(){this.state.displayedPopup&&Object(C.hasFixedToolbar)()&&(this.setState(function(e){return{buttonKey:"firstButtonKey"===e.buttonKey?"secondButtonKey":"firstButtonKey"}}),setTimeout(this._togglePopup,0))}},{key:"_toggleScopeFilterValue",value:function(e){var t,r=this.props.searchService;t=r.getAdvanced("scope")===e,r.setAdvanced("scope",t?null:e),this._logAction("Scope button ".concat(e),!t)}},{key:"_isScopeActive",value:function(e){return this.props.searchService.getAdvanced("scope")===e}},{key:"_onPopupOutsideClick",value:function(e){for(var t=e.target;t.parentElement;){if(t.classList.contains("js-prevent-popup-close"))return;t=t.parentElement}"HTML"===t.nodeName&&this.setState({displayedPopup:null})}},{key:"_logAction",value:function(e,t){var r=this.props,n=r.searchLogService,i=r.searchService;n.countNewAdvancedSearch(e,t?"on":"off",i.bubbles.length)}},{key:"maybeRenderPopup",value:function(){var e=this,t=this.state.displayedPopup;if(!t)return null;var r,n,i=this.props,o=i.searchService,a=i.foldersStore,s=i.labelsStore;switch(t){case"service":var l=Object(N.a)()||[];r=K(j.a,{cls:Y().e("popup-content"),services:l||[],selectedServiceId:o.getAdvanced("serviceId"),onServiceSelected:this._onServiceSelected}),n=this._servicesButton.current;break;case"date":r=K(R.a,{cls:Y().e("popup-content"),from:o.getAdvanced("from"),to:o.getAdvanced("to"),onDateSelected:this._onDateSelected,logAction:this._logAction}),n=this._datesButton.current;break;case"folder":r=K(I.a,{cls:Y().e("popup-content"),folders:a.foldersForSearch.map(function(e){return e.data}),selectedFid:o.getAdvanced("fid"),onFolderSelected:this._onFolderSelected}),n=this._foldersButton.current;break;case"more":var u=o.getAdvanced("scope"),c=o.getAdvanced("lid");r=K(F.a,{cls:Y().e("popup-content"),scope:u,onScopeSelected:this._onScopeSelected,important:Boolean(c&&c===s.getImportantId()),onImportantSelected:this._toggleImportantFilterValue,unread:Boolean(o.getAdvanced("unread")),onUnreadSelected:this._toggleUnreadFilterValue,logAction:this._logAction}),n=this._moreButton.current;break;case"from":case"to":r=K(B.a,{cls:Y().e("popup-content"),type:t,onValueSelected:function(r){return e._onContactSelected(r,t)},onCancel:this._togglePopup,value:o.getAdvanced("hdr_"+t)}),n=this["_".concat(t,"Button")].current}return K(P.Popup,{visible:!0,anchor:{current:n.control},theme:"normal",view:"default",target:"anchor",onClose:this._onPopupOutsideClick,direction:"bottom-start",enableFocusTrap:!0},t,r)}},{key:"_maybeRenderServicesButton",value:function(){var e=this;if(Object(C.isCorp)()){var t=this.props.searchService,r=Object(H.hasFeature)(H.Features.WEB_GLOBALBAR_VERTICAL);return u.a.createElement(O.a,{theme:"action",size:r?"m":"l",cls:Y().e("button").m({redesigned:r,active:Boolean(t.getAdvanced("serviceId"))}),ref:this._servicesButton,onClick:function(){return e._togglePopup("service")}},r?$:X,Q)}return null}},{key:"render",value:function(){var e=this,t=this.props,r=t.searchService,n=t.className,i=t.labelsStore,o=this.state.buttonKey;if(!r.shouldDisplayAdvancedSearch)return null;var a=Boolean(r.getAdvanced("from")||r.getAdvanced("to")),s=this._isScopeActive("hdr_from")||Boolean(r.getAdvanced("hdr_from")),l=this._isScopeActive("hdr_to")||Boolean(r.getAdvanced("hdr_to")),c=r.getAdvanced("lid"),d=this._isScopeActive("hdr_subject")||this._isScopeActive("body_text")||Boolean(r.getAdvanced("unread"))||Boolean(c&&c===i.getImportantId()),f=Object(H.hasFeature)(H.Features.WEB_GLOBALBAR_VERTICAL),g=f?"m":"l";return K(E.default,{lang:Daria.locale},void 0,K("div",{className:m()(Y().toString(),n,{redesigned:f})},void 0,this._maybeRenderServicesButton(),K(O.a,{theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:Boolean(r.getAdvanced("attaches"))}),onClick:this._toggleAttachesFilterValue,checked:Boolean(r.getAdvanced("attaches"))},void 0,f?J:Z,ee),u.a.createElement(O.a,{key:o+"date",theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:a}),ref:this._datesButton,onClick:function(){return e._togglePopup("date")},checked:a},f?te:re,ne),u.a.createElement(O.a,{key:o+"fid",theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:Boolean(r.getAdvanced("fid"))}),ref:this._foldersButton,onClick:function(){return e._togglePopup("folder")},checked:Boolean(r.getAdvanced("fid"))},f?ie:oe,ae),u.a.createElement(O.a,{key:o+"from",theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:s}),ref:this._fromButton,onClick:function(){return e._togglePopup("from")},checked:s},f?se:le,ue),u.a.createElement(O.a,{key:o+"to",theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:l}),ref:this._toButton,onClick:function(){return e._togglePopup("to")},checked:l},f?ce:de,fe),u.a.createElement(O.a,{key:o+"more",theme:"action",size:g,cls:Y().e("button").m({redesigned:f,active:!1}),ref:this._moreButton,onClick:function(){return e._togglePopup("more")},checked:d},ge),this.maybeRenderPopup()))}}]),t}(),o.propTypes={searchStore:d.a.instanceOf(h.a).isRequired,foldersStore:d.a.instanceOf(v.a).isRequired,labelsStore:d.a.instanceOf(b.a).isRequired,searchService:d.a.instanceOf(_.b).isRequired,searchLogService:d.a.instanceOf(S.a).isRequired,settingsService:d.a.instanceOf(y.a).isRequired,queryLanguageService:d.a.instanceOf(w.a).isRequired,className:d.a.string},function(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((i=a).prototype,"_toggleScopeFilterValue",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"_toggleScopeFilterValue"),i.prototype),n=i))||n)||n},function(e,t,r){"use strict";var n=r(3732);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(375),u=r.n(l),c=r(696),d=r(351),f=r.n(d),g=r(3733);r.n(g);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}(this,(e=h(t)).call.apply(e,[this].concat(i))))._onKeyDown=function(e){var t=r.props.folders,n=r.state.focusedIndex,i=Array.isArray(t)?t.map(function(e){return e.fid}):[],o=n+1>i.length-1?0:n+1,a=n-1<0?i.length-1:n-1,s=i[n];switch(e.keyCode){case f.a.DOWN:r.setState({focusedIndex:o});break;case f.a.UP:r.setState({focusedIndex:a});break;case f.a.ENTER:s&&r._onFolderClick(s)}e.preventDefault()},r._updateMenuItems=function(){if(r._popupRef&&r._popupRef.current){var e=r.state.focusedIndex,t=r._popupRef.current.querySelector(".menu");if(t){var n=t.querySelectorAll(".menu__item");n.forEach(function(e){e.removeAttribute("aria-selected")});var i=n[e];if(i){var o=i.offsetHeight,a=i.offsetTop,s=t.offsetHeight,l=t.scrollTop,u=a+o>l+s;a<l&&t.scrollTo(0,a),u&&t.scrollTo(0,a-s+o)}}}},r._onFolderClick=r._onFolderClick.bind(v(r)),r._onKeyDown=r._onKeyDown.bind(v(r)),r._updateMenuItems=r._updateMenuItems.bind(v(r)),r.state={focusedIndex:0},r._popupRef=o.a.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(t,[{key:"componentDidMount",value:function(){this._updateMenuItems()}},{key:"componentDidUpdate",value:function(e,t){this.state.focusedIndex!==t.focusedIndex&&this._updateMenuItems()}},{key:"_onFolderClick",value:function(e){var t=this.props,r=t.onFolderSelected;r(e===t.selectedFid?null:e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.cls,n=t.folders,i=t.selectedFid,a=this.state.focusedIndex;return o.a.createElement("div",{className:u()()("mail-AdvancedSearch-FolderSelector").mix(r),ref:this._popupRef},_("input",{role:"combobox","aria-activedescendant":"a11y-folder-item-".concat(a),"aria-autocomplete":"none","aria-readonly":"true","aria-expanded":!0,onKeyDown:this._onKeyDown,tabIndex:0,readOnly:!0,className:"a11yComboboxInput"}),_(c.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i,tabIndex:"-1"},a,n.map(function(t,r){return _(c.a.Item,{val:t.fid,onClick:function(){return e._onFolderClick(t.fid)},hovered:a===r,controlAttrs:{id:"a11y-folder-item-".concat(r),tabIndex:0,"aria-checked":i===t.fid}},t.fid,t.name)})))}}]),t}();y.propTypes={cls:s.a.object,folders:s.a.array,onFolderSelected:s.a.func,selectedFid:s.a.string}},function(e,t){},function(e,t,r){"use strict";var n=r(3735);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(375),u=r.n(l),c=r(696),d=r(3736);r.n(d);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?m(e):t}(this,(e=p(t)).call.apply(e,[this].concat(i))))._onServiceClick=r._onServiceClick.bind(m(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&g(e.prototype,t),r&&g(e,r)}(t,[{key:"_onServiceClick",value:function(e){var t=this.props,r=t.onServiceSelected;r(e===t.selectedServiceId?null:e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.cls,n=t.services,i=t.selectedServiceId;return v("div",{className:u()()("mail-AdvancedSearch-ServiceSelector").mix(r)},void 0,v(c.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i},void 0,n.map(function(t){return v(c.a.Item,{val:t.serviceId,onClick:function(){return e._onServiceClick(t.serviceId)}},t.serviceId,t.name)})))}}]),t}();b.propTypes={cls:s.a.object,services:s.a.array,onServiceSelected:s.a.func.isRequired,selectedServiceId:s.a.string}},function(e,t){},function(e,t,r){"use strict";var n=r(3738);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return A});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(375),u=r.n(l),c=r(359),d=r(696),f=r(341),g=r(331),p=r(351),m=r.n(p),h=r(3739);r.n(h);function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O=function(){return u()()("mail-AdvancedSearch-MoreSelector")},x=3,M=w(g.default,{loc:"suggest-react/advanced-search-label-scope"}),P=w(g.default,{loc:"suggest-react/advanced-search-filter-subject"}),D=w(g.default,{loc:"suggest-react/advanced-search-filter-body"}),E=w(f.default,{ariaHidden:!0,id:"mail--AdvancedSearch_important"}),T=w(g.default,{loc:"suggest-react/advanced-search-filter-important"}),C=w(f.default,{ariaHidden:!0,id:"mail--AdvancedSearch_unread"}),k=w(g.default,{loc:"suggest-react/advanced-search-filter-unread"}),A=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?y(e):t}(this,(e=_(t)).call.apply(e,[this].concat(i))))._onKeyDown=function(e){var t=r.props,n=t.important,i=t.unread,o=t.onImportantSelected,a=t.onUnreadSelected,s=t.onScopeSelected,l=r.state.focusedIndex,u=l+1>x?0:l+1,c=l-1<0?x:l-1;switch(e.keyCode){case m.a.DOWN:r.setState({focusedIndex:u});break;case m.a.UP:r.setState({focusedIndex:c});break;case m.a.ENTER:switch(l){case 0:s("hdr_subject");break;case 1:s("body_text");break;case 2:o(!n);break;case 3:a(!i)}}e.preventDefault()},r._updateMenuItems=function(){if(r._popupRef&&r._popupRef.current){var e=r._popupRef.current.querySelectorAll(".menu");e.length&&e.forEach(function(e){e.removeAttribute("aria-multiselectable"),e.querySelectorAll(".menu__item").forEach(function(e){e.removeAttribute("aria-selected")})})}},r._onKeyDown=r._onKeyDown.bind(y(r)),r._updateMenuItems=r._updateMenuItems.bind(y(r)),r.state={focusedIndex:0},r._popupRef=o.a.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&b(e.prototype,t),r&&b(e,r)}(t,[{key:"componentDidMount",value:function(){this._updateMenuItems()}},{key:"componentDidUpdate",value:function(e,t){this.state.focusedIndex!==t.focusedIndex&&this._updateMenuItems()}},{key:"render",value:function(){var e=this,t=this.props,r=t.cls,n=t.scope,i=t.important,a=t.unread,s=t.onImportantSelected,l=t.onUnreadSelected,u=t.onScopeSelected,f=["important","unread"].filter(function(t){return e.props[t]}),g=this.state.focusedIndex;return w(c.default,{lang:Daria.locale},void 0,o.a.createElement("div",{className:O().mix(r),ref:this._popupRef},w("div",{className:O().e("popup-header"),role:"heading","aria-level":"1",id:"a11y-more-heading"},void 0,M),w("input",{role:"combobox","aria-activedescendant":"a11y-more-item-".concat(g),"aria-autocomplete":"none","aria-readonly":"true","aria-expanded":"true","aria-describedby":"a11y-more-heading",tabIndex:0,onKeyDown:this._onKeyDown,readOnly:!0,className:"a11yComboboxInput"}),w(d.a,{theme:"normal",view:"classic",size:"s",type:"check",val:n,tabIndex:"-1"},g,w(d.a.Item,{val:"hdr_subject",onClick:function(){return u("hdr_subject")},controlAttrs:{"aria-checked":(n||[]).includes("hdr_subject"),id:"a11y-more-item-0",tabIndex:0},hovered:0===g},void 0,P),w(d.a.Item,{val:"body_text",onClick:function(){return u("body_text")},controlAttrs:{"aria-checked":(n||[]).includes("body_text"),id:"a11y-more-item-1",tabIndex:0},hovered:1===g},void 0,D)),w("div",{"aria-hidden":"true",className:O().e("separator")}),w(d.a,{cls:O().e("iconed-menu"),theme:"normal",view:"classic",size:"s",type:"check",val:f,tabIndex:"-1"},"".concat(g,"-unread"),w(d.a.Item,{val:"important",onClick:function(){return s(!i)},controlAttrs:{"aria-checked":i,id:"a11y-more-item-2",tabIndex:0},hovered:2===g},void 0,w("div",{className:O().e("icon-row")},void 0,E,T)),w(d.a.Item,{val:"unread",onClick:function(){return l(!a)},controlAttrs:{"aria-checked":a,id:"a11y-more-item-3",tabIndex:0},hovered:3===g},void 0,w("div",{className:O().e("icon-row")},void 0,C,k)))))}}]),t}();A.propTypes={cls:s.a.object,onUnreadSelected:s.a.func,onImportantSelected:s.a.func,onScopeSelected:s.a.func,unread:s.a.bool,important:s.a.bool,scope:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])}},function(e,t){},function(e,t,r){"use strict";var n=r(3741);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return R});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(375),u=r.n(l),c=r(359),d=r(1167),f=r(1008),g=r.n(f),p=r(333),m=r(372),h=r(341),v=r(397),b=r(331),_=r(326),y=r.n(_),S=r(335),w=r(3742);r.n(w);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e){"@babel/helpers - typeof";return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var C=function(){return u()()("mail-AdvancedSearch-DateSelector")},k=T(b.default,{loc:"suggest-react/advanced-search-label-wrong-dates"}),A=T(b.default,{loc:"suggest-react/advanced-search-label-exchange-dates"}),I=T(b.default,{loc:"suggest-react/advanced-search-label-date-find"}),j=T(b.default,{loc:"suggest-react/advanced-search-label-select-date"}),F=T(h.default,{ariaHidden:!0,id:"mail--AdvancedSearch_arrow"}),R=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?D(e):t}(this,(e=P(t)).call.apply(e,[this].concat(i))))._onInputFocus=function(e){var t=r.inputFromRef&&r.inputFromRef.current,n=r.inputToRef&&r.inputToRef.current;return t&&t.input===e.currentTarget?(n.cancelFocusInput(),void n.setOpen(!1)):n&&n.input===e.currentTarget?(t.cancelFocusInput(),void t.setOpen(!1)):void 0},r._customDateSelected=r._customDateSelected.bind(D(r)),r._applyCustomDates=r._applyCustomDates.bind(D(r)),r._exchangeDates=r._exchangeDates.bind(D(r)),r.props.from||r.props.to?r.state={from:r.props.from,to:r.props.to}:r.state={from:new Date(Daria.passportNow()),to:new Date(Daria.passportNow())},r.inputFromRef=o.a.createRef(),r.inputToRef=o.a.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&M(e.prototype,t),r&&M(e,r)}(t,[{key:"_customDateSelected",value:function(e,t){this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t&&Object(v.getDateComponentOfDatetime)(t.toDate())))}},{key:"_exchangeDates",value:function(){this.setState({from:this.state.to,to:this.state.from})}},{key:"_applyCustomDates",value:function(){var e=this.props,t=e.onDateSelected,r=e.logAction;t({from:this.state.from,to:this.state.to}),r&&r("Custom dates",!0)}},{key:"_renderButtons",value:function(){var e=this.state,t=e.from,r=e.to;return T("div",{className:C().e("buttons-block")},void 0,t&&r&&r<t&&T("div",{className:C().e("error-message")},void 0,k,T(m.a,{theme:"link",size:"s",onClick:this._exchangeDates},void 0,A)),T("div",{className:C().e("buttons-row")},void 0,T(m.a,{theme:"action",size:"n",onClick:this._applyCustomDates},void 0,I)))}},{key:"render",value:function(){var e=this,t=this.props.cls,r={locale:g.a[Object(p.getLocale)()],dateFormat:"DD.MM.YYYY",size:"m",width:"available",fixedHeight:!0,maxDate:Daria.passportNow(),calendarClassName:"js-prevent-popup-close suggest-datepicker-calendar",onFocus:this._onInputFocus},n=function(e){return T("div",{"aria-hidden":"true"},void 0,e.children)};return T(c.default,{lang:Daria.locale},void 0,T("div",{className:C().mix(t)},void 0,T("div",{className:C().e("select-date-header"),role:"heading","aria-level":"1"},void 0,j),T("div",{className:C().e("date-picker-row")},void 0,o.a.createElement(d.a,O({},r,{onChange:function(t){return e._customDateSelected("from",t)},selected:this.state.from,innerRef:this.inputFromRef,popperContainer:n,placeholderText:"01.01.2000",customInput:T("input",{type:"text","aria-label":Object(S.default)("suggest-react/advanced-search-from")})})),F,o.a.createElement(d.a,O({},r,{onChange:function(t){return e._customDateSelected("to",t)},selected:this.state.to,innerRef:this.inputToRef,popperContainer:n,placeholderText:y()(Daria.passportNow()).format("DD.MM.YYYY"),customInput:T("input",{type:"text","aria-label":Object(S.default)("suggest-react/advanced-search-to")})}))),this._renderButtons()))}}]),t}();R.propTypes={cls:s.a.object,from:s.a.instanceOf(Date),to:s.a.instanceOf(Date),onDateSelected:s.a.func,logAction:s.a.func}},function(e,t){},function(e,t,r){"use strict";var n=r(3744);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";r.d(t,"a",function(){return j});var n,i,o,a,s=r(327),l=r(134),u=r.n(l),c=r(322),d=r.n(c),f=r(375),g=r.n(f),p=r(359),m=r(698),h=r(718),v=r(1456),b=r(351),_=r.n(b),y=r(135),S=r.n(y),w=r(3745),O=(r.n(w),r(3746)),x=r(331);function M(e){"@babel/helpers - typeof";return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var k=function(){return g()()("mail-AdvancedSearch-ContactSelector")},A=C(x.default,{loc:"suggest-react/advanced-search-filter-from"}),I=C(x.default,{loc:"suggest-react/advanced-search-filter-to"}),j=Object(s.inject)("avatarsService","contactsSuggestService")((o=i=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(r=D(this,(e=E(t)).call.apply(e,[this].concat(i))))._onTextChange=function(e){r.setState({text:e}),r._makeQueryDebounced()},r._makeQuery=function(){var e=r.state.text;r.props.contactsSuggestService.getContacts(e).then(function(t){r.state.text===e&&r._handleSuggestResult(t)})},r._handleSuggestResult=function(e){r.setState({contacts:e,selectedIndex:e.length?0:null,avatars:null});var t=e;r.props.avatarsService.loadAvatars(t).then(function(e){r.state.contacts===t&&r.setState({avatars:e.map(function(e){return e.avatar})})})},r._selectNext=function(){var e=r.state,t=e.selectedIndex,n=e.contacts,i=null===t||t>=n.length-1?0:t+1;r.setState({selectedIndex:i})},r._selectPrev=function(){var e=r.state,t=e.selectedIndex,n=e.contacts,i=null===t||t<=0?n.length-1:t-1;r.setState({selectedIndex:i})},r._selectContact=function(e){var t=r.state.contacts.indexOf(e);-1!==t&&r.setState({selectedIndex:t})},r._onKeyDown=function(e){var t=r.state,n=t.selectedIndex,i=t.contacts,o=r.props,a=o.onCancel,s=o.onValueSelected;switch(e.keyCode){case _.a.DOWN:r._selectNext();break;case _.a.UP:r._selectPrev();break;case _.a.ENTER:null!==n&&n>=0&&n<i.length&&s(i[n]),e.preventDefault();break;case _.a.ESC:a()}};var a=r.props.value;return r.state={text:a||"",contacts:[],avatars:null},r._makeQueryDebounced=S.a.debounce(r._makeQuery,200),r._makeQuery(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,u.a.PureComponent),function(e,t,r){t&&P(e.prototype,t),r&&P(e,r)}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.cls,n=t.type,i=t.onValueSelected,o=this.state,a=o.text,s=o.contacts,l=o.avatars,u=o.selectedIndex;return C(p.default,{lang:Daria.locale},void 0,C("div",{className:k().mix(r)},void 0,C("div",{className:k().e("header"),role:"heading","aria-level":"1",id:"a11y-contact-heading"},void 0,"from"===n?A:I),C(m.a,{pin:"round-round",theme:"websearch",view:"default",text:a,onKeyDown:this._onKeyDown,onChange:this._onTextChange,controlAttrs:{role:"combobox","aria-activedescendant":"number"==typeof u?"a11y-contact-item-".concat(u):"","aria-owns":"a11y-contact-listbox","aria-autocomplete":"list","aria-expanded":"true","aria-describedby":"a11y-contact-heading"}}),C("div",{role:"listbox","aria-describedby":"a11y-contact-heading",id:"a11y-contact-listbox"},void 0,s.map(function(t,r){return C(O.a,{isSelected:r===u,contact:t,avatar:l&&l[r],onClick:i,onFocus:e._selectContact,id:"a11y-contact-item-".concat(r)},t.email+" "+t.name)}))))}}]),t}(),i.propTypes={cls:d.a.object,type:d.a.string,value:d.a.string,onValueSelected:d.a.func.isRequired,onCancel:d.a.func.isRequired,logAction:d.a.func,avatarsService:d.a.instanceOf(h.a).isRequired,contactsSuggestService:d.a.instanceOf(v.a).isRequired},n=o))||n},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",function(){return S});var n,i=r(134),o=r.n(i),a=r(322),s=r.n(a),l=r(375),u=r.n(l),c=r(3747),d=(r.n(c),r(728)),f=r.n(d),g=r(1038);r.n(g);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(){return u()()("mail-AdvancedSearch-ContactItem")},S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,r){t&&m(e.prototype,t),r&&m(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.contact,r=e.avatar,n=e.isSelected,i=e.onClick,a=e.onFocus,s=e.id,l=[t.name,t.title].filter(function(e){return e}).join("\n"),u=function(e,t){var r=[];if(e&&e!==t&&r.push(e),t&&r.push(t),r.length)return r.join(", ")}(t.name,t.email);return _("div",{className:y().m({selected:n}),onClick:function(){return i(t)},onMouseEnter:a?function(){return a(t)}:null,title:l,role:"option","aria-label":u,"aria-selected":n,id:s},void 0,_("div",{"aria-hidden":"true",className:y().e("avatar")},void 0,_(g.AvatarTooltip,{contact:t,avatar:o.a.createElement(f.a,r)})),_("div",{"aria-hidden":"true",className:y().e("text")},void 0,t.name!==t.email&&_("div",{className:y().e("name")},void 0,t.name),_("div",{className:y().e("email")},void 0,t.email)))}}]),t}();S.propTypes={cls:s.a.object,contact:s.a.object.isRequired,avatar:s.a.object,onClick:s.a.func.isRequired,onFocus:s.a.func,isSelected:s.a.bool,id:s.a.string}},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsPopupProps=t.MailSettings=void 0;var n=r(1467);Object.defineProperty(t,"MailSettings",{enumerable:!0,get:function(){return n.MailSettings}}),Object.defineProperty(t,"MailSettingsPopupProps",{enumerable:!0,get:function(){return n.MailSettingsPopupProps}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var n=r(3751);Object.defineProperty(t,"SettingsHeader",{enumerable:!0,get:function(){return n.SettingsHeader}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var s=o(r(134)),l=a(r(324)),u=r(412),c=a(r(331)),d=r(137),f=r(139),g=r(476),p=a(r(3752)),m=a(r(3753)),h=r(993);t.SettingsHeader=function(e){var t=e.onClose,r=s.useCallback(function(e){return s.default.createElement("div",{className:l.default(m.default.icon,e)},s.default.createElement(p.default,{width:"16"}))},[]),n=s.useCallback(function(){g.logPopupMetric([u.HEADER_METRIKA_SETTINGS_ALL]),t()},[t]),i=h.getConfigurePermission();return s.default.createElement("div",{className:m.default.container},s.default.createElement(d.Text,{className:m.default.header,typography:"subheader-s",as:"h1",weight:"medium",color:"primary"},s.default.createElement(c.default,{loc:"settings-popup-react/popupTitle"})),i&&s.default.createElement(f.Button,{view:"clear",size:"s",type:"link",url:"#setup",iconRight:r,onClick:n,className:m.default.button,"data-testid":"settings-popup-all-settings-button"},s.default.createElement(d.Text,{weight:"medium",typography:"body-long-m"},s.default.createElement(c.default,{loc:"settings-popup-react/allSettingsButton"}))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.045 6.941l-3.403-3.408a.672.672 0 00-.947 0c-.26.26-.26.68 0 .94l1.543 1.543c.508.509 1.07.96 1.675 1.349l-.165.164a10 10 0 00-1.97-.196H2a.667.667 0 000 1.334h8.779a10 10 0 001.969-.196l.165.165a9.996 9.996 0 00-1.675 1.348l-1.543 1.543c-.26.26-.26.68 0 .94.26.26.687.26.947 0l3.403-3.408a1.497 1.497 0 000-2.118z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={container:"SettingsHeader__container--1ufpD",header:"SettingsHeader__header--2GaJk",button:"SettingsHeader__button--1qYzu",icon:"SettingsHeader__icon--msPHR"}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsMain=void 0;var i=n(r(134)),o=r(333),a=r(3755),s=r(3853),l=r(3861),u=r(329),c=n(r(1067));t.MailSettingsMain=function(e){var t=e.onShowAllThemes,r=e.closePopup,n=e.buttonRef;return i.default.createElement("div",{className:c.default.main,"data-testid":"settings-popup-main"},!o.isCorp()&&!u.getMailboxUid()&&i.default.createElement(l.SettingsPromo,{closePopup:r}),i.default.createElement(a.SettingsDisplay,null),i.default.createElement(s.SettingsThemes,{buttonRef:n,onShowAll:t}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var n=r(3756);Object.defineProperty(t,"SettingsDisplay",{enumerable:!0,get:function(){return n.SettingsDisplay}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var l=o(r(134)),u=r(396),c=r(412),d=s(r(331)),f=r(369),g=r(1063),p=r(3759),m=r(3762),h=r(476),v=s(r(3846)),b=s(r(3847)),_=s(r(3848)),y=s(r(3849)),S=s(r(3850)),w=s(r(3851)),O=s(r(3852)),x=s(r(335)),M=r(479),P=function(){var e=f.useThemesContext().isDark,t=f.useSettingsContext(),r=t.settings,n=t.setSettings,i=l.useCallback(function(e){n({layout:e}),h.logPopupMetric([c.HEADER_METRIKA_CHANGE_LAYOUT])},[n]),o=l.useCallback(function(e){return function(){return i(e)}},[i]),s=a(e?[b.default,y.default,w.default]:[v.default,_.default,S.default],3),g=s[0],m=s[1],M=s[2];return l.default.createElement("div",{className:O.default.displaySwitchContainer,role:"radiogroup","aria-label":x.default("settings-popup-react/layoutTitle")},l.default.createElement(p.Layout,{selected:r[u.Settings.LAYOUT]===u.LayoutTypes.Pane2,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout2PaneHint"}),label:x.default("settings-popup-react/layout2PaneHint"),onClick:o(u.LayoutTypes.Pane2),testId:"settings-popup-2pane"},l.default.createElement(g,{className:O.default.svg})),l.default.createElement(p.Layout,{selected:r[u.Settings.LAYOUT]===u.LayoutTypes.Pane3,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHint"}),label:x.default("settings-popup-react/layout3PaneHint"),onClick:o(u.LayoutTypes.Pane3),testId:"settings-popup-3pane-vertical"},l.default.createElement(m,{className:O.default.svg})),l.default.createElement(p.Layout,{selected:r[u.Settings.LAYOUT]===u.LayoutTypes.Pane3Horizontal,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHorizontalHint"}),label:x.default("settings-popup-react/layout3PaneHorizontalHint"),onClick:o(u.LayoutTypes.Pane3Horizontal),testId:"settings-popup-3pane-horizontal"},l.default.createElement(M,{className:O.default.svg})))};t.SettingsDisplay=function(){var e=f.useSettingsContext().settings,t=l.useMemo(function(){return e[u.Settings.LAYOUT]===u.LayoutTypes.Pane2},[e]),r=l.useCallback(function(){return M.triggerNsEvent("daria:settings:changed")},[]),n=l.useCallback(function(){M.triggerNsEvent(e[u.Settings.FOLDER_THREAD_VIEW]?"daria:settings:thread-view-off":"daria:settings:thread-view-on")},[e]);return l.default.createElement(g.SettingsSection,{title:l.default.createElement(d.default,{loc:"settings-popup-react/displaySectionTitle"})},l.default.createElement(P,null),l.default.createElement(m.SettingsCheckboxesContainer,null,l.default.createElement(m.SettingsCheckbox,{name:u.Settings.WITH_BIGGER_TEXT,metricName:"Bigger text",className:"qa-SettingsPopup-BiggerTextCheckbox",onChangeSuccess:r,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingBiggerText"})}),l.default.createElement(m.CompactLeftColumnCheckbox,{metricName:"Compact left column",className:"qa-SettingsPopup-CompactLeftColumnCheckbox",label:l.default.createElement(d.default,{loc:"settings-popup-react/settingCompactLeftColumn"})}),l.default.createElement(m.SettingsCheckbox,{metricName:"Thread view",className:"qa-SettingsPopup-ThreadViewCheckbox",name:u.Settings.FOLDER_THREAD_VIEW,onChangeSuccess:n,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingFolderThreadLabel"})}),t&&l.default.createElement(m.SettingsCheckbox,{name:u.Settings.MINIFIED_MAIL_LIST,metricName:"Minified mail list",className:"qa-SettingsPopup-MinifiedListCheckbox",onChangeSuccess:r,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingMinifiedMailList"})})))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var o=i(r(134)),a=i(r(324)),s=r(137),l=r(139),u=i(r(3758));t.SettingsSection=function(e){var t=e.title,r=e.children,i=e.className,c=e.button,d=e.testId;return o.default.createElement("section",{className:a.default(u.default.container,i),"data-testid":d},o.default.createElement("header",{className:u.default.header},o.default.createElement(s.Text,{className:u.default.headerText,as:"h2",typography:"body-short-m",weight:"medium"},t),c&&o.default.createElement(l.Button,n({view:"clear",size:"m"},c,{className:a.default(u.default.button,c.className),"data-testid":d+"-button"}),o.default.createElement(s.Text,{weight:"medium",typography:"body-long-m"},c.children))),r)}},function(e,t){e.exports={container:"SettingsSection__container--ovhl5",header:"SettingsSection__header--34nNe",headerText:"SettingsSection__headerText--3_nSJ",button:"SettingsSection__button--31RuD"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var n=r(3760);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return n.Layout}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var i=n(r(134)),o=n(r(324)),a=r(140),s=n(r(3761)),l=r(369);t.Layout=function(e){var t,r=e.selected,n=e.hint,u=e.children,c=e.onClick,d=e.label,f=e.testId,g=l.useThemesContext().isDark;return i.default.createElement(a.TooltipStateful,{view:"default",size:"s",state:"warning",direction:"top",className:s.default.hint,content:n},i.default.createElement("div",{role:"radio","aria-checked":r,"aria-label":d,tabIndex:0,className:o.default(s.default.pane,(t={},t[s.default.selected]=r,t[s.default.dark]=g,t)),onClick:c,"data-testid":f},u))}},function(e,t){e.exports={pane:"Layout__pane--11cm4",dark:"Layout__dark--2_ffv",selected:"Layout__selected--2Ksdw",hint:"Layout__hint--EmyFv"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=t.SettingsCheckbox=t.CompactLeftColumnCheckbox=void 0;var n=r(3763);Object.defineProperty(t,"CompactLeftColumnCheckbox",{enumerable:!0,get:function(){return n.CompactLeftColumnCheckbox}});var i=r(3844);Object.defineProperty(t,"SettingsCheckbox",{enumerable:!0,get:function(){return i.SettingsCheckbox}});var o=r(3845);Object.defineProperty(t,"SettingsCheckboxesContainer",{enumerable:!0,get:function(){return o.SettingsCheckboxesContainer}})},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},l=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompactLeftColumnCheckbox=void 0;var c=a(r(134)),d=r(323),f=u(r(324)),g=r(145),p=r(86),m=r(412),h=r(1468),v=r(476),b=r(3843),_=u(r(1065)),y=d.compose(h.withLinesMulti)(g.Checkbox);t.CompactLeftColumnCheckbox=function(e){var t=e.metricName,r=e.className,i=s(e,["metricName","className"]),o=b.isCompactColumn(),a=l(c.useState(o),2),u=a[0],d=a[1],g=c.useCallback(function(e){v.logPopupMetric([m.HEADER_METRIKA_MAIN_SETTING,t,e.target.checked?m.STATE_ON:m.STATE_OFF]),p.toggleCompactLeftColumn(),d(e.target.checked),e.target.checked&&document.body.offsetWidth>document.documentElement.offsetWidth&&window.scrollTo({left:document.body.offsetWidth-document.documentElement.offsetWidth})},[t]);return c.useEffect(function(){d(o)},[o]),c.default.createElement(y,n({},i,{disabled:!b.isPageWithResizableLeftColumn(),size:"s",view:"default",onChange:g,checked:u,className:f.default(_.default.checkbox,r)}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompactColumn=function(){return Object(n.getLayoutResizeModel)().isCompactLeftColumn},t.isPageWithResizableLeftColumn=function(){return Daria.isPageWithResizableLeftColumn()};var n=r(86)},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckbox=void 0;var u=a(r(134)),c=r(323),d=l(r(324)),f=r(145),g=r(412),p=r(369),m=r(476),h=r(1468),v=c.compose(h.withLinesMulti)(f.Checkbox),b=l(r(1065));t.SettingsCheckbox=function(e){var t=e.name,r=e.invert,i=e.metricName,o=e.className,a=e.onChangeSuccess,l=s(e,["name","invert","metricName","className","onChangeSuccess"]),c=p.useSettingsContext(),f=c.settings,h=c.setSettings,_=u.useMemo(function(){var e=Boolean(f[t]);return r?!e:e},[r,t,f]),y=u.useCallback(function(e){var n;h(((n={})[t]=r?!e.target.checked:e.target.checked,n),a),m.logPopupMetric([g.HEADER_METRIKA_MAIN_SETTING,i,e.target.checked?g.STATE_ON:g.STATE_OFF])},[r,h,t,i,a]);return u.default.createElement(v,n({size:"s",view:"default"},l,{onChange:y,checked:_,className:d.default(b.default.checkbox,o)}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=void 0;var i=n(r(134)),o=n(r(1065));t.SettingsCheckboxesContainer=function(e){var t=e.children;return i.default.createElement("div",{className:o.default.container},t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"}));t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"1 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:11,fill:"#2E2F34"}),l=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"})),u=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),c=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),d=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),f=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),g=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c,d,f,g)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:12,fill:"#fff"}),l=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),u=a("rect",{opacity:.5,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#999"}),c=a("rect",{opacity:.3,x:58.115,y:26,width:22,height:2,rx:1,fill:"#999"}),d=a("rect",{opacity:.3,x:58.115,y:38,width:29,height:2,rx:1,fill:"#999"}),f=a("rect",{opacity:.3,x:58.115,y:32,width:38,height:2,rx:1,fill:"#999"}),g=a("rect",{opacity:.3,x:58.115,y:44,width:22,height:2,rx:1,fill:"#999"}),p=a("rect",{opacity:.3,x:58.115,y:61,width:10,height:2,rx:1,fill:"#999"}),m=a("rect",{opacity:.3,x:58.115,y:51,width:38,height:2,rx:1,fill:"#999"}),h=a("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),v=a("rect",{opacity:.3,x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#999"}),b=a("rect",{opacity:.3,x:69.231,y:18,width:9,height:2,rx:1,fill:"#999"}),_=a("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D9D9D9"});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c,d,f,g,p,m,h,v,b,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),_)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:12,fill:"#2E2F34"}),l=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),u=a("rect",{opacity:.7,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),c=a("rect",{x:58.115,y:26,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),d=a("rect",{x:58.115,y:38,width:29,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),f=a("rect",{x:58.115,y:32,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),g=a("rect",{x:58.115,y:44,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),p=a("rect",{x:58.115,y:61,width:10,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),m=a("rect",{x:58.115,y:51,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),h=a("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),v=a("rect",{x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),b=a("rect",{x:69.231,y:18,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),_=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),y=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),S=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),w=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),O=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),x=a("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:69,viewBox:"0 0 129 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c,d,f,g,p,m,h,v,b,_,y,S,w,O,x)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#fff"}),l=a("rect",{opacity:.5,x:23,y:38,width:58,height:4,rx:1.4,fill:"#999"}),u=a("rect",{opacity:.3,x:23,y:58,width:22,height:2,rx:1,fill:"#999"}),c=a("rect",{opacity:.3,x:23,y:63,width:58,height:2,rx:1,fill:"#999"}),d=a("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),f=a("rect",{opacity:.3,x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#999"}),g=a("rect",{opacity:.3,x:34.115,y:50,width:9,height:2,rx:1,fill:"#999"}),p=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),a("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:34,width:111.001,height:1,rx:.5}));t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c,d,f,g,p,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#2E2F34"}),l=a("rect",{opacity:.7,x:23,y:38,width:58,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),u=a("rect",{x:23,y:58,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),c=a("rect",{x:23,y:63,width:58,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),d=a("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),f=a("rect",{x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),g=a("rect",{x:34.115,y:50,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),p=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),a("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:34,width:111.001,height:1,rx:.5})),m=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),h=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),v=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),b=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),_=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,u,c,d,f,g,p,m,h,v,b,_)}},function(e,t){e.exports={displaySwitchContainer:"SettingsDisplay__displaySwitchContainer--3uR-v",item:"SettingsDisplay__item--37Zd7",checkbox:"SettingsDisplay__checkbox--1M6X3",svg:"SettingsDisplay__svg--2-J1m"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var n=r(3854);Object.defineProperty(t,"SettingsThemes",{enumerable:!0,get:function(){return n.SettingsThemes}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var u=o(r(134)),c=l(r(331)),d=r(551),f=r(1051),g=r(1470),p=r(1063),m=r(369),h=r(86),v=r(333),b=l(r(3860)),_=[{theme:d.ThemeName.GeneralDefault,displayed:!0},{theme:d.ThemeName.GeneralNewYear2024,displayed:f.isThemeAvailable(d.ThemeName.GeneralNewYear2024,new Date(v.promoNow()))},{theme:d.ThemeName.GeneralFlow,displayed:!0},{theme:d.ThemeName.GeneralDarkflow,displayed:!0},{theme:d.ThemeName.GeneralGrass,displayed:!f.isThemeAvailable(d.ThemeName.GeneralNewYear2024,new Date(v.promoNow()))}].filter(function(e){return e.displayed}).map(function(e){return e.theme}),y=_.filter(function(e){return e!==d.ThemeName.GeneralDefault});t.SettingsThemes=function(e){var t=e.onShowAll,r=e.buttonRef,n=m.useThemesContext(),i=n.currentTheme,o=n.currentThemeProps,a=h.getVideoBgSwitch(),l=u.useMemo(function(){return _.includes(i)||o.isDark?_:s([i],y)},[i,o.isDark]),d=u.useMemo(function(){return{onClick:t,children:u.default.createElement(c.default,{loc:"settings-popup-react/showAllThemesButton"}),controlRef:r}},[r,t]);return u.default.createElement(p.SettingsSection,{title:u.default.createElement(c.default,{loc:"settings-popup-react/themesSectionTitle"}),button:d,testId:"settings-popup-main-themes"},u.default.createElement("div",{className:b.default.videoBg},u.default.createElement(a,null)),u.default.createElement(g.ThemesWithScope,{themes:l}))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var l=o(r(134)),u=o(r(335)),c=r(369),d=r(674),f=r(1465),g=r(86),p=s(r(3856)),m=r(675),h=r(1066),v=r(476);t.ThemesWithScope=function(e){var t=e.themes,n=c.useThemesContext(),i=n.generalThemes,o=n.currentTheme,s=n.currentThemeProps,b=n.orderedThemes,_=n.setTheme,y=n.getThemeThumbnail,S=n.preloadTheme,w=g.getThemeCard(),O=l.useCallback(function(e){return e===o},[o]),x=l.useCallback(function(e){return function(){return S(e)}},[S]),M=l.useMemo(function(){return o===f.ColorfulThemeName?l.default.createElement(f.ThemeScopeColorful,null):o===f.SeasonsThemeName?l.default.createElement(f.ThemeScopeSeasons,null):o===f.WeatherThemeName?l.default.createElement(f.ThemeScopeWeather,null):s.isDark?l.default.createElement(f.ThemeScopeDark,null):null},[o,s.isDark]),P=l.useMemo(function(){return t.map(function(e){var t=i.find(function(t){return t.name===e}),r=b.find(function(t){return t.name===e});return t||r}).filter(m.isDefined)},[t,i,b]),D=l.useMemo(function(){return s.isDark?3:P.findIndex(function(e){return e.name===o})},[P,s.isDark,o]),E=a(l.useState(!1),2),T=E[0],C=E[1],k=l.useMemo(function(){return Boolean(M&&T)},[M,T]),A=l.useCallback(function(e){return function(){_(e),i.find(function(t){return t.name===e})||C(!0)}},[_,i]);return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:p.default.themes,role:"radiogroup","aria-label":u.default("settings-popup-react/themesSectionTitle")},P.map(function(e){return e.isGeneral?l.default.createElement(w,{key:e.name,themeName:e.name,className:p.default.card,selected:O(e.name),displayName:u.i18nSafeText(d.THEME_LOCALES[e.name],""),label:u.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:x(e.name),thumbnail:y(e.name),isVideo:!e.isDefault,show360Label:!0,background:v.getThemeBg(e.name)}):l.default.createElement(h.ThemeCard,{key:e.name,className:p.default.card,selected:O(e.name),displayName:u.i18nSafeText(d.THEME_LOCALES[e.name],""),label:u.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:x(e.name),onClick:A(e.name),thumbnail:y(e.name),themeName:e.name})}),P.length<4&&l.default.createElement(h.ThemeCard,{className:p.default.card,selected:s.isDark,displayName:u.i18nSafeText("settings-popup-react/darkThemes",""),onClick:A("cosmos"),thumbnail:r(3859),key:"cosmos",label:u.i18nSafeText(d.THEME_LOCALES.cosmos,""),themeName:"cosmos"})),l.default.createElement(f.ThemeScopeContainer,{isVisible:k,selectedIndex:D},M))}},function(e,t){e.exports={themes:"ThemesWithScope__themes--kIT3A",card:"ThemesWithScope__card--IlEXA"}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var i=n(r(134)),o=n(r(324)),a=r(137),s=n(r(3858));t.ThemeCard=function(e){var t,r=e.className,n=e.onClick,l=e.onHover,u=e.selected,c=e.displayName,d=e.thumbnail,f=e.label,g=e.themeName;return i.default.createElement("div",{onClick:n,onMouseOver:l,className:o.default(s.default.thumbnail,(t={},t[s.default.selected]=u,t),r),style:{backgroundImage:"url("+d+")"},role:"radio","aria-label":f,"aria-checked":u,tabIndex:0,"data-testid":"theme-card-"+g},i.default.createElement(a.Text,{className:s.default.label,overflow:"ellipsis",typography:"caption-m",align:"center"},c))}},function(e,t){e.exports={thumbnail:"ThemeCard__thumbnail--3Kn5x",selected:"ThemeCard__selected--3Mmcw",label:"ThemeCard__label--3N_nj",icon:"ThemeCard__icon--3yXVU",iconVideo:"ThemeCard__iconVideo--3BZIz",icon360:"ThemeCard__icon360--2ge7n"}},function(e,t,r){e.exports=r.p+"_/1f4d5baadd27593d42191d846e9ecb59-dark-meta.jpg"},function(e,t){e.exports={videoBg:"SettingsThemes__videoBg--3jwd6"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var n=r(3862);Object.defineProperty(t,"SettingsPromo",{enumerable:!0,get:function(){return n.SettingsPromo}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var i=n(r(134)),o=n(r(324)),a=r(3863),s=r(3865),l=n(r(748)),u=r(369),c=[{type:u.PromoType.BEAUTIFUL_EMAIL,component:a.PromoBeautifulEmail},{type:u.PromoType.SUBSCRIPTIONS,component:s.PromoSubscribes}];t.SettingsPromo=function(e){var t,r=u.useThemesContext().isDark,n=u.usePromoContext().promos;return i.default.createElement("div",{className:o.default(l.default.container,(t={},t[l.default.dark]=r,t))},c.map(function(t){var r=n[t.type];return r?i.default.createElement(t.component,{key:t.type,closePopup:e.closePopup,isNew:r.isNew}):null}))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoBeautifulEmail=void 0;var s=o(r(134)),l=a(r(331)),u=r(333),c=r(378),d=r(412),f=r(369),g=r(1471),p=a(r(748));t.PromoBeautifulEmail=function(e){var t=e.closePopup,r=e.isNew,n=f.usePromoContext(),i=n.beautifulEmail,o=n.markPromoViewed,a=s.useMemo(function(){return i?s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitleEnabled",params:{email:i}},s.default.createElement("span",{"data-ref":"email"})):s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitle"})},[i]),m=s.useMemo(function(){return c.hasSubscriptionWithDomain()?d.PREMIUM_USER:d.FREE_USER},[]),h=s.useCallback(function(){t(),o(f.PromoType.BEAUTIFUL_EMAIL)},[o,t]);return s.default.createElement(g.PromoItem,{className:p.default.email,caption:a,metricName:d.PROMO_BEAUTIFUL_EMAIL,userType:m,type:"link",url:u.getLinkToBeautifulEmail(),onClick:h,isNew:r,testId:"settings-popup-promo-beautiful-email"})}},function(e,t){e.exports={item:"SettingsPromo__item--3t0Fn",button:"SettingsPromo__button--2kcUQ",badge:"SettingsPromo__badge--3OBGW"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoSubscribes=void 0;var s=o(r(134)),l=a(r(331)),u=r(412),c=r(333),d=r(369),f=r(1471),g=a(r(748));t.PromoSubscribes=function(e){var t=e.closePopup,r=e.isNew,n=d.usePromoContext(),i=n.openSubscribesSettings,o=n.optinEnabled,a=n.subscriptionCounters,p=n.markPromoViewed,m=s.useMemo(function(){return o?u.PREMIUM_USER:c.hasProSubscription()?u.PAID_USER:u.FREE_USER},[o]),h=s.useCallback(function(){o&&(null===a||void 0===a?void 0:a.pending)?i({page:"pending"}):i(),t(),p(d.PromoType.SUBSCRIPTIONS)},[o,a,i,t,p]),v=s.useMemo(function(){return o&&(null===a||void 0===a?void 0:a.pending)?s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/newSubscribesCounter",params:{count:a.pending}}):s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/shortSubscribesTitle"})},[o,a]);return s.default.createElement(f.PromoItem,{className:g.default.subscribes,caption:v,metricName:u.OPT_IN_SUBSCRIPTIONS_METRIKA,userType:m,onClick:h,isNew:r,testId:"settings-popup-promo-subscribes"})}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsThemes=void 0;var s=o(r(134)),l=r(1384),u=a(r(331)),c=r(1063),d=a(r(1067)),f=r(3867),g=r(3871);t.MailSettingsThemes=function(e){var t=e.onHide,r=e.buttonRef,n=s.useCallback(function(){return t()},[t]),i=s.useMemo(function(){return{onClick:n,children:s.default.createElement(u.default,{loc:"settings-popup-react/collapseThemesButton"}),controlRef:r}},[r,n]);return s.default.createElement(c.SettingsSection,{className:d.default.themesSection,title:s.default.createElement(u.default,{loc:"settings-popup-react/themesSectionTitle"}),button:i,testId:"settings-popup-all-themes"},s.default.createElement(l.SmartScroll,{className:d.default.scrollRoot,containerClass:d.default.scrollContainer},s.default.createElement(f.GeneralThemes,null),s.default.createElement(g.MailThemes,null)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var n=r(3868);Object.defineProperty(t,"GeneralThemes",{enumerable:!0,get:function(){return n.GeneralThemes}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var i=n(r(134)),o=r(137),a=n(r(3869)),s=n(r(331)),l=r(335),u=r(369),c=r(674),d=n(r(3870)),f=r(1066),g=r(140),p=r(86),m=r(476);t.GeneralThemes=function(){var e=u.useThemesContext(),t=e.generalThemes,r=e.currentTheme,n=e.getThemeThumbnail,h=e.setTheme,v=p.getVideoBgSwitch(),b=p.getThemeCard();return i.default.createElement("section",null,i.default.createElement("header",{className:d.default.header},i.default.createElement("div",{className:d.default.text},i.default.createElement(o.Text,{typography:"body-short-m"},i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTitle"})),i.default.createElement(g.TooltipStateful,{className:d.default.tooltip,content:i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTooltip"}),state:"warning",size:"s",direction:"top",view:"default"},i.default.createElement("div",{className:d.default.info},i.default.createElement(a.default,null)))),i.default.createElement(v,null)),i.default.createElement("div",{className:d.default.cards,role:"radiogroup"},t.map(function(e){return e.isGeneral?i.default.createElement(b,{key:e.name,themeName:e.name,selected:r===e.name,displayName:l.i18nSafeText(c.THEME_LOCALES[e.name],""),label:l.i18nSafeText(c.THEME_LOCALES[e.name],""),thumbnail:n(e.name)||"",isVideo:!e.isDefault,show360Label:!1,background:m.getThemeBg(e.name),className:d.default.card}):i.default.createElement(f.ThemeCard,{key:e.name,selected:r===e.name,displayName:l.i18nSafeText(c.THEME_LOCALES[e.name],""),onClick:function(){return h(e.name)},thumbnail:n(e.name),isVideo:!0,themeName:e.name})})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(134);r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 118 0a8 8 0 010 16zm-.43-3.414c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 01-.243-.306l.077-.331a.35.35 0 01.272-.264l2.358-.473a.5.5 0 01.583.611l-.955 3.832a.19.19 0 00.329.17l.869-1.002a.325.325 0 01.511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.046-.26.046-.368 0-.504-.398-.933-1.102-.933-.673 0-1.193.383-1.346.995-.031.122-.046.26-.046.367z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={header:"GeneralThemes__header--3kspf",cards:"GeneralThemes__cards--WG4tQ",text:"GeneralThemes__text--TVFDk",info:"GeneralThemes__info--3HR-U",tooltip:"GeneralThemes__tooltip--2BhWW",card:"GeneralThemes__card--2gEjx"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var n=r(3872);Object.defineProperty(t,"MailThemes",{enumerable:!0,get:function(){return n.MailThemes}})},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var s=o(r(134)),l=a(r(331)),u=r(137),c=r(369),d=r(674),f=r(1066),g=r(1470),p=a(r(3873)),m=a(r(335)),h=["colorful","seasons","weather"];t.MailThemes=function(){var e=c.useThemesContext(),t=e.orderedThemes,r=e.currentTheme,n=e.getThemeThumbnail,i=e.setTheme,o=e.preloadTheme,a=s.useCallback(function(e){return function(){return i(e)}},[i]),v=s.useCallback(function(e){return e===r},[r]),b=s.useMemo(function(){return t.filter(function(e){return!e.isDark&&!h.includes(e.name)})},[t]);return s.default.createElement("section",null,s.default.createElement("header",{className:p.default.header},s.default.createElement(u.Text,{typography:"body-short-m"},s.default.createElement(l.default,{loc:"settings-popup-react/mailThemesSectionTitle"}))),s.default.createElement(g.ThemesWithScope,{themes:h}),s.default.createElement("div",{className:p.default.themes,role:"radiogroup"},b.map(function(e){return s.default.createElement(f.ThemeCard,{key:e.name,selected:v(e.name),displayName:s.default.createElement(l.default,{loc:d.THEME_LOCALES[e.name]}),onClick:a(e.name),thumbnail:n(e.name),onHover:function(){return o(e.name)},label:m.default(d.THEME_LOCALES[e.name]),themeName:e.name})})))}},function(e,t){e.exports={header:"MailThemes__header--obMi-",themes:"MailThemes__themes--I76PN"}},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(134),i=r.n(n),o=r(3875),a=r(327),s=r(370),l=r(552);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e){var t=Object(n.useMemo)(function(){return{routerService:Object(l.getRouterService)(),settingsService:Object(l.getSettingsService)(),searchLogService:Object(l.getSearchLogService)(),contactSuggestStore:Object(s.getContactSuggestStore)(),routerStore:Object(s.getRouterStore)()}},[]),r=Object(n.useCallback)(function(e){Daria.React._searchRef=e},[]);return i.a.createElement(a.Provider,t,i.a.createElement(o.a,u({},e,{ref:r})))};o.a},function(e,t,r){"use strict";var n,i,o,a,s,l=r(134),u=r.n(l),c=r(324),d=r.n(c),f=r(322),g=r.n(f),p=r(1459),m=r(135),h=r.n(m),v=r(333),b=r(580),_=r(741),y=r(949),S=r(325),w=r(327),O=r(380),x=r.n(O),M=r(3876),P=(r.n(M),r(747)),D=r(554),E=r(724),T=r(1079),C=r(772),k=r(337);r.n(k);function A(e){"@babel/helpers - typeof";return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var a=new Array(o),l=0;l<o;l++)a[l]=arguments[l+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function L(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var N=B(y.a,{}),U=Object(w.inject)("routerService","settingsService","searchLogService","contactSuggestStore","routerStore")(n=Object(w.observer)((a=o=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?F(e):t}(this,j(t).call(this,e,r)))._disposer=new x.a,n.componentDidMount=function(){var e=n.props.routerStore;n._disposer.add(F(n),[Object(S.reaction)(function(){return e.currentPage.params.q},function(){var t=e.currentPage.params.q;if(n.state.text!==t){if(n.setState({text:t||""}),!n._suggest)return;if(t)return void n._suggest.unfold();if(void 0===t)return void n._suggest.fold()}},{fireImmediately:!0})])},n.componentWillUnmount=function(){n._disposer.dispose(F(n))},n.state={},n._onFoldedChanged=n._onFoldedChanged.bind(F(n)),n._onTextChange=n._onTextChange.bind(F(n)),n._clearClick=n._clearClick.bind(F(n)),n._closeClick=n._closeClick.bind(F(n)),n._onSubmit=n._onSubmit.bind(F(n)),n._onTextChangeWithDelay=h.a.debounce(n._onTextChangeWithDelay,300),n._onActiveChange=n._onActiveChange.bind(F(n)),n._countOpen=n._countOpen.bind(F(n)),n._countCloseClick=n._countCloseClick.bind(F(n)),n._shouldFoldOnEsc=n._shouldFoldOnEsc.bind(F(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,u.a.Component),function(e,t,r){t&&I(e.prototype,t),r&&I(e,r)}(t,[{key:"_onFoldedChanged",value:function(e){Object(v.toggleSearchAppMode)(!e),this.props.contactSuggestStore.isFolded=e}},{key:"_onTextChange",value:function(e){this.setState({text:e}),this._onTextChangeWithDelay(e)}},{key:"_clearClick",value:function(){this.setState({text:""}),this.props.routerService.navigateToPage("abook",{q:""})}},{key:"_countCloseClick",value:function(){this.props.searchLogService.countSearchContactsSuggest(["close"])}},{key:"_closeClick",value:function(){this._suggest.fold(),this._countCloseClick()}},{key:"_onSubmit",value:function(){this.props.routerService.navigateToPage("abook",{q:this.state.text})}},{key:"_onActiveChange",value:function(e){e&&!this.state.text&&this._countOpen(),this._onSubmit()}},{key:"_onTextChangeWithDelay",value:function(e){var t=this.props.routerService;e&&(this.props.searchLogService.countSearchContactsSuggest(["search"]),t.navigateToPage("abook",{q:e},{shouldAddPageParams:!0}))}},{key:"_countOpen",value:function(){this.props.searchLogService.countSearchContactsSuggest(["open"])}},{key:"setFocusOnInput",value:function(){this._suggest&&this._suggest.focusInput()}},{key:"toggleFolded",value:function(e){this.props.contactSuggestStore.isFolded=e}},{key:"_shouldFoldOnEsc",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.settingsService,n=t.className,i=i18n("%Toolbar_Mobile_SearchMessages"),o=r.isCompactHeaderMode,a=Object(k.hasFeature)(k.Features.WEB_GLOBALBAR_VERTICAL),s=o||a;return B("div",{className:d()("mail-Search","mail-ContactsSuggest","js-mail-search",n)},void 0,B("div",{className:d()("mail-SearchContainer",{"is-in-compact-header":s,hasGlobalBar:a})},void 0,u.a.createElement(p.a,{ref:function(t){e._suggest=t},suggestQuery:this.state.text,isMobile:!1,isNarrow:!0,isCompact:o,toneDefault:"mail-suggest-themed",maxLength:_.d,clsActivator:"mail-GhostButton",runsInIE:b.default.isIE(),iconPosition:"right",keepExpanded:Boolean(this.state.text)||a,shouldFoldOnEsc:a?this._shouldFoldOnEsc:void 0,placeholderDefault:i,placeholderCustom:i,suggestItems:[],showClose:!0,onActiveChange:this._onActiveChange,onTextChange:this._onTextChange,onClearClick:this._clearClick,onCloseClick:a?this._closeClick:void 0,onFoldedChanged:this._onFoldedChanged,onSubmit:this._onSubmit,searchButtonText:i18n("%ServiceTabs__Search_Button"),renderItem:function(){},getShowText:function(){},handleItemSelect:function(){},removeSearchBubbleTitle:""}),N))}}]),t}(),o.propTypes={className:g.a.string,routerService:g.a.instanceOf(P.a).isRequired,settingsService:g.a.instanceOf(D.a).isRequired,searchLogService:g.a.instanceOf(E.a).isRequired,contactSuggestStore:g.a.instanceOf(T.a).isRequired,routerStore:g.a.instanceOf(C.a).isRequired},L((i=a).prototype,"_onFoldedChanged",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_onFoldedChanged"),i.prototype),L(i.prototype,"_onTextChange",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_onTextChange"),i.prototype),L(i.prototype,"_clearClick",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_clearClick"),i.prototype),L(i.prototype,"_closeClick",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_closeClick"),i.prototype),L(i.prototype,"toggleFolded",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"toggleFolded"),i.prototype),n=i))||n)||n;t.a=U},function(e,t){},function(e,t,r){var n={"./3pane-Attach.svg":3878,"./3pane-FolderOperations-Delete.svg":3879,"./3pane-FolderOperations-Read.svg":3880,"./3pane-FolderOperations-Selection.svg":3881,"./Abook-Birthday.svg":3882,"./Abook-Comment.svg":3883,"./Abook-Email.svg":3884,"./Abook-Filter.svg":3885,"./Abook-Group.svg":3886,"./Abook-Phone.svg":3887,"./Abook-at.svg":3888,"./Abook-calendar.svg":3889,"./Abook-staff.svg":3890,"./Abook-wiki.svg":3891,"./Add-Icon.svg":3892,"./AdvancedSearch_arrow.svg":3893,"./AdvancedSearch_attach.svg":3894,"./AdvancedSearch_attach_iconostasis.svg":3895,"./AdvancedSearch_calendar.svg":3896,"./AdvancedSearch_calendar_iconostasis.svg":3897,"./AdvancedSearch_checkbox.svg":3898,"./AdvancedSearch_folder.svg":3899,"./AdvancedSearch_folder_iconostasis.svg":3900,"./AdvancedSearch_from.svg":3901,"./AdvancedSearch_important.svg":3902,"./AdvancedSearch_self.svg":3903,"./AdvancedSearch_service.svg":3904,"./AdvancedSearch_service_iconostasis.svg":3905,"./AdvancedSearch_to.svg":3906,"./AdvancedSearch_unread.svg":3907,"./AdvancedSearch_user_iconostasis.svg":3908,"./Arrow-Left.svg":3909,"./Attach-Download.svg":3910,"./Attach-DownloadBig.svg":3911,"./Attach-DownloadSmall.svg":3912,"./Attach-Download_Disk.svg":3913,"./Attach-Preview.svg":3914,"./Attach_Info.svg":3915,"./Attention.svg":3916,"./Avatar_avia.svg":3917,"./Avatar_hotels.svg":3918,"./Avatar_meeting.svg":3919,"./Avatar_pkpass.svg":3920,"./Avatar_recieved.svg":3921,"./Avatar_reminder.svg":3922,"./Avatar_warning.svg":3923,"./BeautifulEmail-Connected.svg":3924,"./BeautifulEmail-Disconnected.svg":3925,"./BeautifulEmail-Failed.svg":3926,"./BeautifulEmail-NoInfo.svg":3927,"./Clear-16.svg":3928,"./Close.svg":3929,"./Close16.svg":3930,"./CloseBold.svg":3931,"./Close_round.svg":3932,"./Collectors-Promo-Button_gmail.svg":3933,"./Collectors-Promo-Button_hotmail.svg":3934,"./Collectors-Promo-Button_mail.svg":3935,"./Collectors-Promo-Button_rambler.svg":3936,"./Collectors-Promo-Button_yahoo.svg":3937,"./Compose-ArrowDown.svg":3938,"./Compose-ArrowUp.svg":3939,"./Compose-AttachComputer.svg":3940,"./Compose-AttachDisk.svg":3941,"./Compose-AttachLocal.svg":3942,"./Compose-AttachMail.svg":3943,"./Compose-Attachments-Collapse.svg":3944,"./Compose-Attachments-Disk.svg":3945,"./Compose-Attachments-Mail.svg":3946,"./Compose-Beta-Off.svg":3947,"./Compose-Beta-On.svg":3948,"./Compose-Clip.svg":3949,"./Compose-Clip_new.svg":3950,"./Compose-Close-Mobile.svg":3951,"./Compose-ClosePopup.svg":3952,"./Compose-Collapse.svg":3953,"./Compose-Cross.svg":3954,"./Compose-Delay.svg":3955,"./Compose-DelayedSending.svg":3956,"./Compose-DelayedSending_new.svg":3957,"./Compose-Delete.svg":3958,"./Compose-Disk_more.svg":3959,"./Compose-Done-Settings.svg":3960,"./Compose-Expand.svg":3961,"./Compose-Mail_more.svg":3962,"./Compose-MaximizeSquare.svg":3963,"./Compose-Minimize.svg":3964,"./Compose-Minus.svg":3965,"./Compose-More.svg":3966,"./Compose-MoreContacts.svg":3967,"./Compose-More_expanded.svg":3968,"./Compose-Notification.svg":3969,"./Compose-Notification_new.svg":3970,"./Compose-Notify.svg":3971,"./Compose-Plus.svg":3972,"./Compose-Remind.svg":3973,"./Compose-RemoveYabble.svg":3974,"./Compose-Sidebar.svg":3975,"./Compose-SmallDropdown.svg":3976,"./Compose-Spellcheck-En.svg":3977,"./Compose-Spellcheck-Ru.svg":3978,"./Compose-SuccessMark.svg":3979,"./Compose-Templates.svg":3980,"./Compose-ToolbarLetter.svg":3981,"./Compose-ToolbarMoney.svg":3982,"./Compose-ToolbarPostcard.svg":3983,"./Compose-ToolbarZp.svg":3984,"./Compose-Translate.svg":3985,"./Compose-WysiwygAttach.svg":3986,"./Compose-WysiwygFormattingOff.svg":3987,"./Compose-WysiwygFormattingOn.svg":3988,"./Compose-WysiwygOrthographyEng.svg":3989,"./Compose-WysiwygOrthographyRus.svg":3990,"./Compose-WysiwygTranslator.svg":3991,"./ComposeButton-Refresh.svg":3992,"./ComposeButton.svg":3993,"./ComposeManager-Arrow.svg":3994,"./ComposeReact-ArrowUp.svg":3995,"./ComposeReact-Autocomplete.svg":3996,"./ComposeReact-Delete.svg":3997,"./ComposeReact-Effects.svg":3998,"./ComposeReact-Expand.svg":3999,"./ComposeReact-Feedback.svg":4e3,"./ComposeReact-ImportantLabel.svg":4001,"./ComposeReact-InlineImage-Computer.svg":4002,"./ComposeReact-InlineImage-Link.svg":4003,"./ComposeReact-Label.svg":4004,"./ComposeReact-Label_more.svg":4005,"./ComposeReact-Signature.svg":4006,"./ComposeReact-SmartSubject.svg":4007,"./ComposeReact-Translate.svg":4008,"./ConnectService_admin.svg":4009,"./ConnectService_calendar.svg":4010,"./ConnectService_contacts.svg":4011,"./ConnectService_mail.svg":4012,"./ConnectService_main.svg":4013,"./ConnectService_people.svg":4014,"./ConnectService_wiki.svg":4015,"./ConnectService_yadisk.svg":4016,"./ConnectService_yamb.svg":4017,"./DiskResources-Back.svg":4018,"./DiskResources-Check.svg":4019,"./DiskResources-Folder.svg":4020,"./DiskResources-Information.svg":4021,"./DonePromo-QR-Signature.svg":4022,"./DragZones-Delete.svg":4023,"./DragZones-Read.svg":4024,"./DragZones-Unread.svg":4025,"./ExtendedSearch-Flag.svg":4026,"./ExtendedSearch-Unreads.svg":4027,"./File-Icon_ai.svg":4028,"./File-Icon_application.svg":4029,"./File-Icon_archive.svg":4030,"./File-Icon_audio.svg":4031,"./File-Icon_avi.svg":4032,"./File-Icon_bmp.svg":4033,"./File-Icon_book.svg":4034,"./File-Icon_cdr.svg":4035,"./File-Icon_csv.svg":4036,"./File-Icon_development.svg":4037,"./File-Icon_djvu.svg":4038,"./File-Icon_doc.svg":4039,"./File-Icon_eml.svg":4040,"./File-Icon_exe.svg":4041,"./File-Icon_executable.svg":4042,"./File-Icon_flash.svg":4043,"./File-Icon_fonts.svg":4044,"./File-Icon_general.svg":4045,"./File-Icon_gif.svg":4046,"./File-Icon_image.svg":4047,"./File-Icon_jpg.svg":4048,"./File-Icon_mail.svg":4049,"./File-Icon_mov.svg":4050,"./File-Icon_mp3.svg":4051,"./File-Icon_mp4.svg":4052,"./File-Icon_none.svg":4053,"./File-Icon_odp.svg":4054,"./File-Icon_ods.svg":4055,"./File-Icon_odt.svg":4056,"./File-Icon_pcx.svg":4057,"./File-Icon_pdf.svg":4058,"./File-Icon_pls.svg":4059,"./File-Icon_png.svg":4060,"./File-Icon_ppt.svg":4061,"./File-Icon_psd.svg":4062,"./File-Icon_rar.svg":4063,"./File-Icon_rtf.svg":4064,"./File-Icon_script.svg":4065,"./File-Icon_srt.svg":4066,"./File-Icon_text.svg":4067,"./File-Icon_tiff.svg":4068,"./File-Icon_txt.svg":4069,"./File-Icon_video.svg":4070,"./File-Icon_virus.svg":4071,"./File-Icon_wav.svg":4072,"./File-Icon_wma.svg":4073,"./File-Icon_wmv.svg":4074,"./File-Icon_xls.svg":4075,"./File-Icon_zip.svg":4076,"./Folder_archive.svg":4077,"./Folder_attach.svg":4078,"./Folder_draft.svg":4079,"./Folder_folder.svg":4080,"./Folder_important.svg":4081,"./Folder_important_new.svg":4082,"./Folder_inbox.svg":4083,"./Folder_notification.svg":4084,"./Folder_outbox.svg":4085,"./Folder_reply_later.svg":4086,"./Folder_restored.svg":4087,"./Folder_sent.svg":4088,"./Folder_spam.svg":4089,"./Folder_trash.svg":4090,"./Folder_unread.svg":4091,"./FoldersTabsPlaceholder-Picture_attachments-small.svg":4092,"./FoldersTabsPlaceholder-Picture_attachments.svg":4093,"./FoldersTabsPlaceholder-Picture_news-small.svg":4094,"./FoldersTabsPlaceholder-Picture_news.svg":4095,"./FoldersTabsPlaceholder-Picture_relevant-small.svg":4096,"./FoldersTabsPlaceholder-Picture_relevant.svg":4097,"./FoldersTabsPlaceholder-Picture_social-small.svg":4098,"./FoldersTabsPlaceholder-Picture_social.svg":4099,"./Footer-Android.svg":4100,"./Footer-Apple.svg":4101,"./GoToThread.svg":4102,"./Header-Bug.svg":4103,"./Header-Search.svg":4104,"./Header-Settings.svg":4105,"./Header-Themes.svg":4106,"./Help.svg":4107,"./ICS-Confirm.svg":4108,"./ICS-Decline.svg":4109,"./ICS-Owner.svg":4110,"./ICS-Question.svg":4111,"./ICS-Repeat.svg":4112,"./ICS-person.svg":4113,"./Icon-dkim-01.svg":4114,"./Icon-dkim-02.svg":4115,"./Icon-dkim-03.svg":4116,"./Inbox-BoldReadSwitch.svg":4117,"./Inbox-BoldReadSwitch_active.svg":4118,"./Inbox-CheckboxCheckMark-Small.svg":4119,"./Inbox-CheckboxCheckMark.svg":4120,"./Inbox-CleanFolder.svg":4121,"./Inbox-DelayMessage.svg":4122,"./Inbox-Deselect.svg":4123,"./Inbox-Flag.svg":4124,"./Inbox-LongLoad.svg":4125,"./Inbox-MuteThread.svg":4126,"./Inbox-ReadSwitch.svg":4127,"./Inbox-ReadSwitch_active.svg":4128,"./Inbox-Remind.svg":4129,"./Inbox-RepliedMessage.svg":4130,"./Inbox-RepliedMessageBoth.svg":4131,"./Inbox-RepliedMessageOther.svg":4132,"./Inbox-SelectAll.svg":4133,"./Inbox-SelectFolder.svg":4134,"./Inbox-Unread.svg":4135,"./InboxFilters-Attach.svg":4136,"./InboxFilters-Clock.svg":4137,"./InboxFilters-Clock_active.svg":4138,"./InboxFilters-Flag.svg":4139,"./InboxFilters-Inbox.svg":4140,"./InboxFilters-MailTypes-Hotels.svg":4141,"./InboxFilters-MailTypes-Inbox.svg":4142,"./InboxFilters-MailTypes-People.svg":4143,"./InboxFilters-MailTypes-Sale.svg":4144,"./InboxFilters-MailTypes-Social.svg":4145,"./InboxFilters-MailTypes-Ticket.svg":4146,"./InboxFilters-MailTypes-ZP.svg":4147,"./InboxFilters-Pin.svg":4148,"./InboxFilters-Pin_active.svg":4149,"./InboxFilters-Read.svg":4150,"./Info.svg":4151,"./Introduce-Folders-Tabs-Icon.svg":4152,"./Labels-AddButton.svg":4153,"./LeftColumn-Flag.svg":4154,"./Link-Earth.svg":4155,"./Locked.svg":4156,"./Mail-Question.svg":4157,"./MailProFloatButton.svg":4158,"./MainToolbar-AddBtn.svg":4159,"./MainToolbar-AddContact.svg":4160,"./MainToolbar-AddGroup.svg":4161,"./MainToolbar-AddTemplate.svg":4162,"./MainToolbar-Archive.svg":4163,"./MainToolbar-Attachment.svg":4164,"./MainToolbar-Compose.svg":4165,"./MainToolbar-Delete.svg":4166,"./MainToolbar-DeleteGroup.svg":4167,"./MainToolbar-Edit.svg":4168,"./MainToolbar-Folder.svg":4169,"./MainToolbar-Forward.svg":4170,"./MainToolbar-Important.svg":4171,"./MainToolbar-MagicFolder.svg":4172,"./MainToolbar-MagicTag.svg":4173,"./MainToolbar-MarkImportant.svg":4174,"./MainToolbar-MarkUnimportant.svg":4175,"./MainToolbar-Money.svg":4176,"./MainToolbar-More.svg":4177,"./MainToolbar-MoveUp.svg":4178,"./MainToolbar-MoveUpSmall.svg":4179,"./MainToolbar-Pin.svg":4180,"./MainToolbar-Pin_active.svg":4181,"./MainToolbar-Read.svg":4182,"./MainToolbar-Refresh.svg":4183,"./MainToolbar-Reply.svg":4184,"./MainToolbar-Reply_later.svg":4185,"./MainToolbar-Replyall.svg":4186,"./MainToolbar-Restored.svg":4187,"./MainToolbar-Search.svg":4188,"./MainToolbar-SmartForward.svg":4189,"./MainToolbar-Spam.svg":4190,"./MainToolbar-Tag.svg":4191,"./MainToolbar-Template.svg":4192,"./MainToolbar-Translate.svg":4193,"./MainToolbar-Unread.svg":4194,"./MainToolbar-Unspam.svg":4195,"./MainToolbar-Unsubscribe.svg":4196,"./MainToolbar-Unsubscribe_all.svg":4197,"./Message-CopyQuote.svg":4198,"./Message-Dkim_false.svg":4199,"./Message-Dkim_none.svg":4200,"./Message-Dkim_true.svg":4201,"./Message-DnD.svg":4202,"./Message-Expand.svg":4203,"./Message-Important.svg":4204,"./Message-Important_active.svg":4205,"./Message-InfoIcon.svg":4206,"./Message-InfoIconBig.svg":4207,"./Message-MarkImportant.svg":4208,"./Message-MarkUnimportant.svg":4209,"./Message-PrevNext.svg":4210,"./Message-Quotation.svg":4211,"./Message-RedAlert.svg":4212,"./Message-RightColumn-Letters.svg":4213,"./Message-RightColumn-Links.svg":4214,"./Message-RightColumn-Thread.svg":4215,"./Message-WidgetHoles.svg":4216,"./Message-YellowAlert.svg":4217,"./MessageToolbar-Clock.svg":4218,"./MessageToolbar-Compose.svg":4219,"./MessageToolbar-Delete.svg":4220,"./MessageToolbar-More.svg":4221,"./MessageToolbar-Pin.svg":4222,"./MessageToolbar-Pin_active.svg":4223,"./MessageToolbar-Reply.svg":4224,"./NewTabs-Default.svg":4225,"./NewTabs-News.svg":4226,"./NewTabs-Social.svg":4227,"./OAuthProviderLogo_gmail.svg":4228,"./OAuthProviderLogo_mailru.svg":4229,"./OAuthProviderLogo_outlook.svg":4230,"./OAuthProviderLogo_yamail.svg":4231,"./Pancakes.svg":4232,"./Priority-Star-Filled.svg":4233,"./Priority-Star-Outline.svg":4234,"./Priority-Star.svg":4235,"./Search-MailTypes-Hotel.svg":4236,"./Search-MailTypes-People.svg":4237,"./Search-MailTypes-Sale.svg":4238,"./Search-MailTypes-Social.svg":4239,"./Search-MailTypes-Ticket.svg":4240,"./Search-MailTypes-ZP.svg":4241,"./SearchSuggest-Attach.svg":4242,"./SearchSuggest-Close.svg":4243,"./SearchSuggest-Folder.svg":4244,"./SearchSuggest-History.svg":4245,"./SearchSuggest-History_2.svg":4246,"./SearchSuggest-Important.svg":4247,"./SearchSuggest-Label.svg":4248,"./SearchSuggest-Mail.svg":4249,"./SearchSuggest-Ql.svg":4250,"./SearchSuggest-Settings.svg":4251,"./SearchSuggest-Subject.svg":4252,"./SearchSuggest-Unread.svg":4253,"./SecurityLevel-low.svg":4254,"./SecurityLevel-middle.svg":4255,"./Service_admin.svg":4256,"./Service_afisha.svg":4257,"./Service_b2b_admin.svg":4258,"./Service_browser.svg":4259,"./Service_buy-pro.svg":4260,"./Service_calendar.svg":4261,"./Service_contacts.svg":4262,"./Service_direct.svg":4263,"./Service_dropdown-contacts.svg":4264,"./Service_images.svg":4265,"./Service_mail-corp.svg":4266,"./Service_mail-prod.svg":4267,"./Service_main.svg":4268,"./Service_maps.svg":4269,"./Service_market.svg":4270,"./Service_messenger.svg":4271,"./Service_metrika.svg":4272,"./Service_money.svg":4273,"./Service_music.svg":4274,"./Service_news.svg":4275,"./Service_notes.svg":4276,"./Service_people.svg":4277,"./Service_pogoda.svg":4278,"./Service_q.svg":4279,"./Service_search_en.svg":4280,"./Service_search_ru.svg":4281,"./Service_startrek.svg":4282,"./Service_stub_A.svg":4283,"./Service_stub_B.svg":4284,"./Service_stub_D.svg":4285,"./Service_stub_EE.svg":4286,"./Service_stub_G.svg":4287,"./Service_stub_J.svg":4288,"./Service_stub_L.svg":4289,"./Service_stub_O.svg":4290,"./Service_stub_P.svg":4291,"./Service_stub_S.svg":4292,"./Service_stub_T.svg":4293,"./Service_stub_Y.svg":4294,"./Service_stub_diary_en.svg":4295,"./Service_stub_diary_ru.svg":4296,"./Service_stub_doc_en.svg":4297,"./Service_stub_doc_ru.svg":4298,"./Service_stub_golem_en.svg":4299,"./Service_stub_golem_ru.svg":4300,"./Service_stub_idm_en.svg":4301,"./Service_stub_idm_ru.svg":4302,"./Service_stub_invite_en.svg":4303,"./Service_stub_invite_ru.svg":4304,"./Service_stub_jabber_en.svg":4305,"./Service_stub_jabber_ru.svg":4306,"./Service_stub_lego_en.svg":4307,"./Service_stub_lego_ru.svg":4308,"./Service_stub_lib_en.svg":4309,"./Service_stub_lib_ru.svg":4310,"./Service_stub_magazine_en.svg":4311,"./Service_stub_magazine_ru.svg":4312,"./Service_stub_ml_en.svg":4313,"./Service_stub_ml_ru.svg":4314,"./Service_stub_otrs_en.svg":4315,"./Service_stub_otrs_ru.svg":4316,"./Service_stub_planner_en.svg":4317,"./Service_stub_planner_ru.svg":4318,"./Service_stub_stat_en.svg":4319,"./Service_stub_stat_ru.svg":4320,"./Service_tv.svg":4321,"./Service_wiki.svg":4322,"./Service_yadisk.svg":4323,"./Service_yamb.svg":4324,"./Services-buy_pro.svg":4325,"./Settings-InterfaceSwitch.svg":4326,"./Settings.svg":4327,"./Settings_mail-pro.svg":4328,"./Settings_setup-abook.svg":4329,"./Settings_setup-backup.svg":4330,"./Settings_setup-beautiful-email.svg":4331,"./Settings_setup-collectors.svg":4332,"./Settings_setup-filters.svg":4333,"./Settings_setup-folders.svg":4334,"./Settings_setup-other.svg":4335,"./Settings_setup-security.svg":4336,"./Settings_setup-sender.svg":4337,"./Settings_setup-todo.svg":4338,"./Settings_setup-unsubscribe-filters.svg":4339,"./Settings_themes.svg":4340,"./Subscriptions-Cross.svg":4341,"./Subscriptions-Promo-Corner.svg":4342,"./Suggest-More.svg":4343,"./Telemost-Logo.svg":4344,"./Theme-Pin.svg":4345,"./Themes-AddImg.svg":4346,"./Themes-Edit.svg":4347,"./Themes-Seasons_autumn.svg":4348,"./Themes-Seasons_rotation.svg":4349,"./Themes-Seasons_spring.svg":4350,"./Themes-Seasons_summer.svg":4351,"./Themes-Seasons_winter.svg":4352,"./Timeline-Add-Event.svg":4353,"./Timeline-Attendees.svg":4354,"./Timeline-Calendar.svg":4355,"./Timeline-Location.svg":4356,"./Todo-Calendar.svg":4357,"./Todo-Circlemark.svg":4358,"./Todo-Edit.svg":4359,"./Todo-Letter.svg":4360,"./Todo-Mark.svg":4361,"./ToolbarOnSelection-Delete.svg":4362,"./ToolbarOnSelection-Reply.svg":4363,"./ToolbarOnSelection-SmallClock.svg":4364,"./Unlocked.svg":4365,"./UnsubscribeFilters-Done.svg":4366,"./UnsubscribeFilters-Error-sidebar.svg":4367,"./UnsubscribeFilters-Error.svg":4368,"./UnsubscribePopup-Done-big.svg":4369,"./ViewSettings-Icon.svg":4370,"./ViewSettings-InboxType_1.svg":4371,"./ViewSettings-InboxType_2.svg":4372,"./ViewSettings-InboxType_3.svg":4373,"./ViewSettings-LineHeight1.svg":4374,"./ViewSettings-LineHeight2.svg":4375,"./ViewSettings-LineHeight3.svg":4376,"./Widgets-Avatar-Calendar.svg":4377,"./Widgets-Avatar-Error.svg":4378,"./Widgets-Avatar-Reminder.svg":4379,"./Widgets-Done-big.svg":4380,"./Widgets-Done.svg":4381,"./Widgets-Person.svg":4382,"./Widgets-PlaneBothWays.svg":4383,"./Widgets-PlaneOneWay.svg":4384,"./Widgets-Print.svg":4385,"./Widgets_bounce-not-ok-dark.svg":4386,"./Widgets_bounce-not-ok-gray-dark.svg":4387,"./Widgets_bounce-not-ok-gray-light.svg":4388,"./Widgets_bounce-not-ok-light.svg":4389,"./Widgets_bounce-ok-dark.svg":4390,"./Widgets_bounce-ok-gray-dark.svg":4391,"./Widgets_bounce-ok-gray-light.svg":4392,"./Widgets_bounce-ok-light.svg":4393,"./Widgets_eshop-dark.svg":4394,"./Widgets_eshop-light.svg":4395,"./Widgets_hotels-dark.svg":4396,"./Widgets_hotels-light.svg":4397,"./Widgets_hotels-pink-dark.svg":4398,"./Widgets_hotels-pink-light.svg":4399,"./Widgets_tickets-dark.svg":4400,"./Widgets_tickets-light.svg":4401,"./Widgets_tracker.svg":4402,"./Widgets_trips-blue-dark.svg":4403,"./Widgets_trips-blue-light.svg":4404,"./Widgets_trips-dark.svg":4405,"./Widgets_trips-light.svg":4406,"./Wz-attachment.svg":4407,"./YaNotVerified.svg":4408,"./YaVerified.svg":4409,"./Yandex-header_settings.svg":4410,"./Yandex-header_themes.svg":4411};function i(e){return r(o(e))}function o(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=3877},function(e,t,r){e.exports={id:"svgicon-mail--3pane-Attach-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-Attach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--3pane-FolderOperations-Delete-usage",viewBox:"37 -1.5 25 28",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--3pane-FolderOperations-Read-usage",viewBox:"25.5 -2.5 28 28",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Read",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--3pane-FolderOperations-Selection-usage",viewBox:"25.5 -2.5 28 28",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Selection",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Birthday-usage",viewBox:"53.5 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Birthday",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Comment-usage",viewBox:"261 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Comment",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Email-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Email",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Filter-usage",viewBox:"0 0 15 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Filter",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Group-usage",viewBox:"81.5 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Group",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-Phone-usage",viewBox:"26.9 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Phone",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-at-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-at",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-calendar-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-staff-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-staff",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Abook-wiki-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-wiki",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Add-Icon-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Add-Icon",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_arrow-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_arrow",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_attach-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_attach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_attach_iconostasis-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_attach_iconostasis",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_calendar-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_calendar_iconostasis-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_calendar_iconostasis",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_checkbox-usage",viewBox:"0 0 10 8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_checkbox",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_folder-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_folder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_folder_iconostasis-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_folder_iconostasis",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_from-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_from",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_important-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_important",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_self-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_self",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_service-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_service",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_service_iconostasis-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_service_iconostasis",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_to-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_to",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_unread-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--AdvancedSearch_user_iconostasis-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_user_iconostasis",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Arrow-Left-usage",viewBox:"0 0 12 21",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Arrow-Left",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach-Download-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach-DownloadBig-usage",viewBox:"0 0 12 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadBig",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach-DownloadSmall-usage",viewBox:"0 0 10 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadSmall",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach-Download_Disk-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download_Disk",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach-Preview-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Preview",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attach_Info-usage",viewBox:"-32 280.5 8 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach_Info",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Attention-usage",viewBox:"0 0 27 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attention",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_avia-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_avia",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_hotels-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_hotels",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_meeting-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_meeting",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_pkpass-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_pkpass",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_recieved-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_recieved",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_reminder-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_reminder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Avatar_warning-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_warning",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--BeautifulEmail-Connected-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Connected",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--BeautifulEmail-Disconnected-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Disconnected",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--BeautifulEmail-Failed-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Failed",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--BeautifulEmail-NoInfo-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-NoInfo",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Clear-16-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Clear-16",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Close-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Close16-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close16",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--CloseBold-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--CloseBold",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Close_round-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close_round",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Collectors-Promo-Button_gmail-usage",viewBox:"0 0 16 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_gmail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Collectors-Promo-Button_hotmail-usage",viewBox:"0 0 104 105",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_hotmail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Collectors-Promo-Button_mail-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_mail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Collectors-Promo-Button_rambler-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_rambler",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Collectors-Promo-Button_yahoo-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_yahoo",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ArrowDown-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowDown",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ArrowUp-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowUp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-AttachComputer-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachComputer",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-AttachDisk-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachDisk",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-AttachLocal-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachLocal",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-AttachMail-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachMail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Attachments-Collapse-usage",viewBox:"0 0 22 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Collapse",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Attachments-Disk-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Disk",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Attachments-Mail-usage",viewBox:"0 0 20 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Mail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Beta-Off-usage",viewBox:"0 0 23 19",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-Off",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Beta-On-usage",viewBox:"0 0 11 21",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-On",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Clip-usage",viewBox:"0 0 22 22",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Clip_new-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip_new",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Close-Mobile-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Close-Mobile",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ClosePopup-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ClosePopup",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Collapse-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Collapse",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Cross-usage",viewBox:"0 0 8 8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Cross",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Delay-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delay",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-DelayedSending-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-DelayedSending_new-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending_new",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Delete-usage",viewBox:"0 841.9 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Disk_more-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Disk_more",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Done-Settings-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Done-Settings",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Expand-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Expand",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Mail_more-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Mail_more",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-MaximizeSquare-usage",viewBox:"-3 -3 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MaximizeSquare",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Minimize-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minimize",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Minus-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minus",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-More-usage",viewBox:"0 0 4 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-MoreContacts-usage",viewBox:"0 0 26 26",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MoreContacts",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-More_expanded-usage",viewBox:"0 0 10 6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More_expanded",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Notification-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Notification_new-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification_new",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Notify-usage",viewBox:"0 0 18 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notify",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Plus-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Plus",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Remind-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Remind",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-RemoveYabble-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-RemoveYabble",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Sidebar-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Sidebar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-SmallDropdown-usage",viewBox:"0 0 8 4",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SmallDropdown",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Spellcheck-En-usage",viewBox:"0 0 31.3 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-En",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Spellcheck-Ru-usage",viewBox:"0 0 28 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-Ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-SuccessMark-usage",viewBox:"0 0 54 52",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SuccessMark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Templates-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Templates",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ToolbarLetter-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarLetter",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ToolbarMoney-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarMoney",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ToolbarPostcard-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarPostcard",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-ToolbarZp-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarZp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-Translate-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Translate",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygAttach-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygAttach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOff-usage",viewBox:"18.5 2.5 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOff",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOn-usage",viewBox:"18.5 -3.5 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOn",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyEng-usage",viewBox:"0 0 31.3 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyEng",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyRus-usage",viewBox:"0 0 28 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyRus",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Compose-WysiwygTranslator-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygTranslator",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeButton-Refresh-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton-Refresh",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeButton-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeManager-Arrow-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeManager-Arrow",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-ArrowUp-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ArrowUp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Autocomplete-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Autocomplete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Delete-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Effects-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Effects",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Expand-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Expand",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Feedback-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Feedback",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-ImportantLabel-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ImportantLabel",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Computer-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Computer",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Link-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Link",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Label-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Label_more-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label_more",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Signature-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Signature",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-SmartSubject-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-SmartSubject",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ComposeReact-Translate-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Translate",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_admin-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_admin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_calendar-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_contacts-usage",viewBox:"0 0 36 45",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_contacts",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_mail-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_mail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_main-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_main",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_people-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_people",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_wiki-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_wiki",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_yadisk-usage",viewBox:"0 0 48 31",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yadisk",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ConnectService_yamb-usage",viewBox:"0 0 45.4 45.4",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yamb",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DiskResources-Back-usage",viewBox:"0 0 17 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Back",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DiskResources-Check-usage",viewBox:"0 0 12 9",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Check",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DiskResources-Folder-usage",viewBox:"0 0 40 33",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Folder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DiskResources-Information-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Information",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DonePromo-QR-Signature-usage",viewBox:"0 0 63.9 66",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DonePromo-QR-Signature",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DragZones-Delete-usage",viewBox:"3 0.5 50 56",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DragZones-Read-usage",viewBox:"0 0 57 56",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Read",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--DragZones-Unread-usage",viewBox:"0 0 57 56",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ExtendedSearch-Flag-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Flag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ExtendedSearch-Unreads-usage",viewBox:"0 0 14 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Unreads",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_ai-usage",viewBox:"0 0 14 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ai",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_application-usage",viewBox:"0 0 17.2 14.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_application",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_archive-usage",viewBox:"0 0 6.9 21.7",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_archive",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_audio-usage",viewBox:"0 0 12.7 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_audio",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_avi-usage",viewBox:"0 0 15.3 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_avi",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_bmp-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_bmp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_book-usage",viewBox:"0 0 14.8 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_book",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_cdr-usage",viewBox:"0 0 13.6 17.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_cdr",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_csv-usage",viewBox:"0 0 12.3 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_csv",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_development-usage",viewBox:"0 0 16.3 10.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_development",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_djvu-usage",viewBox:"0 0 12.3 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_djvu",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_doc-usage",viewBox:"0 0 15.3 14.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_doc",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_eml-usage",viewBox:"0 0 14.8 13.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_eml",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_exe-usage",viewBox:"0 0 17.2 14.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_exe",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_executable-usage",viewBox:"0 0 17.2 14.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_executable",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_flash-usage",viewBox:"0 0 13.6 16.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_flash",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_fonts-usage",viewBox:"0 0 17.3 10.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_fonts",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_general-usage",viewBox:"0 0 12.7 17.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_general",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_gif-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_gif",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_image-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_image",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_jpg-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_jpg",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_mail-usage",viewBox:"0 0 14.8 13.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_mov-usage",viewBox:"0 0 13.6 13.4",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mov",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_mp3-usage",viewBox:"0 0 12.7 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp3",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_mp4-usage",viewBox:"0 0 15.3 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp4",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_none-usage",viewBox:"0 0 22.3 14.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_none",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_odp-usage",viewBox:"0 0 17.3 12.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_ods-usage",viewBox:"0 0 17.3 12.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ods",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_odt-usage",viewBox:"0 0 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odt",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_pcx-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pcx",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_pdf-usage",viewBox:"0 0 17.1 17.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pdf",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_pls-usage",viewBox:"0 0 12.7 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pls",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_png-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_png",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_ppt-usage",viewBox:"0 0 15.5 14.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ppt",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_psd-usage",viewBox:"0 0 14.8 12.5",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_psd",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_rar-usage",viewBox:"0 0 6.9 21.7",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_rtf-usage",viewBox:"0 0 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rtf",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_script-usage",viewBox:"0 0 16.3 10.1",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_script",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_srt-usage",viewBox:"0 0 15.3 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_srt",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_text-usage",viewBox:"0 0 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_text",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_tiff-usage",viewBox:"0 0 14.6 10.6",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_tiff",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_txt-usage",viewBox:"0 0 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_txt",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_video-usage",viewBox:"0 0 15.3 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_video",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_virus-usage",viewBox:"0 0 3.2 17.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_virus",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_wav-usage",viewBox:"0 0 12.7 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wav",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_wma-usage",viewBox:"0 0 12.7 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wma",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_wmv-usage",viewBox:"0 0 15.3 12.3",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wmv",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_xls-usage",viewBox:"0 0 15 14.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_xls",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--File-Icon_zip-usage",viewBox:"0 0 6.9 21.7",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_zip",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_archive-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_archive",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_attach-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_attach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_draft-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_draft",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_folder-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_folder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_important-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_important_new-usage",viewBox:"0 0 13 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important_new",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_inbox-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_inbox",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_notification-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_notification",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_outbox-usage",viewBox:"0 0 16 21",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_outbox",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_reply_later-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_reply_later",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_restored-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_restored",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_sent-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_sent",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_spam-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_spam",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_trash-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_trash",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Folder_unread-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small-usage",viewBox:"0 0 152 151",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-usage",viewBox:"0 0 318 316",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-small-usage",viewBox:"0 0 140 141",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news-small",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-usage",viewBox:"0 0 292 293",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small-usage",viewBox:"0 0 145 140",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-usage",viewBox:"0 0 303 291",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-small-usage",viewBox:"0 0 146 139",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social-small",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-usage",viewBox:"0 0 306 291",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Footer-Android-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Android",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Footer-Apple-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Apple",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--GoToThread-usage",viewBox:"0 0 13 13",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--GoToThread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Header-Bug-usage",viewBox:"-583 408.9 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Bug",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Header-Search-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Search",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Header-Settings-usage",viewBox:"1.5 2 20 19",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Settings",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Header-Themes-usage",viewBox:"4.5 1.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Themes",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Help-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Help",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-Confirm-usage",viewBox:"0 0 11 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Confirm",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-Decline-usage",viewBox:"0 0 11 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Decline",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-Owner-usage",viewBox:"0 0 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Owner",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-Question-usage",viewBox:"0 0 11 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Question",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-Repeat-usage",viewBox:"-2.5 -5.5 16 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Repeat",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ICS-person-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-person",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Icon-dkim-01-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-01",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Icon-dkim-02-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-02",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Icon-dkim-03-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-03",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch_active-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-Small-usage",viewBox:"0 0 12 9",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark-Small",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-CleanFolder-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CleanFolder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-DelayMessage-usage",viewBox:"-266 415.9 14 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-DelayMessage",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-Deselect-usage",viewBox:"0 0 18 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Deselect",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-Flag-usage",viewBox:"-93 97 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Flag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-LongLoad-usage",viewBox:"-87.5 -27.5 71 71",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-LongLoad",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-MuteThread-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-MuteThread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-ReadSwitch-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-ReadSwitch_active-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-Remind-usage",viewBox:"-2 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Remind",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-RepliedMessage-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessage",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-RepliedMessageBoth-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageBoth",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-RepliedMessageOther-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageOther",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-SelectAll-usage",viewBox:"0 0 18 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectAll",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-SelectFolder-usage",viewBox:"-512 99 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectFolder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Inbox-Unread-usage",viewBox:"-95 97 9 8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Attach-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Attach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Clock-usage",viewBox:"41.479 0.5 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Clock_active-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Flag-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Flag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Inbox-usage",viewBox:"3.5 2.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Inbox",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Hotels-usage",viewBox:"-1830.5 1003.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Hotels",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Inbox-usage",viewBox:"3.5 2.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Inbox",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-People-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-People",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Sale-usage",viewBox:"-1831.5 1003.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Social-usage",viewBox:"-1830.5 1003.5 18 17.8",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Social",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Ticket-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-ZP-usage",viewBox:"-1831.5 1003.5 18 17.9",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Pin-usage",viewBox:"0 0 15 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Pin_active-usage",viewBox:"0 0 15 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--InboxFilters-Read-usage",viewBox:"0 0 18 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Read",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Info-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Info",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Introduce-Folders-Tabs-Icon-usage",viewBox:"0 0 67 49",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Introduce-Folders-Tabs-Icon",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Labels-AddButton-usage",viewBox:"0 0 23 23",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Labels-AddButton",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--LeftColumn-Flag-usage",viewBox:"-95 96 9 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--LeftColumn-Flag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Link-Earth-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Link-Earth",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Locked-usage",viewBox:"0 0 15 15",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Locked",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Mail-Question-usage",viewBox:"0 0 11 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Mail-Question",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MailProFloatButton-usage",viewBox:"0 0 18 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MailProFloatButton",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-AddBtn-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddBtn",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-AddContact-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddContact",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-AddGroup-usage",viewBox:"0 0 16 17",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddGroup",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-AddTemplate-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddTemplate",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Archive-usage",viewBox:"0 -2 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Archive",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Attachment-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Attachment",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Compose-usage",viewBox:"0 0 17 17",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Compose",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Delete-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-DeleteGroup-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-DeleteGroup",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Edit-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Edit",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Folder-usage",viewBox:"0 0 16 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Folder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Forward-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Forward",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Important-usage",viewBox:"0 0 14 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Important",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MagicFolder-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicFolder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MagicTag-usage",viewBox:"0 0 15 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicTag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MarkImportant-usage",viewBox:"0 0 14 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkImportant",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MarkUnimportant-usage",viewBox:"0 0 14 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkUnimportant",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Money-usage",viewBox:"1 17 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Money",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-More-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-More",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MoveUp-usage",viewBox:"0 0 16 15",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-MoveUpSmall-usage",viewBox:"0 0 12 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUpSmall",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Pin-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Pin_active-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Read-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Read",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Refresh-usage",viewBox:"0 0 16 15",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Refresh",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Reply-usage",viewBox:"0 0 17 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Reply_later-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply_later",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Replyall-usage",viewBox:"0 0 23 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Replyall",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Restored-usage",viewBox:"0 0 16 17",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Restored",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Search-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Search",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-SmartForward-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-SmartForward",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Spam-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Spam",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Tag-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Tag",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Template-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Template",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Translate-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Translate",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Unread-usage",viewBox:"0 0 16 13",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Unspam-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unspam",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe_all-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe_all",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-CopyQuote-usage",viewBox:"-15 14 21 21",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-CopyQuote",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Dkim_false-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_false",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Dkim_none-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_none",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Dkim_true-usage",viewBox:"0 0 12 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_true",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-DnD-usage",viewBox:"0 0 6 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-DnD",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Expand-usage",viewBox:"0 0 12 7",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Expand",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Important-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Important_active-usage",viewBox:"0 0 12 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-InfoIcon-usage",viewBox:"-30.5 291.52 20.958 20.958",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIcon",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-InfoIconBig-usage",viewBox:"-58.5 273.5 36 36",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIconBig",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-MarkImportant-usage",viewBox:"0 0 12 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkImportant",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-MarkUnimportant-usage",viewBox:"0 0 12 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkUnimportant",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-PrevNext-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-PrevNext",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-Quotation-usage",viewBox:"0 0 11 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Quotation",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-RedAlert-usage",viewBox:"60.5 9 30 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RedAlert",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-RightColumn-Letters-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Letters",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-RightColumn-Links-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Links",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-RightColumn-Thread-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Thread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-WidgetHoles-usage",viewBox:"0 0 6 65",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-WidgetHoles",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Message-YellowAlert-usage",viewBox:"60.5 9 30 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-YellowAlert",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Clock-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Clock",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Compose-usage",viewBox:"0 841.9 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Compose",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Delete-usage",viewBox:"0 841.9 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-More-usage",viewBox:"0 841.9 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-More",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Pin-usage",viewBox:"1.5 1.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Pin_active-usage",viewBox:"10.5 2.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--MessageToolbar-Reply-usage",viewBox:"0 841.9 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Reply",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--NewTabs-Default-usage",viewBox:"0 0 14 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Default",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--NewTabs-News-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-News",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--NewTabs-Social-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Social",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--OAuthProviderLogo_gmail-usage",viewBox:"0 0 21 17",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_gmail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--OAuthProviderLogo_mailru-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_mailru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--OAuthProviderLogo_outlook-usage",viewBox:"0 0 19 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_outlook",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--OAuthProviderLogo_yamail-usage",viewBox:"0 0 21 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_yamail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Pancakes-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Pancakes",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Priority-Star-Filled-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Filled",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Priority-Star-Outline-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Outline",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Priority-Star-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-Hotel-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Hotel",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-People-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-People",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-Sale-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-Social-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Social",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-Ticket-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Search-MailTypes-ZP-usage",viewBox:"-1841.5 992.5 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Attach-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Attach",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Close-usage",viewBox:"0 0 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Close",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Folder-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Folder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-History-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-History_2-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History_2",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Important-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Important",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Label-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Label",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Mail-usage",viewBox:"0 0 18 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Mail",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Ql-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Ql",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Settings-usage",viewBox:"0 0 17 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Settings",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Subject-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Subject",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SearchSuggest-Unread-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Unread",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SecurityLevel-low-usage",viewBox:"0 0 28 29",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-low",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--SecurityLevel-middle-usage",viewBox:"0 0 28 29",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-middle",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_admin-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_admin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_afisha-usage",viewBox:"0 0 36 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_afisha",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_b2b_admin-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_b2b_admin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_browser-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_browser",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_buy-pro-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_buy-pro",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_calendar-usage",viewBox:"0 0 44 36",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_contacts-usage",viewBox:"0 0 42 33",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_contacts",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_direct-usage",viewBox:"0 0 40 39",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_direct",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_dropdown-contacts-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_dropdown-contacts",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_images-usage",viewBox:"0 0 52 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_images",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_mail-corp-usage",viewBox:"0 0 42 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-corp",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_mail-prod-usage",viewBox:"0 0 42 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-prod",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_main-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_main",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_maps-usage",viewBox:"0 0 30 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_maps",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_market-usage",viewBox:"0 0 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_market",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_messenger-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_messenger",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_metrika-usage",viewBox:"0 0 40 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_metrika",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_money-usage",viewBox:"0 0 36 46",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_money",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_music-usage",viewBox:"0 0 32 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_music",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_news-usage",viewBox:"0 0 48 36",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_news",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_notes-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_notes",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_people-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_people",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_pogoda-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_pogoda",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_q-usage",viewBox:"0 0 36 36",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_q",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_search_en-usage",viewBox:"0 0 22 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_search_ru-usage",viewBox:"0 0 19 40",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_startrek-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_startrek",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_A-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_A",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_B-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_B",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_D-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_D",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_EE-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_EE",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_G-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_G",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_J-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_J",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_L-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_L",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_O-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_O",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_P-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_P",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_S-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_S",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_T-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_T",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_Y-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_Y",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_diary_en-usage",viewBox:"0 0 43 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_diary_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_doc_en-usage",viewBox:"0 0 43 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_doc_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_golem_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_golem_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_idm_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_idm_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_invite_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_invite_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_jabber_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_jabber_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_lego_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_lego_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_lib_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_lib_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_magazine_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_magazine_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_ml_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_ml_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_otrs_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_otrs_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_planner_en-usage",viewBox:"0 0 43 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_planner_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_stat_en-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_en",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_stub_stat_ru-usage",viewBox:"0 0 42 42",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_ru",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_tv-usage",viewBox:"0 0 44 31",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_tv",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_wiki-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_wiki",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_yadisk-usage",viewBox:"0 0 48 32",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yadisk",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Service_yamb-usage",viewBox:"0 0 45.4 45.4",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yamb",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Services-buy_pro-usage",viewBox:"0 0 48 48",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Services-buy_pro",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings-InterfaceSwitch-usage",viewBox:"-25.5 30.5 18 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings-InterfaceSwitch",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_mail-pro-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_mail-pro",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-abook-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-abook",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-backup-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-backup",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-beautiful-email-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-beautiful-email",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-collectors-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-collectors",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-filters-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-filters",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-folders-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-folders",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-other-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-other",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-security-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-security",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-sender-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-sender",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-todo-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-todo",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_setup-unsubscribe-filters-usage",viewBox:"0 0 20 19",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-unsubscribe-filters",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Settings_themes-usage",viewBox:"0 0 20 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_themes",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Subscriptions-Cross-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Cross",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Subscriptions-Promo-Corner-usage",viewBox:"0 0 67 49",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Promo-Corner",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Suggest-More-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Suggest-More",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Telemost-Logo-usage",viewBox:"0 0 36 36",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Telemost-Logo",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Theme-Pin-usage",viewBox:"0 0 13 13",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Theme-Pin",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-AddImg-usage",viewBox:"25.5 16.5 63 44",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-AddImg",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Edit-usage",viewBox:"0 0 33.324 33.238",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Edit",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Seasons_autumn-usage",viewBox:"0 0 19 22",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_autumn",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Seasons_rotation-usage",viewBox:"0 0 18 20",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_rotation",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Seasons_spring-usage",viewBox:"0 0 16 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_spring",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Seasons_summer-usage",viewBox:"0 0 24 25",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_summer",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Themes-Seasons_winter-usage",viewBox:"0 0 22 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_winter",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Timeline-Add-Event-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Add-Event",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Timeline-Attendees-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Attendees",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Timeline-Calendar-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Timeline-Location-usage",viewBox:"0 0 10 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Location",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Todo-Calendar-usage",viewBox:"-3 3 14 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Todo-Circlemark-usage",viewBox:"-2 4 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Circlemark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Todo-Edit-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Edit",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Todo-Letter-usage",viewBox:"0 0 15 12",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Letter",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Todo-Mark-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Mark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ToolbarOnSelection-Delete-usage",viewBox:"-17.5 810.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Delete",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ToolbarOnSelection-Reply-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Reply",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ToolbarOnSelection-SmallClock-usage",viewBox:"40.479 -0.5 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-SmallClock",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Unlocked-usage",viewBox:"0 0 15 15",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Unlocked",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--UnsubscribeFilters-Done-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Done",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-sidebar-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error-sidebar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-usage",viewBox:"0 0 25 22",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--UnsubscribePopup-Done-big-usage",viewBox:"0 0 90 90",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribePopup-Done-big",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-Icon-usage",viewBox:"0 0 18 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-Icon",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-InboxType_1-usage",viewBox:"0 0 72 72",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_1",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-InboxType_2-usage",viewBox:"0 0 72 72",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_2",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-InboxType_3-usage",viewBox:"0 0 72 72",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_3",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-LineHeight1-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight1",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-LineHeight2-usage",viewBox:"0 0 16 17",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight2",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--ViewSettings-LineHeight3-usage",viewBox:"0 0 16 18",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight3",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Avatar-Calendar-usage",viewBox:"0 0 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Calendar",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Avatar-Error-usage",viewBox:"4.5 4.5 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Error",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Avatar-Reminder-usage",viewBox:"4.5 5.5 30 30",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Reminder",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Done-big-usage",viewBox:"0 0 91 91",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done-big",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Done-usage",viewBox:"0 0 25 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Person-usage",viewBox:"0 0 9 10",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Person",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-PlaneBothWays-usage",viewBox:"0 0 17 21",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneBothWays",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-PlaneOneWay-usage",viewBox:"1.5 1 12 11",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneOneWay",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets-Print-usage",viewBox:"0 0 15 14",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Print",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-ok-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_bounce-ok-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_eshop-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_eshop-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_hotels-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_hotels-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_hotels-pink-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_hotels-pink-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_tickets-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_tickets-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_tracker-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tracker",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_trips-blue-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_trips-blue-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_trips-dark-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-dark",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Widgets_trips-light-usage",viewBox:"0 0 38 38",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-light",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Wz-attachment-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Wz-attachment",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--YaNotVerified-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaNotVerified",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--YaVerified-usage",viewBox:"0 0 16 16",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaVerified",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Yandex-header_settings-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_settings",toString:function(){return this.url}}},function(e,t,r){e.exports={id:"svgicon-mail--Yandex-header_themes-usage",viewBox:"0 0 24 24",url:r.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_themes",toString:function(){return this.url}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),i=r(378);r.n(i);function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(){return(a=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(i.isAvailable)()&&Object(i.hasSubscriptionWithDomain)()&&!Object(i.getConnectedBeautifulEmail)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(n.e)(["beautiful-email.js"]);case 4:if((t=e.sent)&&t[0]){e.next=7;break}return e.abrupt("return",t);case 7:(0,t[0].pollDomainStatus.default)(!0);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}]));