/*! For license information please see 78a3d334975657e7acb3-33.js.LICENSE */
webpackJsonp([33],{202:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4414);i.n(n);Jane.module("message.js",function(){i(4415),i(4420),i(4436)})},4414:function(e,t){},4415:function(e,t,i){i(4416),i(4417),i(4418),i(4419)},4416:function(e,t){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(){var e=null;ns.events.on("b-mail-dropdown-closed",function(){e&&(e.removeClass("b-yabble b-yabble_contact b-yabble_selected"),e=null)}),Daria.actions.define("message.add-contact",function(e,t){t=t||{};var n=ns.request("abook-contact",{email:t.email}).then(function(e){var t=i(e,1)[0];return t&&t.data&&t.data.cid?t:null},function(){return null});Jane.Services.runModules(["abook.js"],function(){n.then(function(e){var i=Boolean(e),n=i&&(e.isShared()||e.isSharedLocal()),s={mail_addr:t.email,first_name:t.name,shared:n};return i?ns.Model.get("abook-person-manager").updatePerson(e,s):ns.Model.get("abook-person-manager").addPerson(s)}).then(function(e){ns.Model.invalidateAll("abook-contacts");var i=e[0].get(".cid");$(".b-message-head__contact").each(function(e,n){var s=ns.action.getParams(n);s.email!==t.email||s.cid||$(n).data("cid",i)})})}),$(document).trigger("b-mail-dropdown-closeall")})}(),Daria.actions.define("message.counter-filters-create",function(){return!0}),Daria.actions.define("message.counter-properties",function(){return!0})},4417:function(e,t){Daria.actions.define("attachments.image-preview-next",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer","Arrows show"),Jane.c("Images viewer","Click on arrows"),Daria.ImageViewer.next()}),Daria.actions.define("attachments.image-preview-prev",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer","Arrows show"),Jane.c("Images viewer","Click on arrows"),Daria.ImageViewer.prev()}),Daria.actions.define("attachments.image-preview-print",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer","Print"),Daria.Printer.printImage(t)}),Daria.actions.define("attachments.image-preview-gallery",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer",t.closer?"Click on gallery cross":"Show all"),Daria.ImageViewer.toggleGallery()}),Daria.actions.define("attachments.image-preview-select",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Daria.ImageViewer.select(Number(t.index)),Daria.ImageViewer.hideGallery()}),Daria.actions.define("attachments.image-preview-scroll",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Daria.ImageViewer.scrollGallery(Number(t.to))}),Daria.actions.define("attachments.image-preview-subject",function(e,t,i,n){n.preventDefault(),n.stopPropagation(),Jane.c("Images viewer","Click on subject"),Daria.Layer.close(),Daria.router.navigate(i.hash)}),Daria.actions.define("attachments.image-preview-download",function(e,t,i,n){return n.stopPropagation(),Jane.c("Images viewer",t.count),!0})},4418:function(e,t){Daria.actions.define("layer.close",function(){Daria.Layer.close()})},4419:function(e,t){Daria.actions.define("message.lists-add-from-message",function(e,t){Jane.Services.runModules(["setup.js"],function(){Daria.actions.run("filters.lists-add-from-message",t)})})},4420:function(e,t,i){i(4421),i(4422),i(4423),i(4424),i(4425),i(4426),i(4427),i(4428),i(4429),i(4430),i(4431),i(4432),i(4433),i(4434),i(4435)},4421:function(e,t){ns.Model.define("do-send-promise-sms",{params:{phone:null,offset:null}})},4422:function(e,t){ns.Model.define("do-unsubscribe",{params:{ids:null}})},4423:function(e,t){ns.Model.define("get-event",{params:{data:null}})},4424:function(e,t){ns.Model.define("get-event-ics",{params:{ids:null,stid:null,inc_hid:null}},"base-calendar-event")},4425:function(e,t){ns.Model.define("get-event-by-ics",{params:{uid:null,icsUrl:null}})},4426:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(136),s=(i.n(n),i(329));ns.Model.define("message-in-reply-to-ng",{params:{message_id:null,mailboxUid:null},paramsRewrite:s.addMailboxUidParamsRewrite,methods:{_sortByDateDesc:function(e,t){return e.date>t.date?-1:e.date<t.date?1:0},getLastDraft:function(){if(!this.isValid())return null;var e=ns.Model.get("folders").getFolderBySymbol(n.WellKnownFolderSymbol.DRAFT);if(!e)return null;var t=null,i=e.fid;return this.getData().envelopes.sort(this._sortByDateDesc).some(function(e){return e.fid===i&&(t=e,!0)}),t},getLastMessage:function(){if(!this.isValid())return null;var e=ns.Model.get("folders").getFolderBySymbol(n.WellKnownFolderSymbol.DRAFT),t=e&&e.fid,i=this.getData().envelopes.filter(function(e){return e.fid!==t}).sort(this._sortByDateDesc);return i&&i[0]}}})},4427:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(374),s=i(497);ns.Model.define("message-nearest",{params:{ids:null},methods:{preprocessData:function(e){return _.forEach(e.message,function(e){if(e.mid){var t=ns.Model.get("message",{ids:e.mid});t.isValid()||t.get(".current")||t.setData(e)}}),e},getNearestMessages:function(){var e={prev:null,current:null,next:null};return(this.get(".message")||[]).forEach(function(t){["next","prev","current"].forEach(function(i){t[i]&&(e[i]=t)})}),e},getNextMid:function(){return this.select(".message[.next].mid")[0]||null},getPreviousMid:function(){return this.select(".message[.prev].mid")[0]||null},canShowPrevNext:function(){var e=this.getNearestMessages();return e.prev||e.next},isNew:function(e){return ns.Model.get("message",{ids:e}).isNew()},getNearestMids:function(){return(this.get(".message")||[]).filter(function(e){return e.mid&&!e.current}).map(function(e){return e.mid})},setError:function(){this.scenarioManager.hasActiveScenario(n.c)&&this.scenarioManager.getActiveScenario(n.c).logError(s.e),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")},4428:function(e,t){ns.Model.define("message-thread-nearest",{events:{"ns-model-init":"_onInit"},params:{ids:null},methods:{_onInit:function(){this.setData({})},getNearestMessages:ns.Model.infoLite("message-nearest").methods.getNearestMessages}},ns.ModelStatic)},4429:function(e,t){ns.Model.define("message-widget-state",{params:{ids:null},events:{"ns-model-init":function(){this.setData({show:{"message-widget-translate":!1}})}},methods:{isViewUserClose:function(e){return Boolean(this.get("."+e+"-user-close"))},setViewUserClose:function(e){this.set("."+e+"-user-close",!0),this.setIfChanged(".show."+e,!1)},resetViewUserClose:function(e,t){this.set("."+e+"-user-close",!1,t),this.setIfChanged(".show."+e,!1,t)},show:function(e,t){this.set("."+e+"-user-close",!1),this.setIfChanged(".show."+e,!0,t)},isShow:function(e){return Boolean(this.get(".show."+e))}}},ns.ModelStatic)},4430:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(136);i.n(n);ns.Model.define("message-draft",{params:{ids:null},methods:{request:function(){return ns.request("message-body",this.params).then(this._requestMessageInReplyTo,this).then(this._requestDraftMessage,this).then(this._requestApplyData,this)},getDraftMid:function(){var e=this.get(".mid");if(e){var t=ns.Model.get("message",{ids:e});t.isValid()&&!t.isDraftLike()&&(e=void 0,this.setIfChanged(".mid",e))}return e},_requestMessageInReplyTo:function(e){var t=_.find(e,"id","message-body").get(".info.message-id");return t?new vow.Promise(function(e){ns.forcedRequest("message-in-reply-to-ng",{message_id:t}).then(function(t){var i=t[0].getLastDraft(),n=i&&i.mid;e(n)},function(){e()})}):vow.Promise.resolve()},_requestDraftMessage:function(e){return e?new vow.Promise(function(t){ns.request(["message","message-body"],{ids:e}).then(function(i){var s=_.find(i,"id","message").getFolderId();s&&ns.Model.get("folders").isFolder(s,n.DraftLikeFoldersShort)?t(e):t()},function(){t()})}):vow.Promise.resolve()},_requestApplyData:function(e){this.setData({mid:e})}}})},4431:function(e,t){Daria.InfiniteModelCollection=function(){},no.inherit(Daria.InfiniteModelCollection,ns.ModelCollection,{canLoadMore:function(){return Boolean(this.get(".details.canLoadMore"))},isEmpty:function(){return!this.models||!this.models.length},loadMore:function(){var e=0;this.isValid()?e=this.models.length:this.clear();var t=_.assign({},this.params,{first:e});return ns.request(this.id,t).then(function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var i=t.get(".details")||{},n=this.get(".details")||{},s=t.models;return this.set(".details",_.merge(n,i),{silent:!0}),this.insert(s),ns.Model.destroy(t),s},this)}})},4432:function(e,t){ns.Model.define("messages-from",{params:{first:null,from:null,mailboxUid:null},requiredFeatures:["web_search_extra_params"],split:{items:".envelopes",model_id:"messages-from-item",params:{ids:".mid"}}},Daria.InfiniteModelCollection)},4433:function(e,t){ns.Model.define("messages-from-item",{params:{ids:null},methods:{preprocessData:function(e){return e.subject&&"No subject"!==e.subject||(e.subject=i18n("%Без_темы")),e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp),e},hasRelativeTime:function(){return this.get(".date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".date.timestamp"));this.set(".date.view",e)}}})},4434:function(e,t){ns.Model.define("messages-thread-link",{params:{id:null},methods:{preprocessData:function(e){return e.host=$.url(e.src).Host,e}}})},4435:function(e,t){ns.Model.define("messages-thread-links",{params:{thread_id:null,first:null},requiredFeatures:["web_search_extra_params"],split:{items:".links",params:{id:".id"},model_id:"messages-thread-link"}},Daria.InfiniteModelCollection)},4436:function(e,t,i){Daria.message={},i(4437),i(4438),i(4439),i(4440)},4437:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(86);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Daria.ImageViewer={openImages:function(e,t){var i=this,n=this,s=$(window);$.isArray(e)?this.images=e:this.images=[],this.images.length&&(this.ppyrus=!1,this.images[0].mid||(this.ppyrus=!0),this.images=$.map(this.images,function(e){return n.getImageData(e)}),this.imgObjects={},this.$currentImage=null,this.$content=$(Jane.tt("message:image-viewer",{count:this.images.length,attachment:this.images})),this.$title=this.$content.find(".b-image-viewer__title"),this.$download=this.$content.find(".b-image-viewer__download"),this.$fullsize=this.$content.find(".b-image-viewer__fullsize"),this.$page=this.$content.find(".b-image-viewer__page"),this.$subject=this.$content.find(".b-image-viewer__subject"),this.$from=this.$content.find(".b-image-viewer__from"),this.$to=this.$content.find(".b-image-viewer__to"),this.$date=this.$content.find(".b-image-viewer__date"),this.$print=this.$content.find(".b-image-viewer__print"),this.$gallery=this.$content.find(".b-image-viewer__gallery-i"),this.ppyrus&&this.$content.find(".b-image-viewer__meta").hide(),this.originalScrollTop=s.scrollTop(),Daria.Layer.open({body:this.$content,onclose:function(){n.onclose()}}),1===this.images.length?this.$content.addClass("b-image-viewer_single"):Jane.c("Images viewer","Arrows show"),this.$content.addClass("b-image-viewer_loading"),this.updateLayout(),s.on("resize",this.onresize),this.$gallery.on("mousewheel",this.onmousewheel),setTimeout(function(){$(document).on("click",i.ondocumentclick)},0),$.Shortcuts.modalListOn("image-viewer"),isNaN(t)||"number"!=typeof t?this.currentIndex=0:(this.currentIndex=t,this.select(t)))},showSavePopup:function(e){if(!Object(n.getPddRestrictNotificationsModel)().showPopup()){var t=this.images[this.currentIndex];ns.View.create("disk-widget-save-popup").open({mid:t.mid,hid:t.hid,popup:{where:e,withTail:!1,appendTo:".js-image-viewer"},countLocationName:"in images viewer"}),Jane.c(["Attachments",'click on "save to disc"',"in images viewer"])}},open:function(e,t,i,n,s){this.mid=t,this.mailboxUid=s||null;var o=ns.Model.get("message-body",{ids:t,hid:n}),l=(o.data&&o.data.attachment&&o.data.attachment||[]).filter(function(e){return!e.inline&&"image"===e.class&&e["browser-supports"]}).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){a(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e,{mid:t})}),c=l.findIndex(function(e){return e.hid===i});this.openImages(l),this.select(c)},onclose:function(){var e=$(window);e.off("resize",this.onresize),$(document).off("click",this.ondocumentclick),this.$gallery.off("mousewheel",this.onmousewheel),$.Shortcuts.modalListOff("image-viewer"),"originalScrollTop"in this&&(e.scrollTop(this.originalScrollTop),delete this.originalScrollTop),this.images=[],this.imgObjects={},this.$currentImage=null,Jane.c("Images viewer","Close")},onresize:function(){var e=Daria.ImageViewer;e.$content.find(".b-image-viewer__container, .b-image-viewer__arrow").css({width:"",height:""}),e.updateLayout()},ondocumentclick:function(e){var t=$(e.target);t.closest(".b-image-viewer__gallery").length||Daria.ImageViewer.hideGallery(),t.closest(".b-image-viewer").length||Daria.Layer.close();var i=t.closest(".js-show-save-popup");i.length&&(e.preventDefault(),e.stopPropagation(),Daria.ImageViewer.showSavePopup(i.get(0)))},onmousewheel:function(e){var t=e.originalEvent;Daria.ImageViewer.scrollGallery(-t.wheelDelta||t.detail,50,!0)},updateImage:function(){var e=this.images[this.currentIndex];this.$currentImage&&this.$currentImage.removeClass("b-image-viewer__image_current"),this.createImage(this.currentIndex),this.createImage(this.getNextIndex(this.currentIndex)),this.createImage(this.getPrevIndex(this.currentIndex)),this.$currentImage=this.imgObjects[this.currentIndex],this.$currentImage.addClass("b-image-viewer__image_current"),this.$currentImage[0].complete?this.$content.removeClass("b-image-viewer_loading"):this.$content.addClass("b-image-viewer_loading"),this.$title.html(e.name),this.$title.attr("title",e.name),this.$download.attr("href",e.downloadUrl),this.$page.html(this.currentIndex+1),this.$subject.html(e.subject),this.$subject.attr("href",e.emailUrl),this.$from.html(e.from),this.$to.html(e.to),this.$date.html(e.date),this.$content.find(".b-image-viewer__preview").removeClass("b-image-viewer__preview_current"),this.$content.find(".b-image-viewer__preview_"+this.currentIndex).addClass("b-image-viewer__preview_current"),e.fullSizeUrl?(this.$print.attr("data-params","mid=".concat(this.mid,"&hid=").concat(e.hid,"&mailboxUid=").concat(this.mailboxUid)),this.$fullsize.attr("href",e.fullSizeUrl),this.$print.show(),this.$fullsize.show()):(this.$print.hide(),this.$fullsize.hide())},createImage:function(e){var t=this;if(!this.imgObjects[e]){this.$content.addClass("b-image-viewer_loading");var i=$('<img class="b-image-viewer__image">');i.appendTo(this.$content.find(".b-image-viewer__container")),i.one("load",function(){t.$currentImage&&t.$currentImage.length&&(t.$currentImage[0].complete?t.$content.removeClass("b-image-viewer_loading"):t.$content.addClass("b-image-viewer_loading"))});var n=this.images[e];n.fullSizeUrl?i.attr("src",n.fullSizeUrl):i.attr("src",n.downloadUrl),i.css({maxWidth:this.maxImageSize[0],maxHeight:this.maxImageSize[1]}),this.imgObjects[e]=i}},updateLayout:function(){var e=$(window),t=e.width()-185,i=e.height()-100;this.ppyrus||(i-=this.$content.find(".b-image-viewer__meta").height()),this.maxImageSize=[t,i];var n=t/3,s=2*n;this.$content.find(".b-image-viewer__content").css({width:e.width()-170}),this.$content.find(".b-image-viewer__container").css({width:t,lineHeight:i+"px"}),this.$content.find(".b-image-viewer__container, .b-image-viewer__arrow").css("height",i),this.$content.find(".b-image-viewer__image").css({maxWidth:t,maxHeight:i}),this.$content.find(".b-image-viewer__arrow_prev").css({width:n}),this.$content.find(".b-image-viewer__arrow_next").css({width:s,marginLeft:-s+"px",backgroundPosition:s-35+"px 50%"})},getImageData:function(e){var t,i,n,r,a,o,l,c;if("object"===s(e)&&e||(e={}),e.mid){var d=ns.Model.get("message",{ids:e.mid}),u=d.getEmails();t=Daria.url.attachment(e,e.mid),i=Daria.url.attachment(e,e.mid,{no_disposition:!0,exif_rotate:!0}),n=Daria.url.attachment(e,e.mid,{no_disposition:!0,thumb:!0,exif_rotate:!0}),r=u.from,a=u.to,o=_.escape(d.getSubject()),l="#message/"+e.mid,c=d.getDate()}else t=e.url,i=e.fullSizeUrl,n=e.thumbUrl,r=e.from||"",a=e.to||"",o=e.subject||"",l=e.emailUrl||"",c=e.date||"";return r=this.formatEmail(r),a=this.formatEmail(a),{name:_.escape(e.name),filename:_.escape(e.filename),downloadUrl:t,fullSizeUrl:i,thumbUrl:n,from:r,to:a,subject:o,emailUrl:l,date:c,mid:e.mid,hid:e.hid}},formatEmail:function(e){var t="";return e&&"object"==s(e)&&(t=_.escape(e.name||e.email),e.name&&e.email&&(t+=" &lt;"+_.escape(e.email)+"&gt;")),t},next:function(){this.currentIndex=this.getNextIndex(this.currentIndex),this.updateImage()},getNextIndex:function(e){var t=e+1;return t>=this.images.length&&(t=0),t},prev:function(){this.currentIndex=this.getPrevIndex(this.currentIndex),this.updateImage()},getPrevIndex:function(e){var t=e-1;return t<0&&(t=this.images.length-1),t},select:function(e){e>=0&&e<this.images.length&&(this.currentIndex=e,this.updateImage())},toggleGallery:function(){this.$content.toggleClass("b-image-viewer_gallery"),this.$gallery[0].scrollLeft=168*(this.currentIndex+1)-this.$gallery.width()/2,this.scrollGallery(1,1e-4,!0)},hideGallery:function(){this.$content.removeClass("b-image-viewer_gallery")},isGalleryOpen:function(){return this.$content.hasClass("b-image-viewer_gallery")},scrollGallery:function(e,t,i){t=t||800;var n=this.$gallery[0],s=n.scrollLeft+(e<0?-1:1)*t,r=this,a=function(){r.$content.find(".b-image-viewer__gallery-arrow").removeClass("b-image-viewer__gallery-arrow_disabled");var e=n.scrollLeft;0===e&&r.$content.find(".b-image-viewer__gallery-arrow_left").addClass("b-image-viewer__gallery-arrow_disabled"),e<s&&r.$content.find(".b-image-viewer__gallery-arrow_right").addClass("b-image-viewer__gallery-arrow_disabled")};i?n.scrollLeft=s:this.$gallery.animate({scrollLeft:s},500,"linear",a),a()},hasOpenedImages:function(){return Boolean(this.$currentImage)}}},4438:function(e,t){Daria.Layer={init:function(){this.$el=$('<div class="b-layer"><div class="b-layer__overlay"></div><div class="b-layer__content-wrap"><div class="b-layer__close ns-action" data-click-action="layer.close"></div><div class="b-layer__content"></div></div></div>'),this.$el.appendTo(document.body),this.$content=this.$el.find(".b-layer__content"),this.$window=$(window);var e=this;this.$window.resize(function(){e.opened&&e.$el.css({width:e.$window.width(),height:e.$window.height()})}),ns.events.on("ns-page-before-changed",function(){Daria.Layer.close()})},open:function(e){this.opened&&this.close(),this.opened=!0,this.$el||this.init(),this.onclose=e.onclose,this.$el.css({width:this.$window.width(),height:this.$window.height()}),this.$content.empty().append(e.body),window.scrollTo(0,0),$(document.documentElement).addClass("b-page_layer")},close:function(){this.opened=!1,$(document.documentElement).removeClass("b-page_layer"),"function"==typeof this.onclose&&this.onclose()}}},4439:function(e,t){!function(e){var t=function(t,i){this._$main=e(t),this._onViewScrollBinded=e.proxy(this._onViewScroll,this),this._$blocks=this._$main.on("scroll.fixedscroll",_.debounce(this.recalc.bind(this),50)).find(i).on("scroll.fixedscroll",this._onViewScrollBinded),this.recalc()};t.prototype={addBlock:function(e){return this._$blocks=this._$blocks.add(e),e.on("scroll.fixedscroll",this._onViewScrollBinded),this},destroy:function(){this._$main.off(".fixedscroll"),this._$blocks.off(".fixedscroll"),this._$scroller&&(this._$scroller.off(".fixedscroll").remove(),delete this._$scroller)},_getCustomScroller:function(t){return this._$scroller||t||(this._$scroller=e('<div class="jquery-fixedscroll" style="display: none;"><div class="jquery-fixedscroll__i"></div></div>').on("scroll.fixedscroll",e.proxy(this._onCustomScroll,this)).appendTo(this._$main)),this._$scroller},_onCustomScroll:function(e){this._curBlock&&(this._curBlock.scrollLeft=e.currentTarget.scrollLeft)},_onViewScroll:function(e){var t=e.currentTarget;this._curBlock&&this._curBlock===t&&this._getCustomScroller().scrollLeft(t.scrollLeft)},recalc:function(){for(var t=0,i=this._$blocks.length;t<i;t++){var n=this._$blocks[t];if(n.scrollWidth>n.offsetWidth){var s=e(n),r=this._$main.offset(),a=this._$main[0].scrollTop,o=s.offset().top-r.top+a,l=o+n.offsetHeight,c=a+this._$main[0].offsetHeight;if((a<=o&&o<=c||a>=o&&l>=c)&&!(a<=l&&l<=c)){this._setScroller(n);continue}}this._resetScroller(n)}},_setScroller:function(e){if(e!=this._curBlock||e.offsetWidth!=this._curBlockWidth){var t=this._getCustomScroller();this._curBlock=e,this._curBlockWidth=e.offsetWidth,t.width(this._curBlockWidth),t.find(":first").width(e.scrollWidth),t.show(),t.scrollLeft(e.scrollLeft)}},_resetScroller:function(e){if(e==this._curBlock){var t=this._getCustomScroller(!0);t&&t.hide(),delete this._curBlockWidth,delete this._curBlock}}},e.fn.fixedScroll=function(e){return new t(this,e)}}(jQuery)},4440:function(e,t){function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t=e.scrollTo=function(t,i,n){return e(window).scrollTo(t,i,n)};function n(t){return e.isFunction(t)||"object"==i(t)?t:{top:t,left:t}}t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==e.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var t=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==t.compatMode?t.body:t.documentElement})},e.fn.scrollTo=function(s,r,a){return"object"==i(r)&&(a=r,r=0),"function"==typeof a&&(a={onAfter:a}),"max"==s&&(s=9e9),a=e.extend({},t.defaults,a),r=r||a.duration,a.queue=a.queue&&a.axis.length>1,a.queue&&(r/=2),a.offset=n(a.offset),a.over=n(a.over),this._scrollable().each(function(){if(null!=s){var o,l=this,c=e(l),d=s,u={},h=c.is("html,body");switch(i(d)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)){d=n(d);break}if(!(d=h?e(d):e(d,this)).length)return;case"object":(d.is||d.style)&&(o=(d=e(d)).offset())}var m=e.isFunction(a.offset)&&a.offset(l,d)||a.offset;e.each(a.axis.split(""),function(e,i){var n="x"==i?"Left":"Top",s=n.toLowerCase(),r="scroll"+n,g=l[r],p=t.max(l,i);if(o)u[r]=o[s]+(h?0:g-c.offset()[s]),a.margin&&(u[r]-=parseInt(d.css("margin"+n))||0,u[r]-=parseInt(d.css("border"+n+"Width"))||0),u[r]+=m[s]||0,a.over[s]&&(u[r]+=d["x"==i?"width":"height"]()*a.over[s]);else{var v=d[s];u[r]=v.slice&&"%"==v.slice(-1)?parseFloat(v)/100*p:v}a.limit&&/^\d+$/.test(u[r])&&(u[r]=u[r]<=0?0:Math.min(u[r],p)),!e&&a.queue&&(g!=u[r]&&f(a.onAfterFirst),delete u[r])}),f(a.onAfter)}function f(e){c.animate(u,r,a.easing,e&&function(){e.call(this,d,a)})}}).end()},t.max=function(t,i){var n="x"==i?"Width":"Height",s="scroll"+n;if(!e(t).is("html,body"))return t[s]-e(t)[n.toLowerCase()]();var r="client"+n,a=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(a[s],o[s])-Math.min(a[r],o[r])}}(jQuery)}});